(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function W1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function H1(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var i=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};i.prototype=r.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var o=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:function(){return e[a]}})}),i}var Hu={exports:{}},os={},Qu={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eh;function Q1(){if(Eh)return Le;Eh=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,L={};function M(P,V,ue){this.props=P,this.context=V,this.refs=L,this.updater=ue||S}M.prototype.isReactComponent={},M.prototype.setState=function(P,V){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,V,"setState")},M.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function F(){}F.prototype=M.prototype;function N(P,V,ue){this.props=P,this.context=V,this.refs=L,this.updater=ue||S}var R=N.prototype=new F;R.constructor=N,C(R,M.prototype),R.isPureReactComponent=!0;var I=Array.isArray,Q=Object.prototype.hasOwnProperty,O={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function se(P,V,ue){var ie,ae={},ge=null,xe=null;if(V!=null)for(ie in V.ref!==void 0&&(xe=V.ref),V.key!==void 0&&(ge=""+V.key),V)Q.call(V,ie)&&!j.hasOwnProperty(ie)&&(ae[ie]=V[ie]);var ce=arguments.length-2;if(ce===1)ae.children=ue;else if(1<ce){for(var Se=Array(ce),de=0;de<ce;de++)Se[de]=arguments[de+2];ae.children=Se}if(P&&P.defaultProps)for(ie in ce=P.defaultProps,ce)ae[ie]===void 0&&(ae[ie]=ce[ie]);return{$$typeof:e,type:P,key:ge,ref:xe,props:ae,_owner:O.current}}function D(P,V){return{$$typeof:e,type:P.type,key:V,ref:P.ref,props:P.props,_owner:P._owner}}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function U(P){var V={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return V[ue]})}var K=/\/+/g;function Y(P,V){return typeof P=="object"&&P!==null&&P.key!=null?U(""+P.key):V.toString(36)}function ne(P,V,ue,ie,ae){var ge=typeof P;(ge==="undefined"||ge==="boolean")&&(P=null);var xe=!1;if(P===null)xe=!0;else switch(ge){case"string":case"number":xe=!0;break;case"object":switch(P.$$typeof){case e:case r:xe=!0}}if(xe)return xe=P,ae=ae(xe),P=ie===""?"."+Y(xe,0):ie,I(ae)?(ue="",P!=null&&(ue=P.replace(K,"$&/")+"/"),ne(ae,V,ue,"",function(de){return de})):ae!=null&&(x(ae)&&(ae=D(ae,ue+(!ae.key||xe&&xe.key===ae.key?"":(""+ae.key).replace(K,"$&/")+"/")+P)),V.push(ae)),1;if(xe=0,ie=ie===""?".":ie+":",I(P))for(var ce=0;ce<P.length;ce++){ge=P[ce];var Se=ie+Y(ge,ce);xe+=ne(ge,V,ue,Se,ae)}else if(Se=v(P),typeof Se=="function")for(P=Se.call(P),ce=0;!(ge=P.next()).done;)ge=ge.value,Se=ie+Y(ge,ce++),xe+=ne(ge,V,ue,Se,ae);else if(ge==="object")throw V=String(P),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return xe}function pe(P,V,ue){if(P==null)return P;var ie=[],ae=0;return ne(P,ie,"","",function(ge){return V.call(ue,ge,ae++)}),ie}function _e(P){if(P._status===-1){var V=P._result;V=V(),V.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=V)}if(P._status===1)return P._result.default;throw P._result}var fe={current:null},H={transition:null},J={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:H,ReactCurrentOwner:O};function X(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:pe,forEach:function(P,V,ue){pe(P,function(){V.apply(this,arguments)},ue)},count:function(P){var V=0;return pe(P,function(){V++}),V},toArray:function(P){return pe(P,function(V){return V})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Le.Component=M,Le.Fragment=i,Le.Profiler=o,Le.PureComponent=N,Le.StrictMode=a,Le.Suspense=d,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,Le.act=X,Le.cloneElement=function(P,V,ue){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ie=C({},P.props),ae=P.key,ge=P.ref,xe=P._owner;if(V!=null){if(V.ref!==void 0&&(ge=V.ref,xe=O.current),V.key!==void 0&&(ae=""+V.key),P.type&&P.type.defaultProps)var ce=P.type.defaultProps;for(Se in V)Q.call(V,Se)&&!j.hasOwnProperty(Se)&&(ie[Se]=V[Se]===void 0&&ce!==void 0?ce[Se]:V[Se])}var Se=arguments.length-2;if(Se===1)ie.children=ue;else if(1<Se){ce=Array(Se);for(var de=0;de<Se;de++)ce[de]=arguments[de+2];ie.children=ce}return{$$typeof:e,type:P.type,key:ae,ref:ge,props:ie,_owner:xe}},Le.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},Le.createElement=se,Le.createFactory=function(P){var V=se.bind(null,P);return V.type=P,V},Le.createRef=function(){return{current:null}},Le.forwardRef=function(P){return{$$typeof:f,render:P}},Le.isValidElement=x,Le.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:_e}},Le.memo=function(P,V){return{$$typeof:m,type:P,compare:V===void 0?null:V}},Le.startTransition=function(P){var V=H.transition;H.transition={};try{P()}finally{H.transition=V}},Le.unstable_act=X,Le.useCallback=function(P,V){return fe.current.useCallback(P,V)},Le.useContext=function(P){return fe.current.useContext(P)},Le.useDebugValue=function(){},Le.useDeferredValue=function(P){return fe.current.useDeferredValue(P)},Le.useEffect=function(P,V){return fe.current.useEffect(P,V)},Le.useId=function(){return fe.current.useId()},Le.useImperativeHandle=function(P,V,ue){return fe.current.useImperativeHandle(P,V,ue)},Le.useInsertionEffect=function(P,V){return fe.current.useInsertionEffect(P,V)},Le.useLayoutEffect=function(P,V){return fe.current.useLayoutEffect(P,V)},Le.useMemo=function(P,V){return fe.current.useMemo(P,V)},Le.useReducer=function(P,V,ue){return fe.current.useReducer(P,V,ue)},Le.useRef=function(P){return fe.current.useRef(P)},Le.useState=function(P){return fe.current.useState(P)},Le.useSyncExternalStore=function(P,V,ue){return fe.current.useSyncExternalStore(P,V,ue)},Le.useTransition=function(){return fe.current.useTransition()},Le.version="18.3.1",Le}var xh;function Cl(){return xh||(xh=1,Qu.exports=Q1()),Qu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function X1(){if(Sh)return os;Sh=1;var e=Cl(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(f,d,m){var g,y={},v=null,S=null;m!==void 0&&(v=""+m),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(S=d.ref);for(g in d)a.call(d,g)&&!u.hasOwnProperty(g)&&(y[g]=d[g]);if(f&&f.defaultProps)for(g in d=f.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:r,type:f,key:v,ref:S,props:y,_owner:o.current}}return os.Fragment=i,os.jsx=c,os.jsxs=c,os}var Mh;function K1(){return Mh||(Mh=1,Hu.exports=X1()),Hu.exports}var T=K1(),q=Cl();const za=W1(q);var Ua={},Xu={exports:{}},Ot={},Ku={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch;function J1(){return Ch||(Ch=1,(function(e){function r(H,J){var X=H.length;H.push(J);e:for(;0<X;){var P=X-1>>>1,V=H[P];if(0<o(V,J))H[P]=J,H[X]=V,X=P;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var J=H[0],X=H.pop();if(X!==J){H[0]=X;e:for(var P=0,V=H.length,ue=V>>>1;P<ue;){var ie=2*(P+1)-1,ae=H[ie],ge=ie+1,xe=H[ge];if(0>o(ae,X))ge<V&&0>o(xe,ae)?(H[P]=xe,H[ge]=X,P=ge):(H[P]=ae,H[ie]=X,P=ie);else if(ge<V&&0>o(xe,X))H[P]=xe,H[ge]=X,P=ge;else break e}}return J}function o(H,J){var X=H.sortIndex-J.sortIndex;return X!==0?X:H.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var d=[],m=[],g=1,y=null,v=3,S=!1,C=!1,L=!1,M=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(H){for(var J=i(m);J!==null;){if(J.callback===null)a(m);else if(J.startTime<=H)a(m),J.sortIndex=J.expirationTime,r(d,J);else break;J=i(m)}}function I(H){if(L=!1,R(H),!C)if(i(d)!==null)C=!0,_e(Q);else{var J=i(m);J!==null&&fe(I,J.startTime-H)}}function Q(H,J){C=!1,L&&(L=!1,F(se),se=-1),S=!0;var X=v;try{for(R(J),y=i(d);y!==null&&(!(y.expirationTime>J)||H&&!U());){var P=y.callback;if(typeof P=="function"){y.callback=null,v=y.priorityLevel;var V=P(y.expirationTime<=J);J=e.unstable_now(),typeof V=="function"?y.callback=V:y===i(d)&&a(d),R(J)}else a(d);y=i(d)}if(y!==null)var ue=!0;else{var ie=i(m);ie!==null&&fe(I,ie.startTime-J),ue=!1}return ue}finally{y=null,v=X,S=!1}}var O=!1,j=null,se=-1,D=5,x=-1;function U(){return!(e.unstable_now()-x<D)}function K(){if(j!==null){var H=e.unstable_now();x=H;var J=!0;try{J=j(!0,H)}finally{J?Y():(O=!1,j=null)}}else O=!1}var Y;if(typeof N=="function")Y=function(){N(K)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,pe=ne.port2;ne.port1.onmessage=K,Y=function(){pe.postMessage(null)}}else Y=function(){M(K,0)};function _e(H){j=H,O||(O=!0,Y())}function fe(H,J){se=M(function(){H(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){C||S||(C=!0,_e(Q))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return i(d)},e.unstable_next=function(H){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var X=v;v=J;try{return H()}finally{v=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=v;v=H;try{return J()}finally{v=X}},e.unstable_scheduleCallback=function(H,J,X){var P=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?P+X:P):X=P,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=X+V,H={id:g++,callback:J,priorityLevel:H,startTime:X,expirationTime:V,sortIndex:-1},X>P?(H.sortIndex=X,r(m,H),i(d)===null&&H===i(m)&&(L?(F(se),se=-1):L=!0,fe(I,X-P))):(H.sortIndex=V,r(d,H),C||S||(C=!0,_e(Q))),H},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(H){var J=v;return function(){var X=v;v=J;try{return H.apply(this,arguments)}finally{v=X}}}})(Ju)),Ju}var Ph;function Y1(){return Ph||(Ph=1,Ku.exports=J1()),Ku.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function Z1(){if(Ah)return Ot;Ah=1;var e=Cl(),r=Y1();function i(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(o[t]=n,t=0;t<n.length;t++)a.add(n[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(t){return d.call(y,t)?!0:d.call(g,t)?!1:m.test(t)?y[t]=!0:(g[t]=!0,!1)}function S(t,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C(t,n,s,l){if(n===null||typeof n>"u"||S(t,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function L(t,n,s,l,h,p,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=p,this.removeEmptyString=w}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){M[t]=new L(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];M[n]=new L(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){M[t]=new L(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){M[t]=new L(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){M[t]=new L(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){M[t]=new L(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){M[t]=new L(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){M[t]=new L(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){M[t]=new L(t,5,!1,t.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function N(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(F,N);M[n]=new L(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(F,N);M[n]=new L(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(F,N);M[n]=new L(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){M[t]=new L(t,1,!1,t.toLowerCase(),null,!1,!1)}),M.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){M[t]=new L(t,1,!1,t.toLowerCase(),null,!0,!0)});function R(t,n,s,l){var h=M.hasOwnProperty(n)?M[n]:null;(h!==null?h.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,s,h,l)&&(s=null),l||h===null?v(n)&&(s===null?t.removeAttribute(n):t.setAttribute(n,""+s)):h.mustUseProperty?t[h.propertyName]=s===null?h.type===3?!1:"":s:(n=h.attributeName,l=h.attributeNamespace,s===null?t.removeAttribute(n):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,l?t.setAttributeNS(l,n,s):t.setAttribute(n,s))))}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),O=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),U=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),H=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=H&&t[H]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,P;function V(t){if(P===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);P=n&&n[1]||""}return`
`+P+t}var ue=!1;function ie(t,n){if(!t||ue)return"";ue=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var l=W}Reflect.construct(t,[],n)}else{try{n.call()}catch(W){l=W}t.call(n.prototype)}else{try{throw Error()}catch(W){l=W}t()}}catch(W){if(W&&l&&typeof W.stack=="string"){for(var h=W.stack.split(`
`),p=l.stack.split(`
`),w=h.length-1,A=p.length-1;1<=w&&0<=A&&h[w]!==p[A];)A--;for(;1<=w&&0<=A;w--,A--)if(h[w]!==p[A]){if(w!==1||A!==1)do if(w--,A--,0>A||h[w]!==p[A]){var b=`
`+h[w].replace(" at new "," at ");return t.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",t.displayName)),b}while(1<=w&&0<=A);break}}}finally{ue=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?V(t):""}function ae(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=ie(t.type,!1),t;case 11:return t=ie(t.type.render,!1),t;case 1:return t=ie(t.type,!0),t;default:return""}}function ge(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case O:return"Portal";case D:return"Profiler";case se:return"StrictMode";case Y:return"Suspense";case ne:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case U:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case K:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pe:return n=t.displayName||null,n!==null?n:ge(t.type)||"Memo";case _e:n=t._payload,t=t._init;try{return ge(t(n))}catch{}}return null}function xe(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(n);case 8:return n===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ce(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Se(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function de(t){var n=Se(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,p=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(w){l=""+w,p.call(this,w)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ce(t){t._valueTracker||(t._valueTracker=de(t))}function Te(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Se(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function De(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fe(t,n){var s=n.checked;return X({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function it(t,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=ce(n.value!=null?n.value:s),t._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function be(t,n){n=n.checked,n!=null&&R(t,"checked",n,!1)}function kt(t,n){be(t,n);var s=ce(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?ut(t,n.type,s):n.hasOwnProperty("defaultValue")&&ut(t,n.type,ce(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Nt(t,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,s||n===t.value||(t.value=n),t.defaultValue=n}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function ut(t,n,s){(n!=="number"||De(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var Je=Array.isArray;function Re(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ce(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ie(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return X({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jt(t,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(i(92));if(Je(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}n==null&&(n=""),s=n}t._wrapperState={initialValue:ce(s)}}function Ut(t,n){var s=ce(n.value),l=ce(n.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),n.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),l!=null&&(t.defaultValue=""+l)}function Lr(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function Rr(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mr(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?Rr(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var cr,Mn=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,h){MSApp.execUnsafeLocalFunction(function(){return t(n,s,l,h)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(cr=cr||document.createElement("div"),cr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=cr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function fr(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Yt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gr=["Webkit","ms","Moz","O"];Object.keys(Yt).forEach(function(t){Gr.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Yt[n]=Yt[t]})});function Fr(t,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Yt.hasOwnProperty(t)&&Yt[t]?(""+n).trim():n+"px"}function Kr(t,n){t=t.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,h=Fr(s,n[s],l);s==="float"&&(s="cssFloat"),l?t.setProperty(s,h):t[s]=h}}var Cn=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Or(t,n){if(n){if(Cn[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Cr(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qt=null;function Pr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hr=null,Zt=null,_=null;function E(t){if(t=Wi(t)){if(typeof hr!="function")throw Error(i(280));var n=t.stateNode;n&&(n=ra(n),hr(t.stateNode,t.type,n))}}function k(t){Zt?_?_.push(t):_=[t]:Zt=t}function $(){if(Zt){var t=Zt,n=_;if(_=Zt=null,E(t),n)for(t=0;t<n.length;t++)E(n[t])}}function le(t,n){return t(n)}function ke(){}var Ue=!1;function dt(t,n,s){if(Ue)return t(n,s);Ue=!0;try{return le(t,n,s)}finally{Ue=!1,(Zt!==null||_!==null)&&(ke(),$())}}function pt(t,n){var s=t.stateNode;if(s===null)return null;var l=ra(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var er=!1;if(f)try{var St={};Object.defineProperty(St,"passive",{get:function(){er=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{er=!1}function Ir(t,n,s,l,h,p,w,A,b){var W=Array.prototype.slice.call(arguments,3);try{n.apply(s,W)}catch(te){this.onError(te)}}var $t=!1,tr=null,Mt=!1,dr=null,Pn={onError:function(t){$t=!0,tr=t}};function lt(t,n,s,l,h,p,w,A,b){$t=!1,tr=null,Ir.apply(Pn,arguments)}function Gs(t,n,s,l,h,p,w,A,b){if(lt.apply(this,arguments),$t){if($t){var W=tr;$t=!1,tr=null}else throw Error(i(198));Mt||(Mt=!0,dr=W)}}function bt(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function Ai(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function $l(t){if(bt(t)!==t)throw Error(i(188))}function r2(t){var n=t.alternate;if(!n){if(n=bt(t),n===null)throw Error(i(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===s)return $l(h),t;if(p===l)return $l(h),n;p=p.sibling}throw Error(i(188))}if(s.return!==l.return)s=h,l=p;else{for(var w=!1,A=h.child;A;){if(A===s){w=!0,s=h,l=p;break}if(A===l){w=!0,l=h,s=p;break}A=A.sibling}if(!w){for(A=p.child;A;){if(A===s){w=!0,s=p,l=h;break}if(A===l){w=!0,l=p,s=h;break}A=A.sibling}if(!w)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?t:n}function Vl(t){return t=r2(t),t!==null?Wl(t):null}function Wl(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Wl(t);if(n!==null)return n;t=t.sibling}return null}var Hl=r.unstable_scheduleCallback,Ql=r.unstable_cancelCallback,n2=r.unstable_shouldYield,i2=r.unstable_requestPaint,et=r.unstable_now,s2=r.unstable_getCurrentPriorityLevel,ho=r.unstable_ImmediatePriority,Xl=r.unstable_UserBlockingPriority,Fs=r.unstable_NormalPriority,a2=r.unstable_LowPriority,Kl=r.unstable_IdlePriority,Os=null,Ar=null;function o2(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(Os,t,void 0,(t.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:c2,u2=Math.log,l2=Math.LN2;function c2(t){return t>>>=0,t===0?32:31-(u2(t)/l2|0)|0}var Is=64,js=4194304;function Di(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,n){var s=t.pendingLanes;if(s===0)return 0;var l=0,h=t.suspendedLanes,p=t.pingedLanes,w=s&268435455;if(w!==0){var A=w&~h;A!==0?l=Di(A):(p&=w,p!==0&&(l=Di(p)))}else w=s&~h,w!==0?l=Di(w):p!==0&&(l=Di(p));if(l===0)return 0;if(n!==0&&n!==l&&(n&h)===0&&(h=l&-l,p=n&-n,h>=p||h===16&&(p&4194240)!==0))return n;if((l&4)!==0&&(l|=s&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=l;0<n;)s=31-pr(n),h=1<<s,l|=t[s],n&=~h;return l}function f2(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h2(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var w=31-pr(p),A=1<<w,b=h[w];b===-1?((A&s)===0||(A&l)!==0)&&(h[w]=f2(A,n)):b<=n&&(t.expiredLanes|=A),p&=~A}}function po(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jl(){var t=Is;return Is<<=1,(Is&4194240)===0&&(Is=64),t}function mo(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ki(t,n,s){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-pr(n),t[n]=s}function d2(t,n){var s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<s;){var h=31-pr(s),p=1<<h;n[h]=0,l[h]=-1,t[h]=-1,s&=~p}}function go(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-pr(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}var qe=0;function Yl(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Zl,yo,ec,tc,rc,vo=!1,zs=[],Jr=null,Yr=null,Zr=null,Ni=new Map,bi=new Map,en=[],p2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nc(t,n){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Ni.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(n.pointerId)}}function Ti(t,n,s,l,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},n!==null&&(n=Wi(n),n!==null&&yo(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function m2(t,n,s,l,h){switch(n){case"focusin":return Jr=Ti(Jr,t,n,s,l,h),!0;case"dragenter":return Yr=Ti(Yr,t,n,s,l,h),!0;case"mouseover":return Zr=Ti(Zr,t,n,s,l,h),!0;case"pointerover":var p=h.pointerId;return Ni.set(p,Ti(Ni.get(p)||null,t,n,s,l,h)),!0;case"gotpointercapture":return p=h.pointerId,bi.set(p,Ti(bi.get(p)||null,t,n,s,l,h)),!0}return!1}function ic(t){var n=An(t.target);if(n!==null){var s=bt(n);if(s!==null){if(n=s.tag,n===13){if(n=Ai(s),n!==null){t.blockedOn=n,rc(t.priority,function(){ec(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Us(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=wo(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);qt=l,s.target.dispatchEvent(l),qt=null}else return n=Wi(s),n!==null&&yo(n),t.blockedOn=s,!1;n.shift()}return!0}function sc(t,n,s){Us(t)&&s.delete(n)}function g2(){vo=!1,Jr!==null&&Us(Jr)&&(Jr=null),Yr!==null&&Us(Yr)&&(Yr=null),Zr!==null&&Us(Zr)&&(Zr=null),Ni.forEach(sc),bi.forEach(sc)}function Li(t,n){t.blockedOn===n&&(t.blockedOn=null,vo||(vo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,g2)))}function Ri(t){function n(h){return Li(h,t)}if(0<zs.length){Li(zs[0],t);for(var s=1;s<zs.length;s++){var l=zs[s];l.blockedOn===t&&(l.blockedOn=null)}}for(Jr!==null&&Li(Jr,t),Yr!==null&&Li(Yr,t),Zr!==null&&Li(Zr,t),Ni.forEach(n),bi.forEach(n),s=0;s<en.length;s++)l=en[s],l.blockedOn===t&&(l.blockedOn=null);for(;0<en.length&&(s=en[0],s.blockedOn===null);)ic(s),s.blockedOn===null&&en.shift()}var Wn=I.ReactCurrentBatchConfig,qs=!0;function y2(t,n,s,l){var h=qe,p=Wn.transition;Wn.transition=null;try{qe=1,_o(t,n,s,l)}finally{qe=h,Wn.transition=p}}function v2(t,n,s,l){var h=qe,p=Wn.transition;Wn.transition=null;try{qe=4,_o(t,n,s,l)}finally{qe=h,Wn.transition=p}}function _o(t,n,s,l){if(qs){var h=wo(t,n,s,l);if(h===null)Oo(t,n,l,$s,s),nc(t,l);else if(m2(h,t,n,s,l))l.stopPropagation();else if(nc(t,l),n&4&&-1<p2.indexOf(t)){for(;h!==null;){var p=Wi(h);if(p!==null&&Zl(p),p=wo(t,n,s,l),p===null&&Oo(t,n,l,$s,s),p===h)break;h=p}h!==null&&l.stopPropagation()}else Oo(t,n,l,null,s)}}var $s=null;function wo(t,n,s,l){if($s=null,t=Pr(l),t=An(t),t!==null)if(n=bt(t),n===null)t=null;else if(s=n.tag,s===13){if(t=Ai(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return $s=t,null}function ac(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s2()){case ho:return 1;case Xl:return 4;case Fs:case a2:return 16;case Kl:return 536870912;default:return 16}default:return 16}}var tn=null,Eo=null,Vs=null;function oc(){if(Vs)return Vs;var t,n=Eo,s=n.length,l,h="value"in tn?tn.value:tn.textContent,p=h.length;for(t=0;t<s&&n[t]===h[t];t++);var w=s-t;for(l=1;l<=w&&n[s-l]===h[p-l];l++);return Vs=h.slice(t,1<l?1-l:void 0)}function Ws(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hs(){return!0}function uc(){return!1}function Vt(t){function n(s,l,h,p,w){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(s=t[A],this[A]=s?s(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Hs:uc,this.isPropagationStopped=uc,this}return X(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),n}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Vt(Hn),Gi=X({},Hn,{view:0,detail:0}),_2=Vt(Gi),So,Mo,Fi,Qs=X({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fi&&(Fi&&t.type==="mousemove"?(So=t.screenX-Fi.screenX,Mo=t.screenY-Fi.screenY):Mo=So=0,Fi=t),So)},movementY:function(t){return"movementY"in t?t.movementY:Mo}}),lc=Vt(Qs),w2=X({},Qs,{dataTransfer:0}),E2=Vt(w2),x2=X({},Gi,{relatedTarget:0}),Co=Vt(x2),S2=X({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),M2=Vt(S2),C2=X({},Hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P2=Vt(C2),A2=X({},Hn,{data:0}),cc=Vt(A2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b2(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=N2[t])?!!n[t]:!1}function Po(){return b2}var T2=X({},Gi,{key:function(t){if(t.key){var n=D2[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(t){return t.type==="keypress"?Ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L2=Vt(T2),R2=X({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=Vt(R2),G2=X({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),F2=Vt(G2),O2=X({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),I2=Vt(O2),j2=X({},Qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B2=Vt(j2),z2=[9,13,27,32],Ao=f&&"CompositionEvent"in window,Oi=null;f&&"documentMode"in document&&(Oi=document.documentMode);var U2=f&&"TextEvent"in window&&!Oi,hc=f&&(!Ao||Oi&&8<Oi&&11>=Oi),dc=" ",pc=!1;function mc(t,n){switch(t){case"keyup":return z2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qn=!1;function q2(t,n){switch(t){case"compositionend":return gc(n);case"keypress":return n.which!==32?null:(pc=!0,dc);case"textInput":return t=n.data,t===dc&&pc?null:t;default:return null}}function $2(t,n){if(Qn)return t==="compositionend"||!Ao&&mc(t,n)?(t=oc(),Vs=Eo=tn=null,Qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return hc&&n.locale!=="ko"?null:n.data;default:return null}}var V2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!V2[t.type]:n==="textarea"}function vc(t,n,s,l){k(l),n=Zs(n,"onChange"),0<n.length&&(s=new xo("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ii=null,ji=null;function W2(t){Fc(t,0)}function Xs(t){var n=Zn(t);if(Te(n))return t}function H2(t,n){if(t==="change")return n}var _c=!1;if(f){var Do;if(f){var ko="oninput"in document;if(!ko){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),ko=typeof wc.oninput=="function"}Do=ko}else Do=!1;_c=Do&&(!document.documentMode||9<document.documentMode)}function Ec(){Ii&&(Ii.detachEvent("onpropertychange",xc),ji=Ii=null)}function xc(t){if(t.propertyName==="value"&&Xs(ji)){var n=[];vc(n,ji,t,Pr(t)),dt(W2,n)}}function Q2(t,n,s){t==="focusin"?(Ec(),Ii=n,ji=s,Ii.attachEvent("onpropertychange",xc)):t==="focusout"&&Ec()}function X2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xs(ji)}function K2(t,n){if(t==="click")return Xs(n)}function J2(t,n){if(t==="input"||t==="change")return Xs(n)}function Y2(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mr=typeof Object.is=="function"?Object.is:Y2;function Bi(t,n){if(mr(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!d.call(n,h)||!mr(t[h],n[h]))return!1}return!0}function Sc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mc(t,n){var s=Sc(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sc(s)}}function Cc(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Cc(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pc(){for(var t=window,n=De();n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=De(t.document)}return n}function No(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Z2(t){var n=Pc(),s=t.focusedElem,l=t.selectionRange;if(n!==s&&s&&s.ownerDocument&&Cc(s.ownerDocument.documentElement,s)){if(l!==null&&No(s)){if(n=l.start,t=l.end,t===void 0&&(t=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(t,s.value.length);else if(t=(n=s.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var h=s.textContent.length,p=Math.min(l.start,h);l=l.end===void 0?p:Math.min(l.end,h),!t.extend&&p>l&&(h=l,l=p,p=h),h=Mc(s,p);var w=Mc(s,l);h&&w&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),t.removeAllRanges(),p>l?(t.addRange(n),t.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),t.addRange(n)))}}for(n=[],t=s;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)t=n[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e1=f&&"documentMode"in document&&11>=document.documentMode,Xn=null,bo=null,zi=null,To=!1;function Ac(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;To||Xn==null||Xn!==De(l)||(l=Xn,"selectionStart"in l&&No(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zi&&Bi(zi,l)||(zi=l,l=Zs(bo,"onSelect"),0<l.length&&(n=new xo("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Xn)))}function Ks(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Kn={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},Lo={},Dc={};f&&(Dc=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Js(t){if(Lo[t])return Lo[t];if(!Kn[t])return t;var n=Kn[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Dc)return Lo[t]=n[s];return t}var kc=Js("animationend"),Nc=Js("animationiteration"),bc=Js("animationstart"),Tc=Js("transitionend"),Lc=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(t,n){Lc.set(t,n),u(n,[t])}for(var Ro=0;Ro<Rc.length;Ro++){var Go=Rc[Ro],t1=Go.toLowerCase(),r1=Go[0].toUpperCase()+Go.slice(1);rn(t1,"on"+r1)}rn(kc,"onAnimationEnd"),rn(Nc,"onAnimationIteration"),rn(bc,"onAnimationStart"),rn("dblclick","onDoubleClick"),rn("focusin","onFocus"),rn("focusout","onBlur"),rn(Tc,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function Gc(t,n,s){var l=t.type||"unknown-event";t.currentTarget=s,Gs(l,n,void 0,t),t.currentTarget=null}function Fc(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var p=void 0;if(n)for(var w=l.length-1;0<=w;w--){var A=l[w],b=A.instance,W=A.currentTarget;if(A=A.listener,b!==p&&h.isPropagationStopped())break e;Gc(h,A,W),p=b}else for(w=0;w<l.length;w++){if(A=l[w],b=A.instance,W=A.currentTarget,A=A.listener,b!==p&&h.isPropagationStopped())break e;Gc(h,A,W),p=b}}}if(Mt)throw t=dr,Mt=!1,dr=null,t}function Ve(t,n){var s=n[qo];s===void 0&&(s=n[qo]=new Set);var l=t+"__bubble";s.has(l)||(Oc(n,t,2,!1),s.add(l))}function Fo(t,n,s){var l=0;n&&(l|=4),Oc(s,t,l,n)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function qi(t){if(!t[Ys]){t[Ys]=!0,a.forEach(function(s){s!=="selectionchange"&&(n1.has(s)||Fo(s,!1,t),Fo(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ys]||(n[Ys]=!0,Fo("selectionchange",!1,n))}}function Oc(t,n,s,l){switch(ac(n)){case 1:var h=y2;break;case 4:h=v2;break;default:h=_o}s=h.bind(null,n,s,t),h=void 0,!er||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function Oo(t,n,s,l,h){var p=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var A=l.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(w===4)for(w=l.return;w!==null;){var b=w.tag;if((b===3||b===4)&&(b=w.stateNode.containerInfo,b===h||b.nodeType===8&&b.parentNode===h))return;w=w.return}for(;A!==null;){if(w=An(A),w===null)return;if(b=w.tag,b===5||b===6){l=p=w;continue e}A=A.parentNode}}l=l.return}dt(function(){var W=p,te=Pr(s),re=[];e:{var Z=Lc.get(t);if(Z!==void 0){var ye=xo,we=t;switch(t){case"keypress":if(Ws(s)===0)break e;case"keydown":case"keyup":ye=L2;break;case"focusin":we="focus",ye=Co;break;case"focusout":we="blur",ye=Co;break;case"beforeblur":case"afterblur":ye=Co;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=E2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=F2;break;case kc:case Nc:case bc:ye=M2;break;case Tc:ye=I2;break;case"scroll":ye=_2;break;case"wheel":ye=B2;break;case"copy":case"cut":case"paste":ye=P2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=fc}var Ee=(n&4)!==0,tt=!Ee&&t==="scroll",B=Ee?Z!==null?Z+"Capture":null:Z;Ee=[];for(var G=W,z;G!==null;){z=G;var oe=z.stateNode;if(z.tag===5&&oe!==null&&(z=oe,B!==null&&(oe=pt(G,B),oe!=null&&Ee.push($i(G,oe,z)))),tt)break;G=G.return}0<Ee.length&&(Z=new ye(Z,we,null,s,te),re.push({event:Z,listeners:Ee}))}}if((n&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",ye=t==="mouseout"||t==="pointerout",Z&&s!==qt&&(we=s.relatedTarget||s.fromElement)&&(An(we)||we[jr]))break e;if((ye||Z)&&(Z=te.window===te?te:(Z=te.ownerDocument)?Z.defaultView||Z.parentWindow:window,ye?(we=s.relatedTarget||s.toElement,ye=W,we=we?An(we):null,we!==null&&(tt=bt(we),we!==tt||we.tag!==5&&we.tag!==6)&&(we=null)):(ye=null,we=W),ye!==we)){if(Ee=lc,oe="onMouseLeave",B="onMouseEnter",G="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=fc,oe="onPointerLeave",B="onPointerEnter",G="pointer"),tt=ye==null?Z:Zn(ye),z=we==null?Z:Zn(we),Z=new Ee(oe,G+"leave",ye,s,te),Z.target=tt,Z.relatedTarget=z,oe=null,An(te)===W&&(Ee=new Ee(B,G+"enter",we,s,te),Ee.target=z,Ee.relatedTarget=tt,oe=Ee),tt=oe,ye&&we)t:{for(Ee=ye,B=we,G=0,z=Ee;z;z=Jn(z))G++;for(z=0,oe=B;oe;oe=Jn(oe))z++;for(;0<G-z;)Ee=Jn(Ee),G--;for(;0<z-G;)B=Jn(B),z--;for(;G--;){if(Ee===B||B!==null&&Ee===B.alternate)break t;Ee=Jn(Ee),B=Jn(B)}Ee=null}else Ee=null;ye!==null&&Ic(re,Z,ye,Ee,!1),we!==null&&tt!==null&&Ic(re,tt,we,Ee,!0)}}e:{if(Z=W?Zn(W):window,ye=Z.nodeName&&Z.nodeName.toLowerCase(),ye==="select"||ye==="input"&&Z.type==="file")var Me=H2;else if(yc(Z))if(_c)Me=J2;else{Me=X2;var Pe=Q2}else(ye=Z.nodeName)&&ye.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(Me=K2);if(Me&&(Me=Me(t,W))){vc(re,Me,s,te);break e}Pe&&Pe(t,Z,W),t==="focusout"&&(Pe=Z._wrapperState)&&Pe.controlled&&Z.type==="number"&&ut(Z,"number",Z.value)}switch(Pe=W?Zn(W):window,t){case"focusin":(yc(Pe)||Pe.contentEditable==="true")&&(Xn=Pe,bo=W,zi=null);break;case"focusout":zi=bo=Xn=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,Ac(re,s,te);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":Ac(re,s,te)}var Ae;if(Ao)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Qn?mc(t,s)&&(Ne="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(hc&&s.locale!=="ko"&&(Qn||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Qn&&(Ae=oc()):(tn=te,Eo="value"in tn?tn.value:tn.textContent,Qn=!0)),Pe=Zs(W,Ne),0<Pe.length&&(Ne=new cc(Ne,t,null,s,te),re.push({event:Ne,listeners:Pe}),Ae?Ne.data=Ae:(Ae=gc(s),Ae!==null&&(Ne.data=Ae)))),(Ae=U2?q2(t,s):$2(t,s))&&(W=Zs(W,"onBeforeInput"),0<W.length&&(te=new cc("onBeforeInput","beforeinput",null,s,te),re.push({event:te,listeners:W}),te.data=Ae))}Fc(re,n)})}function $i(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Zs(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=pt(t,s),p!=null&&l.unshift($i(t,p,h)),p=pt(t,n),p!=null&&l.push($i(t,p,h))),t=t.return}return l}function Jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ic(t,n,s,l,h){for(var p=n._reactName,w=[];s!==null&&s!==l;){var A=s,b=A.alternate,W=A.stateNode;if(b!==null&&b===l)break;A.tag===5&&W!==null&&(A=W,h?(b=pt(s,p),b!=null&&w.unshift($i(s,b,A))):h||(b=pt(s,p),b!=null&&w.push($i(s,b,A)))),s=s.return}w.length!==0&&t.push({event:n,listeners:w})}var i1=/\r\n?/g,s1=/\u0000|\uFFFD/g;function jc(t){return(typeof t=="string"?t:""+t).replace(i1,`
`).replace(s1,"")}function ea(t,n,s){if(n=jc(n),jc(t)!==n&&s)throw Error(i(425))}function ta(){}var Io=null,jo=null;function Bo(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zo=typeof setTimeout=="function"?setTimeout:void 0,a1=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,o1=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(t){return Bc.resolve(null).then(t).catch(u1)}:zo;function u1(t){setTimeout(function(){throw t})}function Uo(t,n){var s=n,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){t.removeChild(h),Ri(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Ri(n)}function nn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function zc(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Yn,Vi="__reactProps$"+Yn,jr="__reactContainer$"+Yn,qo="__reactEvents$"+Yn,l1="__reactListeners$"+Yn,c1="__reactHandles$"+Yn;function An(t){var n=t[Dr];if(n)return n;for(var s=t.parentNode;s;){if(n=s[jr]||s[Dr]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=zc(t);t!==null;){if(s=t[Dr])return s;t=zc(t)}return n}t=s,s=t.parentNode}return null}function Wi(t){return t=t[Dr]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function ra(t){return t[Vi]||null}var $o=[],ei=-1;function sn(t){return{current:t}}function We(t){0>ei||(t.current=$o[ei],$o[ei]=null,ei--)}function $e(t,n){ei++,$o[ei]=t.current,t.current=n}var an={},vt=sn(an),Tt=sn(!1),Dn=an;function ti(t,n){var s=t.type.contextTypes;if(!s)return an;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in s)h[p]=n[p];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=h),h}function Lt(t){return t=t.childContextTypes,t!=null}function na(){We(Tt),We(vt)}function Uc(t,n,s){if(vt.current!==an)throw Error(i(168));$e(vt,n),$e(Tt,s)}function qc(t,n,s){var l=t.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var h in l)if(!(h in n))throw Error(i(108,xe(t)||"Unknown",h));return X({},s,l)}function ia(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||an,Dn=vt.current,$e(vt,t),$e(Tt,Tt.current),!0}function $c(t,n,s){var l=t.stateNode;if(!l)throw Error(i(169));s?(t=qc(t,n,Dn),l.__reactInternalMemoizedMergedChildContext=t,We(Tt),We(vt),$e(vt,t)):We(Tt),$e(Tt,s)}var Br=null,sa=!1,Vo=!1;function Vc(t){Br===null?Br=[t]:Br.push(t)}function f1(t){sa=!0,Vc(t)}function on(){if(!Vo&&Br!==null){Vo=!0;var t=0,n=qe;try{var s=Br;for(qe=1;t<s.length;t++){var l=s[t];do l=l(!0);while(l!==null)}Br=null,sa=!1}catch(h){throw Br!==null&&(Br=Br.slice(t+1)),Hl(ho,on),h}finally{qe=n,Vo=!1}}return null}var ri=[],ni=0,aa=null,oa=0,rr=[],nr=0,kn=null,zr=1,Ur="";function Nn(t,n){ri[ni++]=oa,ri[ni++]=aa,aa=t,oa=n}function Wc(t,n,s){rr[nr++]=zr,rr[nr++]=Ur,rr[nr++]=kn,kn=t;var l=zr;t=Ur;var h=32-pr(l)-1;l&=~(1<<h),s+=1;var p=32-pr(n)+h;if(30<p){var w=h-h%5;p=(l&(1<<w)-1).toString(32),l>>=w,h-=w,zr=1<<32-pr(n)+h|s<<h|l,Ur=p+t}else zr=1<<p|s<<h|l,Ur=t}function Wo(t){t.return!==null&&(Nn(t,1),Wc(t,1,0))}function Ho(t){for(;t===aa;)aa=ri[--ni],ri[ni]=null,oa=ri[--ni],ri[ni]=null;for(;t===kn;)kn=rr[--nr],rr[nr]=null,Ur=rr[--nr],rr[nr]=null,zr=rr[--nr],rr[nr]=null}var Wt=null,Ht=null,He=!1,gr=null;function Hc(t,n){var s=or(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=t,n=t.deletions,n===null?(t.deletions=[s],t.flags|=16):n.push(s)}function Qc(t,n){switch(t.tag){case 5:var s=t.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Wt=t,Ht=nn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Wt=t,Ht=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=kn!==null?{id:zr,overflow:Ur}:null,t.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=or(18,null,null,0),s.stateNode=n,s.return=t,t.child=s,Wt=t,Ht=null,!0):!1;default:return!1}}function Qo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xo(t){if(He){var n=Ht;if(n){var s=n;if(!Qc(t,n)){if(Qo(t))throw Error(i(418));n=nn(s.nextSibling);var l=Wt;n&&Qc(t,n)?Hc(l,s):(t.flags=t.flags&-4097|2,He=!1,Wt=t)}}else{if(Qo(t))throw Error(i(418));t.flags=t.flags&-4097|2,He=!1,Wt=t}}}function Xc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wt=t}function ua(t){if(t!==Wt)return!1;if(!He)return Xc(t),He=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Bo(t.type,t.memoizedProps)),n&&(n=Ht)){if(Qo(t))throw Kc(),Error(i(418));for(;n;)Hc(t,n),n=nn(n.nextSibling)}if(Xc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(n===0){Ht=nn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}t=t.nextSibling}Ht=null}}else Ht=Wt?nn(t.stateNode.nextSibling):null;return!0}function Kc(){for(var t=Ht;t;)t=nn(t.nextSibling)}function ii(){Ht=Wt=null,He=!1}function Ko(t){gr===null?gr=[t]:gr.push(t)}var h1=I.ReactCurrentBatchConfig;function Hi(t,n,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(i(309));var l=s.stateNode}if(!l)throw Error(i(147,t));var h=l,p=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===p?n.ref:(n=function(w){var A=h.refs;w===null?delete A[p]:A[p]=w},n._stringRef=p,n)}if(typeof t!="string")throw Error(i(284));if(!s._owner)throw Error(i(290,t))}return t}function la(t,n){throw t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Jc(t){var n=t._init;return n(t._payload)}function Yc(t){function n(B,G){if(t){var z=B.deletions;z===null?(B.deletions=[G],B.flags|=16):z.push(G)}}function s(B,G){if(!t)return null;for(;G!==null;)n(B,G),G=G.sibling;return null}function l(B,G){for(B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function h(B,G){return B=mn(B,G),B.index=0,B.sibling=null,B}function p(B,G,z){return B.index=z,t?(z=B.alternate,z!==null?(z=z.index,z<G?(B.flags|=2,G):z):(B.flags|=2,G)):(B.flags|=1048576,G)}function w(B){return t&&B.alternate===null&&(B.flags|=2),B}function A(B,G,z,oe){return G===null||G.tag!==6?(G=zu(z,B.mode,oe),G.return=B,G):(G=h(G,z),G.return=B,G)}function b(B,G,z,oe){var Me=z.type;return Me===j?te(B,G,z.props.children,oe,z.key):G!==null&&(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===_e&&Jc(Me)===G.type)?(oe=h(G,z.props),oe.ref=Hi(B,G,z),oe.return=B,oe):(oe=La(z.type,z.key,z.props,null,B.mode,oe),oe.ref=Hi(B,G,z),oe.return=B,oe)}function W(B,G,z,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==z.containerInfo||G.stateNode.implementation!==z.implementation?(G=Uu(z,B.mode,oe),G.return=B,G):(G=h(G,z.children||[]),G.return=B,G)}function te(B,G,z,oe,Me){return G===null||G.tag!==7?(G=In(z,B.mode,oe,Me),G.return=B,G):(G=h(G,z),G.return=B,G)}function re(B,G,z){if(typeof G=="string"&&G!==""||typeof G=="number")return G=zu(""+G,B.mode,z),G.return=B,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return z=La(G.type,G.key,G.props,null,B.mode,z),z.ref=Hi(B,null,G),z.return=B,z;case O:return G=Uu(G,B.mode,z),G.return=B,G;case _e:var oe=G._init;return re(B,oe(G._payload),z)}if(Je(G)||J(G))return G=In(G,B.mode,z,null),G.return=B,G;la(B,G)}return null}function Z(B,G,z,oe){var Me=G!==null?G.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return Me!==null?null:A(B,G,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===Me?b(B,G,z,oe):null;case O:return z.key===Me?W(B,G,z,oe):null;case _e:return Me=z._init,Z(B,G,Me(z._payload),oe)}if(Je(z)||J(z))return Me!==null?null:te(B,G,z,oe,null);la(B,z)}return null}function ye(B,G,z,oe,Me){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(z)||null,A(G,B,""+oe,Me);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Q:return B=B.get(oe.key===null?z:oe.key)||null,b(G,B,oe,Me);case O:return B=B.get(oe.key===null?z:oe.key)||null,W(G,B,oe,Me);case _e:var Pe=oe._init;return ye(B,G,z,Pe(oe._payload),Me)}if(Je(oe)||J(oe))return B=B.get(z)||null,te(G,B,oe,Me,null);la(G,oe)}return null}function we(B,G,z,oe){for(var Me=null,Pe=null,Ae=G,Ne=G=0,ht=null;Ae!==null&&Ne<z.length;Ne++){Ae.index>Ne?(ht=Ae,Ae=null):ht=Ae.sibling;var Oe=Z(B,Ae,z[Ne],oe);if(Oe===null){Ae===null&&(Ae=ht);break}t&&Ae&&Oe.alternate===null&&n(B,Ae),G=p(Oe,G,Ne),Pe===null?Me=Oe:Pe.sibling=Oe,Pe=Oe,Ae=ht}if(Ne===z.length)return s(B,Ae),He&&Nn(B,Ne),Me;if(Ae===null){for(;Ne<z.length;Ne++)Ae=re(B,z[Ne],oe),Ae!==null&&(G=p(Ae,G,Ne),Pe===null?Me=Ae:Pe.sibling=Ae,Pe=Ae);return He&&Nn(B,Ne),Me}for(Ae=l(B,Ae);Ne<z.length;Ne++)ht=ye(Ae,B,Ne,z[Ne],oe),ht!==null&&(t&&ht.alternate!==null&&Ae.delete(ht.key===null?Ne:ht.key),G=p(ht,G,Ne),Pe===null?Me=ht:Pe.sibling=ht,Pe=ht);return t&&Ae.forEach(function(gn){return n(B,gn)}),He&&Nn(B,Ne),Me}function Ee(B,G,z,oe){var Me=J(z);if(typeof Me!="function")throw Error(i(150));if(z=Me.call(z),z==null)throw Error(i(151));for(var Pe=Me=null,Ae=G,Ne=G=0,ht=null,Oe=z.next();Ae!==null&&!Oe.done;Ne++,Oe=z.next()){Ae.index>Ne?(ht=Ae,Ae=null):ht=Ae.sibling;var gn=Z(B,Ae,Oe.value,oe);if(gn===null){Ae===null&&(Ae=ht);break}t&&Ae&&gn.alternate===null&&n(B,Ae),G=p(gn,G,Ne),Pe===null?Me=gn:Pe.sibling=gn,Pe=gn,Ae=ht}if(Oe.done)return s(B,Ae),He&&Nn(B,Ne),Me;if(Ae===null){for(;!Oe.done;Ne++,Oe=z.next())Oe=re(B,Oe.value,oe),Oe!==null&&(G=p(Oe,G,Ne),Pe===null?Me=Oe:Pe.sibling=Oe,Pe=Oe);return He&&Nn(B,Ne),Me}for(Ae=l(B,Ae);!Oe.done;Ne++,Oe=z.next())Oe=ye(Ae,B,Ne,Oe.value,oe),Oe!==null&&(t&&Oe.alternate!==null&&Ae.delete(Oe.key===null?Ne:Oe.key),G=p(Oe,G,Ne),Pe===null?Me=Oe:Pe.sibling=Oe,Pe=Oe);return t&&Ae.forEach(function(V1){return n(B,V1)}),He&&Nn(B,Ne),Me}function tt(B,G,z,oe){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:e:{for(var Me=z.key,Pe=G;Pe!==null;){if(Pe.key===Me){if(Me=z.type,Me===j){if(Pe.tag===7){s(B,Pe.sibling),G=h(Pe,z.props.children),G.return=B,B=G;break e}}else if(Pe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===_e&&Jc(Me)===Pe.type){s(B,Pe.sibling),G=h(Pe,z.props),G.ref=Hi(B,Pe,z),G.return=B,B=G;break e}s(B,Pe);break}else n(B,Pe);Pe=Pe.sibling}z.type===j?(G=In(z.props.children,B.mode,oe,z.key),G.return=B,B=G):(oe=La(z.type,z.key,z.props,null,B.mode,oe),oe.ref=Hi(B,G,z),oe.return=B,B=oe)}return w(B);case O:e:{for(Pe=z.key;G!==null;){if(G.key===Pe)if(G.tag===4&&G.stateNode.containerInfo===z.containerInfo&&G.stateNode.implementation===z.implementation){s(B,G.sibling),G=h(G,z.children||[]),G.return=B,B=G;break e}else{s(B,G);break}else n(B,G);G=G.sibling}G=Uu(z,B.mode,oe),G.return=B,B=G}return w(B);case _e:return Pe=z._init,tt(B,G,Pe(z._payload),oe)}if(Je(z))return we(B,G,z,oe);if(J(z))return Ee(B,G,z,oe);la(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,G!==null&&G.tag===6?(s(B,G.sibling),G=h(G,z),G.return=B,B=G):(s(B,G),G=zu(z,B.mode,oe),G.return=B,B=G),w(B)):s(B,G)}return tt}var si=Yc(!0),Zc=Yc(!1),ca=sn(null),fa=null,ai=null,Jo=null;function Yo(){Jo=ai=fa=null}function Zo(t){var n=ca.current;We(ca),t._currentValue=n}function eu(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function oi(t,n){fa=t,Jo=ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Rt=!0),t.firstContext=null)}function ir(t){var n=t._currentValue;if(Jo!==t)if(t={context:t,memoizedValue:n,next:null},ai===null){if(fa===null)throw Error(i(308));ai=t,fa.dependencies={lanes:0,firstContext:t}}else ai=ai.next=t;return n}var bn=null;function tu(t){bn===null?bn=[t]:bn.push(t)}function ef(t,n,s,l){var h=n.interleaved;return h===null?(s.next=s,tu(n)):(s.next=h.next,h.next=s),n.interleaved=s,qr(t,l)}function qr(t,n){t.lanes|=n;var s=t.alternate;for(s!==null&&(s.lanes|=n),s=t,t=t.return;t!==null;)t.childLanes|=n,s=t.alternate,s!==null&&(s.childLanes|=n),s=t,t=t.return;return s.tag===3?s.stateNode:null}var un=!1;function ru(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function ln(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,qr(t,s)}return h=l.interleaved,h===null?(n.next=n,tu(l)):(n.next=h.next,h.next=n),l.interleaved=n,qr(t,s)}function ha(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,go(t,s)}}function rf(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var w={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};p===null?h=p=w:p=p.next=w,s=s.next}while(s!==null);p===null?h=p=n:p=p.next=n}else h=p=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,effects:l.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}function da(t,n,s,l){var h=t.updateQueue;un=!1;var p=h.firstBaseUpdate,w=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var b=A,W=b.next;b.next=null,w===null?p=W:w.next=W,w=b;var te=t.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==w&&(A===null?te.firstBaseUpdate=W:A.next=W,te.lastBaseUpdate=b))}if(p!==null){var re=h.baseState;w=0,te=W=b=null,A=p;do{var Z=A.lane,ye=A.eventTime;if((l&Z)===Z){te!==null&&(te=te.next={eventTime:ye,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var we=t,Ee=A;switch(Z=n,ye=s,Ee.tag){case 1:if(we=Ee.payload,typeof we=="function"){re=we.call(ye,re,Z);break e}re=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ee.payload,Z=typeof we=="function"?we.call(ye,re,Z):we,Z==null)break e;re=X({},re,Z);break e;case 2:un=!0}}A.callback!==null&&A.lane!==0&&(t.flags|=64,Z=h.effects,Z===null?h.effects=[A]:Z.push(A))}else ye={eventTime:ye,lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(W=te=ye,b=re):te=te.next=ye,w|=Z;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,h.lastBaseUpdate=Z,h.shared.pending=null}}while(!0);if(te===null&&(b=re),h.baseState=b,h.firstBaseUpdate=W,h.lastBaseUpdate=te,n=h.shared.interleaved,n!==null){h=n;do w|=h.lane,h=h.next;while(h!==n)}else p===null&&(h.shared.lanes=0);Rn|=w,t.lanes=w,t.memoizedState=re}}function nf(t,n,s){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var l=t[n],h=l.callback;if(h!==null){if(l.callback=null,l=s,typeof h!="function")throw Error(i(191,h));h.call(l)}}}var Qi={},kr=sn(Qi),Xi=sn(Qi),Ki=sn(Qi);function Tn(t){if(t===Qi)throw Error(i(174));return t}function nu(t,n){switch($e(Ki,n),$e(Xi,t),$e(kr,Qi),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Mr(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Mr(n,t)}We(kr),$e(kr,n)}function ui(){We(kr),We(Xi),We(Ki)}function sf(t){Tn(Ki.current);var n=Tn(kr.current),s=Mr(n,t.type);n!==s&&($e(Xi,t),$e(kr,s))}function iu(t){Xi.current===t&&(We(kr),We(Xi))}var Qe=sn(0);function pa(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var su=[];function au(){for(var t=0;t<su.length;t++)su[t]._workInProgressVersionPrimary=null;su.length=0}var ma=I.ReactCurrentDispatcher,ou=I.ReactCurrentBatchConfig,Ln=0,Xe=null,at=null,ct=null,ga=!1,Ji=!1,Yi=0,d1=0;function _t(){throw Error(i(321))}function uu(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!mr(t[s],n[s]))return!1;return!0}function lu(t,n,s,l,h,p){if(Ln=p,Xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ma.current=t===null||t.memoizedState===null?y1:v1,t=s(l,h),Ji){p=0;do{if(Ji=!1,Yi=0,25<=p)throw Error(i(301));p+=1,ct=at=null,n.updateQueue=null,ma.current=_1,t=s(l,h)}while(Ji)}if(ma.current=_a,n=at!==null&&at.next!==null,Ln=0,ct=at=Xe=null,ga=!1,n)throw Error(i(300));return t}function cu(){var t=Yi!==0;return Yi=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Xe.memoizedState=ct=t:ct=ct.next=t,ct}function sr(){if(at===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=ct===null?Xe.memoizedState:ct.next;if(n!==null)ct=n,at=t;else{if(t===null)throw Error(i(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Xe.memoizedState=ct=t:ct=ct.next=t}return ct}function Zi(t,n){return typeof n=="function"?n(t):n}function fu(t){var n=sr(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=at,h=l.baseQueue,p=s.pending;if(p!==null){if(h!==null){var w=h.next;h.next=p.next,p.next=w}l.baseQueue=h=p,s.pending=null}if(h!==null){p=h.next,l=l.baseState;var A=w=null,b=null,W=p;do{var te=W.lane;if((Ln&te)===te)b!==null&&(b=b.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),l=W.hasEagerState?W.eagerState:t(l,W.action);else{var re={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};b===null?(A=b=re,w=l):b=b.next=re,Xe.lanes|=te,Rn|=te}W=W.next}while(W!==null&&W!==p);b===null?w=l:b.next=A,mr(l,n.memoizedState)||(Rt=!0),n.memoizedState=l,n.baseState=w,n.baseQueue=b,s.lastRenderedState=l}if(t=s.interleaved,t!==null){h=t;do p=h.lane,Xe.lanes|=p,Rn|=p,h=h.next;while(h!==t)}else h===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function hu(t){var n=sr(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,p=n.memoizedState;if(h!==null){s.pending=null;var w=h=h.next;do p=t(p,w.action),w=w.next;while(w!==h);mr(p,n.memoizedState)||(Rt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),s.lastRenderedState=p}return[p,l]}function af(){}function of(t,n){var s=Xe,l=sr(),h=n(),p=!mr(l.memoizedState,h);if(p&&(l.memoizedState=h,Rt=!0),l=l.queue,du(cf.bind(null,s,l,t),[t]),l.getSnapshot!==n||p||ct!==null&&ct.memoizedState.tag&1){if(s.flags|=2048,es(9,lf.bind(null,s,l,h,n),void 0,null),ft===null)throw Error(i(349));(Ln&30)!==0||uf(s,n,h)}return h}function uf(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function lf(t,n,s,l){n.value=s,n.getSnapshot=l,ff(n)&&hf(t)}function cf(t,n,s){return s(function(){ff(n)&&hf(t)})}function ff(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!mr(t,s)}catch{return!0}}function hf(t){var n=qr(t,1);n!==null&&wr(n,t,1,-1)}function df(t){var n=Nr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},n.queue=t,t=t.dispatch=g1.bind(null,Xe,t),[n.memoizedState,t]}function es(t,n,s,l){return t={tag:t,create:n,destroy:s,deps:l,next:null},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.lastEffect=t.next=t):(s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t)),t}function pf(){return sr().memoizedState}function ya(t,n,s,l){var h=Nr();Xe.flags|=t,h.memoizedState=es(1|n,s,void 0,l===void 0?null:l)}function va(t,n,s,l){var h=sr();l=l===void 0?null:l;var p=void 0;if(at!==null){var w=at.memoizedState;if(p=w.destroy,l!==null&&uu(l,w.deps)){h.memoizedState=es(n,s,p,l);return}}Xe.flags|=t,h.memoizedState=es(1|n,s,p,l)}function mf(t,n){return ya(8390656,8,t,n)}function du(t,n){return va(2048,8,t,n)}function gf(t,n){return va(4,2,t,n)}function yf(t,n){return va(4,4,t,n)}function vf(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function _f(t,n,s){return s=s!=null?s.concat([t]):null,va(4,4,vf.bind(null,n,t),s)}function pu(){}function wf(t,n){var s=sr();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&uu(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Ef(t,n){var s=sr();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&uu(n,l[1])?l[0]:(t=t(),s.memoizedState=[t,n],t)}function xf(t,n,s){return(Ln&21)===0?(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=s):(mr(s,n)||(s=Jl(),Xe.lanes|=s,Rn|=s,t.baseState=!0),n)}function p1(t,n){var s=qe;qe=s!==0&&4>s?s:4,t(!0);var l=ou.transition;ou.transition={};try{t(!1),n()}finally{qe=s,ou.transition=l}}function Sf(){return sr().memoizedState}function m1(t,n,s){var l=dn(t);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},Mf(t))Cf(n,s);else if(s=ef(t,n,s,l),s!==null){var h=Pt();wr(s,t,l,h),Pf(s,n,l)}}function g1(t,n,s){var l=dn(t),h={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mf(t))Cf(n,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var w=n.lastRenderedState,A=p(w,s);if(h.hasEagerState=!0,h.eagerState=A,mr(A,w)){var b=n.interleaved;b===null?(h.next=h,tu(n)):(h.next=b.next,b.next=h),n.interleaved=h;return}}catch{}finally{}s=ef(t,n,h,l),s!==null&&(h=Pt(),wr(s,t,l,h),Pf(s,n,l))}}function Mf(t){var n=t.alternate;return t===Xe||n!==null&&n===Xe}function Cf(t,n){Ji=ga=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Pf(t,n,s){if((s&4194240)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,go(t,s)}}var _a={readContext:ir,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},y1={readContext:ir,useCallback:function(t,n){return Nr().memoizedState=[t,n===void 0?null:n],t},useContext:ir,useEffect:mf,useImperativeHandle:function(t,n,s){return s=s!=null?s.concat([t]):null,ya(4194308,4,vf.bind(null,n,t),s)},useLayoutEffect:function(t,n){return ya(4194308,4,t,n)},useInsertionEffect:function(t,n){return ya(4,2,t,n)},useMemo:function(t,n){var s=Nr();return n=n===void 0?null:n,t=t(),s.memoizedState=[t,n],t},useReducer:function(t,n,s){var l=Nr();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=m1.bind(null,Xe,t),[l.memoizedState,t]},useRef:function(t){var n=Nr();return t={current:t},n.memoizedState=t},useState:df,useDebugValue:pu,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=df(!1),n=t[0];return t=p1.bind(null,t[1]),Nr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,s){var l=Xe,h=Nr();if(He){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),ft===null)throw Error(i(349));(Ln&30)!==0||uf(l,n,s)}h.memoizedState=s;var p={value:s,getSnapshot:n};return h.queue=p,mf(cf.bind(null,l,p,t),[t]),l.flags|=2048,es(9,lf.bind(null,l,p,s,n),void 0,null),s},useId:function(){var t=Nr(),n=ft.identifierPrefix;if(He){var s=Ur,l=zr;s=(l&~(1<<32-pr(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Yi++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=d1++,n=":"+n+"r"+s.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},v1={readContext:ir,useCallback:wf,useContext:ir,useEffect:du,useImperativeHandle:_f,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Ef,useReducer:fu,useRef:pf,useState:function(){return fu(Zi)},useDebugValue:pu,useDeferredValue:function(t){var n=sr();return xf(n,at.memoizedState,t)},useTransition:function(){var t=fu(Zi)[0],n=sr().memoizedState;return[t,n]},useMutableSource:af,useSyncExternalStore:of,useId:Sf,unstable_isNewReconciler:!1},_1={readContext:ir,useCallback:wf,useContext:ir,useEffect:du,useImperativeHandle:_f,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:Ef,useReducer:hu,useRef:pf,useState:function(){return hu(Zi)},useDebugValue:pu,useDeferredValue:function(t){var n=sr();return at===null?n.memoizedState=t:xf(n,at.memoizedState,t)},useTransition:function(){var t=hu(Zi)[0],n=sr().memoizedState;return[t,n]},useMutableSource:af,useSyncExternalStore:of,useId:Sf,unstable_isNewReconciler:!1};function yr(t,n){if(t&&t.defaultProps){n=X({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function mu(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:X({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var wa={isMounted:function(t){return(t=t._reactInternals)?bt(t)===t:!1},enqueueSetState:function(t,n,s){t=t._reactInternals;var l=Pt(),h=dn(t),p=$r(l,h);p.payload=n,s!=null&&(p.callback=s),n=ln(t,p,h),n!==null&&(wr(n,t,h,l),ha(n,t,h))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=Pt(),h=dn(t),p=$r(l,h);p.tag=1,p.payload=n,s!=null&&(p.callback=s),n=ln(t,p,h),n!==null&&(wr(n,t,h,l),ha(n,t,h))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Pt(),l=dn(t),h=$r(s,l);h.tag=2,n!=null&&(h.callback=n),n=ln(t,h,l),n!==null&&(wr(n,t,l,s),ha(n,t,l))}};function Af(t,n,s,l,h,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,p,w):n.prototype&&n.prototype.isPureReactComponent?!Bi(s,l)||!Bi(h,p):!0}function Df(t,n,s){var l=!1,h=an,p=n.contextType;return typeof p=="object"&&p!==null?p=ir(p):(h=Lt(n)?Dn:vt.current,l=n.contextTypes,p=(l=l!=null)?ti(t,h):an),n=new n(s,p),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=wa,t.stateNode=n,n._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),n}function kf(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&wa.enqueueReplaceState(n,n.state,null)}function gu(t,n,s,l){var h=t.stateNode;h.props=s,h.state=t.memoizedState,h.refs={},ru(t);var p=n.contextType;typeof p=="object"&&p!==null?h.context=ir(p):(p=Lt(n)?Dn:vt.current,h.context=ti(t,p)),h.state=t.memoizedState,p=n.getDerivedStateFromProps,typeof p=="function"&&(mu(t,n,p,s),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&wa.enqueueReplaceState(h,h.state,null),da(t,s,h,l),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function li(t,n){try{var s="",l=n;do s+=ae(l),l=l.return;while(l);var h=s}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:n,stack:h,digest:null}}function yu(t,n,s){return{value:t,source:null,stack:s??null,digest:n??null}}function vu(t,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var w1=typeof WeakMap=="function"?WeakMap:Map;function Nf(t,n,s){s=$r(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Aa||(Aa=!0,Lu=l),vu(t,n)},s}function bf(t,n,s){s=$r(-1,s),s.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var h=n.value;s.payload=function(){return l(h)},s.callback=function(){vu(t,n)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(s.callback=function(){vu(t,n),typeof l!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var w=n.stack;this.componentDidCatch(n.value,{componentStack:w!==null?w:""})}),s}function Tf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new w1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(h.add(s),t=R1.bind(null,t,n,s),n.then(t,t))}function Lf(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Rf(t,n,s,l,h){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=$r(-1,1),n.tag=2,ln(s,n,1))),s.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var E1=I.ReactCurrentOwner,Rt=!1;function Ct(t,n,s,l){n.child=t===null?Zc(n,null,s,l):si(n,t.child,s,l)}function Gf(t,n,s,l,h){s=s.render;var p=n.ref;return oi(n,h),l=lu(t,n,s,l,p,h),s=cu(),t!==null&&!Rt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,Vr(t,n,h)):(He&&s&&Wo(n),n.flags|=1,Ct(t,n,l,h),n.child)}function Ff(t,n,s,l,h){if(t===null){var p=s.type;return typeof p=="function"&&!Bu(p)&&p.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=p,Of(t,n,p,l,h)):(t=La(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,(t.lanes&h)===0){var w=p.memoizedProps;if(s=s.compare,s=s!==null?s:Bi,s(w,l)&&t.ref===n.ref)return Vr(t,n,h)}return n.flags|=1,t=mn(p,l),t.ref=n.ref,t.return=n,n.child=t}function Of(t,n,s,l,h){if(t!==null){var p=t.memoizedProps;if(Bi(p,l)&&t.ref===n.ref)if(Rt=!1,n.pendingProps=l=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(Rt=!0);else return n.lanes=t.lanes,Vr(t,n,h)}return _u(t,n,s,l,h)}function If(t,n,s){var l=n.pendingProps,h=l.children,p=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(fi,Qt),Qt|=s;else{if((s&1073741824)===0)return t=p!==null?p.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,$e(fi,Qt),Qt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=p!==null?p.baseLanes:s,$e(fi,Qt),Qt|=l}else p!==null?(l=p.baseLanes|s,n.memoizedState=null):l=s,$e(fi,Qt),Qt|=l;return Ct(t,n,h,s),n.child}function jf(t,n){var s=n.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function _u(t,n,s,l,h){var p=Lt(s)?Dn:vt.current;return p=ti(n,p),oi(n,h),s=lu(t,n,s,l,p,h),l=cu(),t!==null&&!Rt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~h,Vr(t,n,h)):(He&&l&&Wo(n),n.flags|=1,Ct(t,n,s,h),n.child)}function Bf(t,n,s,l,h){if(Lt(s)){var p=!0;ia(n)}else p=!1;if(oi(n,h),n.stateNode===null)xa(t,n),Df(n,s,l),gu(n,s,l,h),l=!0;else if(t===null){var w=n.stateNode,A=n.memoizedProps;w.props=A;var b=w.context,W=s.contextType;typeof W=="object"&&W!==null?W=ir(W):(W=Lt(s)?Dn:vt.current,W=ti(n,W));var te=s.getDerivedStateFromProps,re=typeof te=="function"||typeof w.getSnapshotBeforeUpdate=="function";re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==l||b!==W)&&kf(n,w,l,W),un=!1;var Z=n.memoizedState;w.state=Z,da(n,l,w,h),b=n.memoizedState,A!==l||Z!==b||Tt.current||un?(typeof te=="function"&&(mu(n,s,te,l),b=n.memoizedState),(A=un||Af(n,s,A,l,Z,b,W))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(n.flags|=4194308)):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=b),w.props=l,w.state=b,w.context=W,l=A):(typeof w.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{w=n.stateNode,tf(t,n),A=n.memoizedProps,W=n.type===n.elementType?A:yr(n.type,A),w.props=W,re=n.pendingProps,Z=w.context,b=s.contextType,typeof b=="object"&&b!==null?b=ir(b):(b=Lt(s)?Dn:vt.current,b=ti(n,b));var ye=s.getDerivedStateFromProps;(te=typeof ye=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==re||Z!==b)&&kf(n,w,l,b),un=!1,Z=n.memoizedState,w.state=Z,da(n,l,w,h);var we=n.memoizedState;A!==re||Z!==we||Tt.current||un?(typeof ye=="function"&&(mu(n,s,ye,l),we=n.memoizedState),(W=un||Af(n,s,W,l,Z,we,b)||!1)?(te||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(l,we,b),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(l,we,b)),typeof w.componentDidUpdate=="function"&&(n.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===t.memoizedProps&&Z===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&Z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=we),w.props=l,w.state=we,w.context=b,l=W):(typeof w.componentDidUpdate!="function"||A===t.memoizedProps&&Z===t.memoizedState||(n.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&Z===t.memoizedState||(n.flags|=1024),l=!1)}return wu(t,n,s,l,p,h)}function wu(t,n,s,l,h,p){jf(t,n);var w=(n.flags&128)!==0;if(!l&&!w)return h&&$c(n,s,!1),Vr(t,n,p);l=n.stateNode,E1.current=n;var A=w&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,t!==null&&w?(n.child=si(n,t.child,null,p),n.child=si(n,null,A,p)):Ct(t,n,A,p),n.memoizedState=l.state,h&&$c(n,s,!0),n.child}function zf(t){var n=t.stateNode;n.pendingContext?Uc(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Uc(t,n.context,!1),nu(t,n.containerInfo)}function Uf(t,n,s,l,h){return ii(),Ko(h),n.flags|=256,Ct(t,n,s,l),n.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function xu(t){return{baseLanes:t,cachePool:null,transitions:null}}function qf(t,n,s){var l=n.pendingProps,h=Qe.current,p=!1,w=(n.flags&128)!==0,A;if((A=w)||(A=t!==null&&t.memoizedState===null?!1:(h&2)!==0),A?(p=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Qe,h&1),t===null)return Xo(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(w=l.children,t=l.fallback,p?(l=n.mode,p=n.child,w={mode:"hidden",children:w},(l&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=w):p=Ra(w,l,0,null),t=In(t,l,s,null),p.return=n,t.return=n,p.sibling=t,n.child=p,n.child.memoizedState=xu(s),n.memoizedState=Eu,t):Su(n,w));if(h=t.memoizedState,h!==null&&(A=h.dehydrated,A!==null))return x1(t,n,w,l,A,h,s);if(p){p=l.fallback,w=n.mode,h=t.child,A=h.sibling;var b={mode:"hidden",children:l.children};return(w&1)===0&&n.child!==h?(l=n.child,l.childLanes=0,l.pendingProps=b,n.deletions=null):(l=mn(h,b),l.subtreeFlags=h.subtreeFlags&14680064),A!==null?p=mn(A,p):(p=In(p,w,s,null),p.flags|=2),p.return=n,l.return=n,l.sibling=p,n.child=l,l=p,p=n.child,w=t.child.memoizedState,w=w===null?xu(s):{baseLanes:w.baseLanes|s,cachePool:null,transitions:w.transitions},p.memoizedState=w,p.childLanes=t.childLanes&~s,n.memoizedState=Eu,l}return p=t.child,t=p.sibling,l=mn(p,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=s),l.return=n,l.sibling=null,t!==null&&(s=n.deletions,s===null?(n.deletions=[t],n.flags|=16):s.push(t)),n.child=l,n.memoizedState=null,l}function Su(t,n){return n=Ra({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Ea(t,n,s,l){return l!==null&&Ko(l),si(n,t.child,null,s),t=Su(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function x1(t,n,s,l,h,p,w){if(s)return n.flags&256?(n.flags&=-257,l=yu(Error(i(422))),Ea(t,n,w,l)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(p=l.fallback,h=n.mode,l=Ra({mode:"visible",children:l.children},h,0,null),p=In(p,h,w,null),p.flags|=2,l.return=n,p.return=n,l.sibling=p,n.child=l,(n.mode&1)!==0&&si(n,t.child,null,w),n.child.memoizedState=xu(w),n.memoizedState=Eu,p);if((n.mode&1)===0)return Ea(t,n,w,null);if(h.data==="$!"){if(l=h.nextSibling&&h.nextSibling.dataset,l)var A=l.dgst;return l=A,p=Error(i(419)),l=yu(p,l,void 0),Ea(t,n,w,l)}if(A=(w&t.childLanes)!==0,Rt||A){if(l=ft,l!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(l.suspendedLanes|w))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,qr(t,h),wr(l,t,h,-1))}return ju(),l=yu(Error(i(421))),Ea(t,n,w,l)}return h.data==="$?"?(n.flags|=128,n.child=t.child,n=G1.bind(null,t),h._reactRetry=n,null):(t=p.treeContext,Ht=nn(h.nextSibling),Wt=n,He=!0,gr=null,t!==null&&(rr[nr++]=zr,rr[nr++]=Ur,rr[nr++]=kn,zr=t.id,Ur=t.overflow,kn=n),n=Su(n,l.children),n.flags|=4096,n)}function $f(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),eu(t.return,n,s)}function Mu(t,n,s,l,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h)}function Vf(t,n,s){var l=n.pendingProps,h=l.revealOrder,p=l.tail;if(Ct(t,n,l.children,s),l=Qe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$f(t,s,n);else if(t.tag===19)$f(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if($e(Qe,l),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&pa(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Mu(n,!1,h,s,p);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&pa(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Mu(n,!0,s,null,p);break;case"together":Mu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function xa(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Vr(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Rn|=n.lanes,(s&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,s=mn(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=mn(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function S1(t,n,s){switch(n.tag){case 3:zf(n),ii();break;case 5:sf(n);break;case 1:Lt(n.type)&&ia(n);break;case 4:nu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,h=n.memoizedProps.value;$e(ca,l._currentValue),l._currentValue=h;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?($e(Qe,Qe.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?qf(t,n,s):($e(Qe,Qe.current&1),t=Vr(t,n,s),t!==null?t.sibling:null);$e(Qe,Qe.current&1);break;case 19:if(l=(s&n.childLanes)!==0,(t.flags&128)!==0){if(l)return Vf(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Qe,Qe.current),l)break;return null;case 22:case 23:return n.lanes=0,If(t,n,s)}return Vr(t,n,s)}var Wf,Cu,Hf,Qf;Wf=function(t,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Cu=function(){},Hf=function(t,n,s,l){var h=t.memoizedProps;if(h!==l){t=n.stateNode,Tn(kr.current);var p=null;switch(s){case"input":h=Fe(t,h),l=Fe(t,l),p=[];break;case"select":h=X({},h,{value:void 0}),l=X({},l,{value:void 0}),p=[];break;case"textarea":h=Ie(t,h),l=Ie(t,l),p=[];break;default:typeof h.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=ta)}Or(s,l);var w;s=null;for(W in h)if(!l.hasOwnProperty(W)&&h.hasOwnProperty(W)&&h[W]!=null)if(W==="style"){var A=h[W];for(w in A)A.hasOwnProperty(w)&&(s||(s={}),s[w]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(o.hasOwnProperty(W)?p||(p=[]):(p=p||[]).push(W,null));for(W in l){var b=l[W];if(A=h!=null?h[W]:void 0,l.hasOwnProperty(W)&&b!==A&&(b!=null||A!=null))if(W==="style")if(A){for(w in A)!A.hasOwnProperty(w)||b&&b.hasOwnProperty(w)||(s||(s={}),s[w]="");for(w in b)b.hasOwnProperty(w)&&A[w]!==b[w]&&(s||(s={}),s[w]=b[w])}else s||(p||(p=[]),p.push(W,s)),s=b;else W==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,A=A?A.__html:void 0,b!=null&&A!==b&&(p=p||[]).push(W,b)):W==="children"?typeof b!="string"&&typeof b!="number"||(p=p||[]).push(W,""+b):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(o.hasOwnProperty(W)?(b!=null&&W==="onScroll"&&Ve("scroll",t),p||A===b||(p=[])):(p=p||[]).push(W,b))}s&&(p=p||[]).push("style",s);var W=p;(n.updateQueue=W)&&(n.flags|=4)}},Qf=function(t,n,s,l){s!==l&&(n.flags|=4)};function ts(t,n){if(!He)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&14680064,l|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function M1(t,n,s){var l=n.pendingProps;switch(Ho(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return Lt(n.type)&&na(),wt(n),null;case 3:return l=n.stateNode,ui(),We(Tt),We(vt),au(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(ua(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gr!==null&&(Fu(gr),gr=null))),Cu(t,n),wt(n),null;case 5:iu(n);var h=Tn(Ki.current);if(s=n.type,t!==null&&n.stateNode!=null)Hf(t,n,s,l,h),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(i(166));return wt(n),null}if(t=Tn(kr.current),ua(n)){l=n.stateNode,s=n.type;var p=n.memoizedProps;switch(l[Dr]=n,l[Vi]=p,t=(n.mode&1)!==0,s){case"dialog":Ve("cancel",l),Ve("close",l);break;case"iframe":case"object":case"embed":Ve("load",l);break;case"video":case"audio":for(h=0;h<Ui.length;h++)Ve(Ui[h],l);break;case"source":Ve("error",l);break;case"img":case"image":case"link":Ve("error",l),Ve("load",l);break;case"details":Ve("toggle",l);break;case"input":it(l,p),Ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!p.multiple},Ve("invalid",l);break;case"textarea":Jt(l,p),Ve("invalid",l)}Or(s,p),h=null;for(var w in p)if(p.hasOwnProperty(w)){var A=p[w];w==="children"?typeof A=="string"?l.textContent!==A&&(p.suppressHydrationWarning!==!0&&ea(l.textContent,A,t),h=["children",A]):typeof A=="number"&&l.textContent!==""+A&&(p.suppressHydrationWarning!==!0&&ea(l.textContent,A,t),h=["children",""+A]):o.hasOwnProperty(w)&&A!=null&&w==="onScroll"&&Ve("scroll",l)}switch(s){case"input":Ce(l),Nt(l,p,!0);break;case"textarea":Ce(l),Lr(l);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(l.onclick=ta)}l=h,n.updateQueue=l,l!==null&&(n.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rr(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=w.createElement(s,{is:l.is}):(t=w.createElement(s),s==="select"&&(w=t,l.multiple?w.multiple=!0:l.size&&(w.size=l.size))):t=w.createElementNS(t,s),t[Dr]=n,t[Vi]=l,Wf(t,n,!1,!1),n.stateNode=t;e:{switch(w=Cr(s,l),s){case"dialog":Ve("cancel",t),Ve("close",t),h=l;break;case"iframe":case"object":case"embed":Ve("load",t),h=l;break;case"video":case"audio":for(h=0;h<Ui.length;h++)Ve(Ui[h],t);h=l;break;case"source":Ve("error",t),h=l;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),h=l;break;case"details":Ve("toggle",t),h=l;break;case"input":it(t,l),h=Fe(t,l),Ve("invalid",t);break;case"option":h=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},h=X({},l,{value:void 0}),Ve("invalid",t);break;case"textarea":Jt(t,l),h=Ie(t,l),Ve("invalid",t);break;default:h=l}Or(s,h),A=h;for(p in A)if(A.hasOwnProperty(p)){var b=A[p];p==="style"?Kr(t,b):p==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Mn(t,b)):p==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&fr(t,b):typeof b=="number"&&fr(t,""+b):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?b!=null&&p==="onScroll"&&Ve("scroll",t):b!=null&&R(t,p,b,w))}switch(s){case"input":Ce(t),Nt(t,l,!1);break;case"textarea":Ce(t),Lr(t);break;case"option":l.value!=null&&t.setAttribute("value",""+ce(l.value));break;case"select":t.multiple=!!l.multiple,p=l.value,p!=null?Re(t,!!l.multiple,p,!1):l.defaultValue!=null&&Re(t,!!l.multiple,l.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=ta)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return wt(n),null;case 6:if(t&&n.stateNode!=null)Qf(t,n,t.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(i(166));if(s=Tn(Ki.current),Tn(kr.current),ua(n)){if(l=n.stateNode,s=n.memoizedProps,l[Dr]=n,(p=l.nodeValue!==s)&&(t=Wt,t!==null))switch(t.tag){case 3:ea(l.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ea(l.nodeValue,s,(t.mode&1)!==0)}p&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Dr]=n,n.stateNode=l}return wt(n),null;case 13:if(We(Qe),l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Ht!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Kc(),ii(),n.flags|=98560,p=!1;else if(p=ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!p)throw Error(i(318));if(p=n.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Dr]=n}else ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),p=!1}else gr!==null&&(Fu(gr),gr=null),p=!0;if(!p)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Qe.current&1)!==0?ot===0&&(ot=3):ju())),n.updateQueue!==null&&(n.flags|=4),wt(n),null);case 4:return ui(),Cu(t,n),t===null&&qi(n.stateNode.containerInfo),wt(n),null;case 10:return Zo(n.type._context),wt(n),null;case 17:return Lt(n.type)&&na(),wt(n),null;case 19:if(We(Qe),p=n.memoizedState,p===null)return wt(n),null;if(l=(n.flags&128)!==0,w=p.rendering,w===null)if(l)ts(p,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(w=pa(t),w!==null){for(n.flags|=128,ts(p,!1),l=w.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)p=s,t=l,p.flags&=14680066,w=p.alternate,w===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=w.childLanes,p.lanes=w.lanes,p.child=w.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=w.memoizedProps,p.memoizedState=w.memoizedState,p.updateQueue=w.updateQueue,p.type=w.type,t=w.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return $e(Qe,Qe.current&1|2),n.child}t=t.sibling}p.tail!==null&&et()>hi&&(n.flags|=128,l=!0,ts(p,!1),n.lanes=4194304)}else{if(!l)if(t=pa(w),t!==null){if(n.flags|=128,l=!0,s=t.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),ts(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!He)return wt(n),null}else 2*et()-p.renderingStartTime>hi&&s!==1073741824&&(n.flags|=128,l=!0,ts(p,!1),n.lanes=4194304);p.isBackwards?(w.sibling=n.child,n.child=w):(s=p.last,s!==null?s.sibling=w:n.child=w,p.last=w)}return p.tail!==null?(n=p.tail,p.rendering=n,p.tail=n.sibling,p.renderingStartTime=et(),n.sibling=null,s=Qe.current,$e(Qe,l?s&1|2:s&1),n):(wt(n),null);case 22:case 23:return Iu(),l=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Qt&1073741824)!==0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function C1(t,n){switch(Ho(n),n.tag){case 1:return Lt(n.type)&&na(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ui(),We(Tt),We(vt),au(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return iu(n),null;case 13:if(We(Qe),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));ii()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return We(Qe),null;case 4:return ui(),null;case 10:return Zo(n.type._context),null;case 22:case 23:return Iu(),null;case 24:return null;default:return null}}var Sa=!1,Et=!1,P1=typeof WeakSet=="function"?WeakSet:Set,ve=null;function ci(t,n){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Ye(t,n,l)}else s.current=null}function Pu(t,n,s){try{s()}catch(l){Ye(t,n,l)}}var Xf=!1;function A1(t,n){if(Io=qs,t=Pc(),No(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var w=0,A=-1,b=-1,W=0,te=0,re=t,Z=null;t:for(;;){for(var ye;re!==s||h!==0&&re.nodeType!==3||(A=w+h),re!==p||l!==0&&re.nodeType!==3||(b=w+l),re.nodeType===3&&(w+=re.nodeValue.length),(ye=re.firstChild)!==null;)Z=re,re=ye;for(;;){if(re===t)break t;if(Z===s&&++W===h&&(A=w),Z===p&&++te===l&&(b=w),(ye=re.nextSibling)!==null)break;re=Z,Z=re.parentNode}re=ye}s=A===-1||b===-1?null:{start:A,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(jo={focusedElem:t,selectionRange:s},qs=!1,ve=n;ve!==null;)if(n=ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ve=t;else for(;ve!==null;){n=ve;try{var we=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Ee=we.memoizedProps,tt=we.memoizedState,B=n.stateNode,G=B.getSnapshotBeforeUpdate(n.elementType===n.type?Ee:yr(n.type,Ee),tt);B.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var z=n.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(oe){Ye(n,n.return,oe)}if(t=n.sibling,t!==null){t.return=n.return,ve=t;break}ve=n.return}return we=Xf,Xf=!1,we}function rs(t,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Pu(n,s,p)}h=h.next}while(h!==l)}}function Ma(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function Au(t){var n=t.ref;if(n!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof n=="function"?n(t):n.current=t}}function Kf(t){var n=t.alternate;n!==null&&(t.alternate=null,Kf(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Dr],delete n[Vi],delete n[qo],delete n[l1],delete n[c1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jf(t){return t.tag===5||t.tag===3||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Du(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(t,n):s.insertBefore(t,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(t,s)):(n=s,n.appendChild(t)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ta));else if(l!==4&&(t=t.child,t!==null))for(Du(t,n,s),t=t.sibling;t!==null;)Du(t,n,s),t=t.sibling}function ku(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(ku(t,n,s),t=t.sibling;t!==null;)ku(t,n,s),t=t.sibling}var mt=null,vr=!1;function cn(t,n,s){for(s=s.child;s!==null;)Zf(t,n,s),s=s.sibling}function Zf(t,n,s){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(Os,s)}catch{}switch(s.tag){case 5:Et||ci(s,n);case 6:var l=mt,h=vr;mt=null,cn(t,n,s),mt=l,vr=h,mt!==null&&(vr?(t=mt,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):mt.removeChild(s.stateNode));break;case 18:mt!==null&&(vr?(t=mt,s=s.stateNode,t.nodeType===8?Uo(t.parentNode,s):t.nodeType===1&&Uo(t,s),Ri(t)):Uo(mt,s.stateNode));break;case 4:l=mt,h=vr,mt=s.stateNode.containerInfo,vr=!0,cn(t,n,s),mt=l,vr=h;break;case 0:case 11:case 14:case 15:if(!Et&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){h=l=l.next;do{var p=h,w=p.destroy;p=p.tag,w!==void 0&&((p&2)!==0||(p&4)!==0)&&Pu(s,n,w),h=h.next}while(h!==l)}cn(t,n,s);break;case 1:if(!Et&&(ci(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(A){Ye(s,n,A)}cn(t,n,s);break;case 21:cn(t,n,s);break;case 22:s.mode&1?(Et=(l=Et)||s.memoizedState!==null,cn(t,n,s),Et=l):cn(t,n,s);break;default:cn(t,n,s)}}function eh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new P1),n.forEach(function(l){var h=F1.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}}function _r(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l];try{var p=t,w=n,A=w;e:for(;A!==null;){switch(A.tag){case 5:mt=A.stateNode,vr=!1;break e;case 3:mt=A.stateNode.containerInfo,vr=!0;break e;case 4:mt=A.stateNode.containerInfo,vr=!0;break e}A=A.return}if(mt===null)throw Error(i(160));Zf(p,w,h),mt=null,vr=!1;var b=h.alternate;b!==null&&(b.return=null),h.return=null}catch(W){Ye(h,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)th(n,t),n=n.sibling}function th(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_r(n,t),br(t),l&4){try{rs(3,t,t.return),Ma(3,t)}catch(Ee){Ye(t,t.return,Ee)}try{rs(5,t,t.return)}catch(Ee){Ye(t,t.return,Ee)}}break;case 1:_r(n,t),br(t),l&512&&s!==null&&ci(s,s.return);break;case 5:if(_r(n,t),br(t),l&512&&s!==null&&ci(s,s.return),t.flags&32){var h=t.stateNode;try{fr(h,"")}catch(Ee){Ye(t,t.return,Ee)}}if(l&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,w=s!==null?s.memoizedProps:p,A=t.type,b=t.updateQueue;if(t.updateQueue=null,b!==null)try{A==="input"&&p.type==="radio"&&p.name!=null&&be(h,p),Cr(A,w);var W=Cr(A,p);for(w=0;w<b.length;w+=2){var te=b[w],re=b[w+1];te==="style"?Kr(h,re):te==="dangerouslySetInnerHTML"?Mn(h,re):te==="children"?fr(h,re):R(h,te,re,W)}switch(A){case"input":kt(h,p);break;case"textarea":Ut(h,p);break;case"select":var Z=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var ye=p.value;ye!=null?Re(h,!!p.multiple,ye,!1):Z!==!!p.multiple&&(p.defaultValue!=null?Re(h,!!p.multiple,p.defaultValue,!0):Re(h,!!p.multiple,p.multiple?[]:"",!1))}h[Vi]=p}catch(Ee){Ye(t,t.return,Ee)}}break;case 6:if(_r(n,t),br(t),l&4){if(t.stateNode===null)throw Error(i(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(Ee){Ye(t,t.return,Ee)}}break;case 3:if(_r(n,t),br(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ri(n.containerInfo)}catch(Ee){Ye(t,t.return,Ee)}break;case 4:_r(n,t),br(t);break;case 13:_r(n,t),br(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Tu=et())),l&4&&eh(t);break;case 22:if(te=s!==null&&s.memoizedState!==null,t.mode&1?(Et=(W=Et)||te,_r(n,t),Et=W):_r(n,t),br(t),l&8192){if(W=t.memoizedState!==null,(t.stateNode.isHidden=W)&&!te&&(t.mode&1)!==0)for(ve=t,te=t.child;te!==null;){for(re=ve=te;ve!==null;){switch(Z=ve,ye=Z.child,Z.tag){case 0:case 11:case 14:case 15:rs(4,Z,Z.return);break;case 1:ci(Z,Z.return);var we=Z.stateNode;if(typeof we.componentWillUnmount=="function"){l=Z,s=Z.return;try{n=l,we.props=n.memoizedProps,we.state=n.memoizedState,we.componentWillUnmount()}catch(Ee){Ye(l,s,Ee)}}break;case 5:ci(Z,Z.return);break;case 22:if(Z.memoizedState!==null){ih(re);continue}}ye!==null?(ye.return=Z,ve=ye):ih(re)}te=te.sibling}e:for(te=null,re=t;;){if(re.tag===5){if(te===null){te=re;try{h=re.stateNode,W?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(A=re.stateNode,b=re.memoizedProps.style,w=b!=null&&b.hasOwnProperty("display")?b.display:null,A.style.display=Fr("display",w))}catch(Ee){Ye(t,t.return,Ee)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(Ee){Ye(t,t.return,Ee)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===t)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===t)break e;for(;re.sibling===null;){if(re.return===null||re.return===t)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:_r(n,t),br(t),l&4&&eh(t);break;case 21:break;default:_r(n,t),br(t)}}function br(t){var n=t.flags;if(n&2){try{e:{for(var s=t.return;s!==null;){if(Jf(s)){var l=s;break e}s=s.return}throw Error(i(160))}switch(l.tag){case 5:var h=l.stateNode;l.flags&32&&(fr(h,""),l.flags&=-33);var p=Yf(t);ku(t,p,h);break;case 3:case 4:var w=l.stateNode.containerInfo,A=Yf(t);Du(t,A,w);break;default:throw Error(i(161))}}catch(b){Ye(t,t.return,b)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function D1(t,n,s){ve=t,rh(t)}function rh(t,n,s){for(var l=(t.mode&1)!==0;ve!==null;){var h=ve,p=h.child;if(h.tag===22&&l){var w=h.memoizedState!==null||Sa;if(!w){var A=h.alternate,b=A!==null&&A.memoizedState!==null||Et;A=Sa;var W=Et;if(Sa=w,(Et=b)&&!W)for(ve=h;ve!==null;)w=ve,b=w.child,w.tag===22&&w.memoizedState!==null?sh(h):b!==null?(b.return=w,ve=b):sh(h);for(;p!==null;)ve=p,rh(p),p=p.sibling;ve=h,Sa=A,Et=W}nh(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,ve=p):nh(t)}}function nh(t){for(;ve!==null;){var n=ve;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Et||Ma(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Et)if(s===null)l.componentDidMount();else{var h=n.elementType===n.type?s.memoizedProps:yr(n.type,s.memoizedProps);l.componentDidUpdate(h,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var p=n.updateQueue;p!==null&&nf(n,p,l);break;case 3:var w=n.updateQueue;if(w!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}nf(n,w,s)}break;case 5:var A=n.stateNode;if(s===null&&n.flags&4){s=A;var b=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&Ri(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Et||n.flags&512&&Au(n)}catch(Z){Ye(n,n.return,Z)}}if(n===t){ve=null;break}if(s=n.sibling,s!==null){s.return=n.return,ve=s;break}ve=n.return}}function ih(t){for(;ve!==null;){var n=ve;if(n===t){ve=null;break}var s=n.sibling;if(s!==null){s.return=n.return,ve=s;break}ve=n.return}}function sh(t){for(;ve!==null;){var n=ve;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Ma(4,n)}catch(b){Ye(n,s,b)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var h=n.return;try{l.componentDidMount()}catch(b){Ye(n,h,b)}}var p=n.return;try{Au(n)}catch(b){Ye(n,p,b)}break;case 5:var w=n.return;try{Au(n)}catch(b){Ye(n,w,b)}}}catch(b){Ye(n,n.return,b)}if(n===t){ve=null;break}var A=n.sibling;if(A!==null){A.return=n.return,ve=A;break}ve=n.return}}var k1=Math.ceil,Ca=I.ReactCurrentDispatcher,Nu=I.ReactCurrentOwner,ar=I.ReactCurrentBatchConfig,Ge=0,ft=null,st=null,gt=0,Qt=0,fi=sn(0),ot=0,ns=null,Rn=0,Pa=0,bu=0,is=null,Gt=null,Tu=0,hi=1/0,Wr=null,Aa=!1,Lu=null,fn=null,Da=!1,hn=null,ka=0,ss=0,Ru=null,Na=-1,ba=0;function Pt(){return(Ge&6)!==0?et():Na!==-1?Na:Na=et()}function dn(t){return(t.mode&1)===0?1:(Ge&2)!==0&&gt!==0?gt&-gt:h1.transition!==null?(ba===0&&(ba=Jl()),ba):(t=qe,t!==0||(t=window.event,t=t===void 0?16:ac(t.type)),t)}function wr(t,n,s,l){if(50<ss)throw ss=0,Ru=null,Error(i(185));ki(t,s,l),((Ge&2)===0||t!==ft)&&(t===ft&&((Ge&2)===0&&(Pa|=s),ot===4&&pn(t,gt)),Ft(t,l),s===1&&Ge===0&&(n.mode&1)===0&&(hi=et()+500,sa&&on()))}function Ft(t,n){var s=t.callbackNode;h2(t,n);var l=Bs(t,t===ft?gt:0);if(l===0)s!==null&&Ql(s),t.callbackNode=null,t.callbackPriority=0;else if(n=l&-l,t.callbackPriority!==n){if(s!=null&&Ql(s),n===1)t.tag===0?f1(oh.bind(null,t)):Vc(oh.bind(null,t)),o1(function(){(Ge&6)===0&&on()}),s=null;else{switch(Yl(l)){case 1:s=ho;break;case 4:s=Xl;break;case 16:s=Fs;break;case 536870912:s=Kl;break;default:s=Fs}s=mh(s,ah.bind(null,t))}t.callbackPriority=n,t.callbackNode=s}}function ah(t,n){if(Na=-1,ba=0,(Ge&6)!==0)throw Error(i(327));var s=t.callbackNode;if(di()&&t.callbackNode!==s)return null;var l=Bs(t,t===ft?gt:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||n)n=Ta(t,l);else{n=l;var h=Ge;Ge|=2;var p=lh();(ft!==t||gt!==n)&&(Wr=null,hi=et()+500,Fn(t,n));do try{T1();break}catch(A){uh(t,A)}while(!0);Yo(),Ca.current=p,Ge=h,st!==null?n=0:(ft=null,gt=0,n=ot)}if(n!==0){if(n===2&&(h=po(t),h!==0&&(l=h,n=Gu(t,h))),n===1)throw s=ns,Fn(t,0),pn(t,l),Ft(t,et()),s;if(n===6)pn(t,l);else{if(h=t.current.alternate,(l&30)===0&&!N1(h)&&(n=Ta(t,l),n===2&&(p=po(t),p!==0&&(l=p,n=Gu(t,p))),n===1))throw s=ns,Fn(t,0),pn(t,l),Ft(t,et()),s;switch(t.finishedWork=h,t.finishedLanes=l,n){case 0:case 1:throw Error(i(345));case 2:On(t,Gt,Wr);break;case 3:if(pn(t,l),(l&130023424)===l&&(n=Tu+500-et(),10<n)){if(Bs(t,0)!==0)break;if(h=t.suspendedLanes,(h&l)!==l){Pt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=zo(On.bind(null,t,Gt,Wr),n);break}On(t,Gt,Wr);break;case 4:if(pn(t,l),(l&4194240)===l)break;for(n=t.eventTimes,h=-1;0<l;){var w=31-pr(l);p=1<<w,w=n[w],w>h&&(h=w),l&=~p}if(l=h,l=et()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*k1(l/1960))-l,10<l){t.timeoutHandle=zo(On.bind(null,t,Gt,Wr),l);break}On(t,Gt,Wr);break;case 5:On(t,Gt,Wr);break;default:throw Error(i(329))}}}return Ft(t,et()),t.callbackNode===s?ah.bind(null,t):null}function Gu(t,n){var s=is;return t.current.memoizedState.isDehydrated&&(Fn(t,n).flags|=256),t=Ta(t,n),t!==2&&(n=Gt,Gt=s,n!==null&&Fu(n)),t}function Fu(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function N1(t){for(var n=t;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var h=s[l],p=h.getSnapshot;h=h.value;try{if(!mr(p(),h))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pn(t,n){for(n&=~bu,n&=~Pa,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var s=31-pr(n),l=1<<s;t[s]=-1,n&=~l}}function oh(t){if((Ge&6)!==0)throw Error(i(327));di();var n=Bs(t,0);if((n&1)===0)return Ft(t,et()),null;var s=Ta(t,n);if(t.tag!==0&&s===2){var l=po(t);l!==0&&(n=l,s=Gu(t,l))}if(s===1)throw s=ns,Fn(t,0),pn(t,n),Ft(t,et()),s;if(s===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,On(t,Gt,Wr),Ft(t,et()),null}function Ou(t,n){var s=Ge;Ge|=1;try{return t(n)}finally{Ge=s,Ge===0&&(hi=et()+500,sa&&on())}}function Gn(t){hn!==null&&hn.tag===0&&(Ge&6)===0&&di();var n=Ge;Ge|=1;var s=ar.transition,l=qe;try{if(ar.transition=null,qe=1,t)return t()}finally{qe=l,ar.transition=s,Ge=n,(Ge&6)===0&&on()}}function Iu(){Qt=fi.current,We(fi)}function Fn(t,n){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,a1(s)),st!==null)for(s=st.return;s!==null;){var l=s;switch(Ho(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&na();break;case 3:ui(),We(Tt),We(vt),au();break;case 5:iu(l);break;case 4:ui();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:Zo(l.type._context);break;case 22:case 23:Iu()}s=s.return}if(ft=t,st=t=mn(t.current,null),gt=Qt=n,ot=0,ns=null,bu=Pa=Rn=0,Gt=is=null,bn!==null){for(n=0;n<bn.length;n++)if(s=bn[n],l=s.interleaved,l!==null){s.interleaved=null;var h=l.next,p=s.pending;if(p!==null){var w=p.next;p.next=h,l.next=w}s.pending=l}bn=null}return t}function uh(t,n){do{var s=st;try{if(Yo(),ma.current=_a,ga){for(var l=Xe.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}ga=!1}if(Ln=0,ct=at=Xe=null,Ji=!1,Yi=0,Nu.current=null,s===null||s.return===null){ot=1,ns=n,st=null;break}e:{var p=t,w=s.return,A=s,b=n;if(n=gt,A.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var W=b,te=A,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var Z=te.alternate;Z?(te.updateQueue=Z.updateQueue,te.memoizedState=Z.memoizedState,te.lanes=Z.lanes):(te.updateQueue=null,te.memoizedState=null)}var ye=Lf(w);if(ye!==null){ye.flags&=-257,Rf(ye,w,A,p,n),ye.mode&1&&Tf(p,W,n),n=ye,b=W;var we=n.updateQueue;if(we===null){var Ee=new Set;Ee.add(b),n.updateQueue=Ee}else we.add(b);break e}else{if((n&1)===0){Tf(p,W,n),ju();break e}b=Error(i(426))}}else if(He&&A.mode&1){var tt=Lf(w);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),Rf(tt,w,A,p,n),Ko(li(b,A));break e}}p=b=li(b,A),ot!==4&&(ot=2),is===null?is=[p]:is.push(p),p=w;do{switch(p.tag){case 3:p.flags|=65536,n&=-n,p.lanes|=n;var B=Nf(p,b,n);rf(p,B);break e;case 1:A=b;var G=p.type,z=p.stateNode;if((p.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(fn===null||!fn.has(z)))){p.flags|=65536,n&=-n,p.lanes|=n;var oe=bf(p,A,n);rf(p,oe);break e}}p=p.return}while(p!==null)}fh(s)}catch(Me){n=Me,st===s&&s!==null&&(st=s=s.return);continue}break}while(!0)}function lh(){var t=Ca.current;return Ca.current=_a,t===null?_a:t}function ju(){(ot===0||ot===3||ot===2)&&(ot=4),ft===null||(Rn&268435455)===0&&(Pa&268435455)===0||pn(ft,gt)}function Ta(t,n){var s=Ge;Ge|=2;var l=lh();(ft!==t||gt!==n)&&(Wr=null,Fn(t,n));do try{b1();break}catch(h){uh(t,h)}while(!0);if(Yo(),Ge=s,Ca.current=l,st!==null)throw Error(i(261));return ft=null,gt=0,ot}function b1(){for(;st!==null;)ch(st)}function T1(){for(;st!==null&&!n2();)ch(st)}function ch(t){var n=ph(t.alternate,t,Qt);t.memoizedProps=t.pendingProps,n===null?fh(t):st=n,Nu.current=null}function fh(t){var n=t;do{var s=n.alternate;if(t=n.return,(n.flags&32768)===0){if(s=M1(s,n,Qt),s!==null){st=s;return}}else{if(s=C1(s,n),s!==null){s.flags&=32767,st=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,st=null;return}}if(n=n.sibling,n!==null){st=n;return}st=n=t}while(n!==null);ot===0&&(ot=5)}function On(t,n,s){var l=qe,h=ar.transition;try{ar.transition=null,qe=1,L1(t,n,s,l)}finally{ar.transition=h,qe=l}return null}function L1(t,n,s,l){do di();while(hn!==null);if((Ge&6)!==0)throw Error(i(327));s=t.finishedWork;var h=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var p=s.lanes|s.childLanes;if(d2(t,p),t===ft&&(st=ft=null,gt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||Da||(Da=!0,mh(Fs,function(){return di(),null})),p=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||p){p=ar.transition,ar.transition=null;var w=qe;qe=1;var A=Ge;Ge|=4,Nu.current=null,A1(t,s),th(s,t),Z2(jo),qs=!!Io,jo=Io=null,t.current=s,D1(s),i2(),Ge=A,qe=w,ar.transition=p}else t.current=s;if(Da&&(Da=!1,hn=t,ka=h),p=t.pendingLanes,p===0&&(fn=null),o2(s.stateNode),Ft(t,et()),n!==null)for(l=t.onRecoverableError,s=0;s<n.length;s++)h=n[s],l(h.value,{componentStack:h.stack,digest:h.digest});if(Aa)throw Aa=!1,t=Lu,Lu=null,t;return(ka&1)!==0&&t.tag!==0&&di(),p=t.pendingLanes,(p&1)!==0?t===Ru?ss++:(ss=0,Ru=t):ss=0,on(),null}function di(){if(hn!==null){var t=Yl(ka),n=ar.transition,s=qe;try{if(ar.transition=null,qe=16>t?16:t,hn===null)var l=!1;else{if(t=hn,hn=null,ka=0,(Ge&6)!==0)throw Error(i(331));var h=Ge;for(Ge|=4,ve=t.current;ve!==null;){var p=ve,w=p.child;if((ve.flags&16)!==0){var A=p.deletions;if(A!==null){for(var b=0;b<A.length;b++){var W=A[b];for(ve=W;ve!==null;){var te=ve;switch(te.tag){case 0:case 11:case 15:rs(8,te,p)}var re=te.child;if(re!==null)re.return=te,ve=re;else for(;ve!==null;){te=ve;var Z=te.sibling,ye=te.return;if(Kf(te),te===W){ve=null;break}if(Z!==null){Z.return=ye,ve=Z;break}ve=ye}}}var we=p.alternate;if(we!==null){var Ee=we.child;if(Ee!==null){we.child=null;do{var tt=Ee.sibling;Ee.sibling=null,Ee=tt}while(Ee!==null)}}ve=p}}if((p.subtreeFlags&2064)!==0&&w!==null)w.return=p,ve=w;else e:for(;ve!==null;){if(p=ve,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:rs(9,p,p.return)}var B=p.sibling;if(B!==null){B.return=p.return,ve=B;break e}ve=p.return}}var G=t.current;for(ve=G;ve!==null;){w=ve;var z=w.child;if((w.subtreeFlags&2064)!==0&&z!==null)z.return=w,ve=z;else e:for(w=G;ve!==null;){if(A=ve,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Ma(9,A)}}catch(Me){Ye(A,A.return,Me)}if(A===w){ve=null;break e}var oe=A.sibling;if(oe!==null){oe.return=A.return,ve=oe;break e}ve=A.return}}if(Ge=h,on(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(Os,t)}catch{}l=!0}return l}finally{qe=s,ar.transition=n}}return!1}function hh(t,n,s){n=li(s,n),n=Nf(t,n,1),t=ln(t,n,1),n=Pt(),t!==null&&(ki(t,1,n),Ft(t,n))}function Ye(t,n,s){if(t.tag===3)hh(t,t,s);else for(;n!==null;){if(n.tag===3){hh(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fn===null||!fn.has(l))){t=li(s,t),t=bf(n,t,1),n=ln(n,t,1),t=Pt(),n!==null&&(ki(n,1,t),Ft(n,t));break}}n=n.return}}function R1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),n=Pt(),t.pingedLanes|=t.suspendedLanes&s,ft===t&&(gt&s)===s&&(ot===4||ot===3&&(gt&130023424)===gt&&500>et()-Tu?Fn(t,0):bu|=s),Ft(t,n)}function dh(t,n){n===0&&((t.mode&1)===0?n=1:(n=js,js<<=1,(js&130023424)===0&&(js=4194304)));var s=Pt();t=qr(t,n),t!==null&&(ki(t,n,s),Ft(t,s))}function G1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),dh(t,s)}function F1(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(n),dh(t,s)}var ph;ph=function(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps||Tt.current)Rt=!0;else{if((t.lanes&s)===0&&(n.flags&128)===0)return Rt=!1,S1(t,n,s);Rt=(t.flags&131072)!==0}else Rt=!1,He&&(n.flags&1048576)!==0&&Wc(n,oa,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;xa(t,n),t=n.pendingProps;var h=ti(n,vt.current);oi(n,s),h=lu(null,n,l,t,h,s);var p=cu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Lt(l)?(p=!0,ia(n)):p=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ru(n),h.updater=wa,n.stateNode=h,h._reactInternals=n,gu(n,l,t,s),n=wu(null,n,l,!0,p,s)):(n.tag=0,He&&p&&Wo(n),Ct(null,n,h,s),n=n.child),n;case 16:l=n.elementType;e:{switch(xa(t,n),t=n.pendingProps,h=l._init,l=h(l._payload),n.type=l,h=n.tag=I1(l),t=yr(l,t),h){case 0:n=_u(null,n,l,t,s);break e;case 1:n=Bf(null,n,l,t,s);break e;case 11:n=Gf(null,n,l,t,s);break e;case 14:n=Ff(null,n,l,yr(l.type,t),s);break e}throw Error(i(306,l,""))}return n;case 0:return l=n.type,h=n.pendingProps,h=n.elementType===l?h:yr(l,h),_u(t,n,l,h,s);case 1:return l=n.type,h=n.pendingProps,h=n.elementType===l?h:yr(l,h),Bf(t,n,l,h,s);case 3:e:{if(zf(n),t===null)throw Error(i(387));l=n.pendingProps,p=n.memoizedState,h=p.element,tf(t,n),da(n,l,null,s);var w=n.memoizedState;if(l=w.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){h=li(Error(i(423)),n),n=Uf(t,n,l,s,h);break e}else if(l!==h){h=li(Error(i(424)),n),n=Uf(t,n,l,s,h);break e}else for(Ht=nn(n.stateNode.containerInfo.firstChild),Wt=n,He=!0,gr=null,s=Zc(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ii(),l===h){n=Vr(t,n,s);break e}Ct(t,n,l,s)}n=n.child}return n;case 5:return sf(n),t===null&&Xo(n),l=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,w=h.children,Bo(l,h)?w=null:p!==null&&Bo(l,p)&&(n.flags|=32),jf(t,n),Ct(t,n,w,s),n.child;case 6:return t===null&&Xo(n),null;case 13:return qf(t,n,s);case 4:return nu(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=si(n,null,l,s):Ct(t,n,l,s),n.child;case 11:return l=n.type,h=n.pendingProps,h=n.elementType===l?h:yr(l,h),Gf(t,n,l,h,s);case 7:return Ct(t,n,n.pendingProps,s),n.child;case 8:return Ct(t,n,n.pendingProps.children,s),n.child;case 12:return Ct(t,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,h=n.pendingProps,p=n.memoizedProps,w=h.value,$e(ca,l._currentValue),l._currentValue=w,p!==null)if(mr(p.value,w)){if(p.children===h.children&&!Tt.current){n=Vr(t,n,s);break e}}else for(p=n.child,p!==null&&(p.return=n);p!==null;){var A=p.dependencies;if(A!==null){w=p.child;for(var b=A.firstContext;b!==null;){if(b.context===l){if(p.tag===1){b=$r(-1,s&-s),b.tag=2;var W=p.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?b.next=b:(b.next=te.next,te.next=b),W.pending=b}}p.lanes|=s,b=p.alternate,b!==null&&(b.lanes|=s),eu(p.return,s,n),A.lanes|=s;break}b=b.next}}else if(p.tag===10)w=p.type===n.type?null:p.child;else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=s,A=w.alternate,A!==null&&(A.lanes|=s),eu(w,s,n),w=p.sibling}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}Ct(t,n,h.children,s),n=n.child}return n;case 9:return h=n.type,l=n.pendingProps.children,oi(n,s),h=ir(h),l=l(h),n.flags|=1,Ct(t,n,l,s),n.child;case 14:return l=n.type,h=yr(l,n.pendingProps),h=yr(l.type,h),Ff(t,n,l,h,s);case 15:return Of(t,n,n.type,n.pendingProps,s);case 17:return l=n.type,h=n.pendingProps,h=n.elementType===l?h:yr(l,h),xa(t,n),n.tag=1,Lt(l)?(t=!0,ia(n)):t=!1,oi(n,s),Df(n,l,h),gu(n,l,h,s),wu(null,n,l,!0,t,s);case 19:return Vf(t,n,s);case 22:return If(t,n,s)}throw Error(i(156,n.tag))};function mh(t,n){return Hl(t,n)}function O1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,n,s,l){return new O1(t,n,s,l)}function Bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I1(t){if(typeof t=="function")return Bu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===K)return 11;if(t===pe)return 14}return 2}function mn(t,n){var s=t.alternate;return s===null?(s=or(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function La(t,n,s,l,h,p){var w=2;if(l=t,typeof t=="function")Bu(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case j:return In(s.children,h,p,n);case se:w=8,h|=8;break;case D:return t=or(12,s,n,h|2),t.elementType=D,t.lanes=p,t;case Y:return t=or(13,s,n,h),t.elementType=Y,t.lanes=p,t;case ne:return t=or(19,s,n,h),t.elementType=ne,t.lanes=p,t;case fe:return Ra(s,h,p,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:w=10;break e;case U:w=9;break e;case K:w=11;break e;case pe:w=14;break e;case _e:w=16,l=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return n=or(w,s,n,h),n.elementType=t,n.type=l,n.lanes=p,n}function In(t,n,s,l){return t=or(7,t,l,n),t.lanes=s,t}function Ra(t,n,s,l){return t=or(22,t,l,n),t.elementType=fe,t.lanes=s,t.stateNode={isHidden:!1},t}function zu(t,n,s){return t=or(6,t,null,n),t.lanes=s,t}function Uu(t,n,s){return n=or(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function j1(t,n,s,l,h){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mo(0),this.expirationTimes=mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mo(0),this.identifierPrefix=l,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function qu(t,n,s,l,h,p,w,A,b){return t=new j1(t,n,s,A,b),n===1?(n=1,p===!0&&(n|=8)):n=0,p=or(3,null,null,n),t.current=p,p.stateNode=t,p.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(p),t}function B1(t,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:l==null?null:""+l,children:t,containerInfo:n,implementation:s}}function gh(t){if(!t)return an;t=t._reactInternals;e:{if(bt(t)!==t||t.tag!==1)throw Error(i(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Lt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(t.tag===1){var s=t.type;if(Lt(s))return qc(t,s,n)}return n}function yh(t,n,s,l,h,p,w,A,b){return t=qu(s,l,!0,t,h,p,w,A,b),t.context=gh(null),s=t.current,l=Pt(),h=dn(s),p=$r(l,h),p.callback=n??null,ln(s,p,h),t.current.lanes=h,ki(t,h,l),Ft(t,l),t}function Ga(t,n,s,l){var h=n.current,p=Pt(),w=dn(h);return s=gh(s),n.context===null?n.context=s:n.pendingContext=s,n=$r(p,w),n.payload={element:t},l=l===void 0?null:l,l!==null&&(n.callback=l),t=ln(h,n,w),t!==null&&(wr(t,h,w,p),ha(t,h,w)),w}function Fa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function $u(t,n){vh(t,n),(t=t.alternate)&&vh(t,n)}function z1(){return null}var _h=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vu(t){this._internalRoot=t}Oa.prototype.render=Vu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));Ga(t,n,null,null)},Oa.prototype.unmount=Vu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gn(function(){Ga(null,t,null,null)}),n[jr]=null}};function Oa(t){this._internalRoot=t}Oa.prototype.unstable_scheduleHydration=function(t){if(t){var n=tc();t={blockedOn:null,target:t,priority:n};for(var s=0;s<en.length&&n!==0&&n<en[s].priority;s++);en.splice(s,0,t),s===0&&ic(t)}};function Wu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ia(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wh(){}function U1(t,n,s,l,h){if(h){if(typeof l=="function"){var p=l;l=function(){var W=Fa(w);p.call(W)}}var w=yh(n,l,t,0,null,!1,!1,"",wh);return t._reactRootContainer=w,t[jr]=w.current,qi(t.nodeType===8?t.parentNode:t),Gn(),w}for(;h=t.lastChild;)t.removeChild(h);if(typeof l=="function"){var A=l;l=function(){var W=Fa(b);A.call(W)}}var b=qu(t,0,!1,null,null,!1,!1,"",wh);return t._reactRootContainer=b,t[jr]=b.current,qi(t.nodeType===8?t.parentNode:t),Gn(function(){Ga(n,b,s,l)}),b}function ja(t,n,s,l,h){var p=s._reactRootContainer;if(p){var w=p;if(typeof h=="function"){var A=h;h=function(){var b=Fa(w);A.call(b)}}Ga(n,w,t,h)}else w=U1(s,n,t,h,l);return Fa(w)}Zl=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var s=Di(n.pendingLanes);s!==0&&(go(n,s|1),Ft(n,et()),(Ge&6)===0&&(hi=et()+500,on()))}break;case 13:Gn(function(){var l=qr(t,1);if(l!==null){var h=Pt();wr(l,t,1,h)}}),$u(t,1)}},yo=function(t){if(t.tag===13){var n=qr(t,134217728);if(n!==null){var s=Pt();wr(n,t,134217728,s)}$u(t,134217728)}},ec=function(t){if(t.tag===13){var n=dn(t),s=qr(t,n);if(s!==null){var l=Pt();wr(s,t,n,l)}$u(t,n)}},tc=function(){return qe},rc=function(t,n){var s=qe;try{return qe=t,n()}finally{qe=s}},hr=function(t,n,s){switch(n){case"input":if(kt(t,s),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=ra(l);if(!h)throw Error(i(90));Te(l),kt(l,h)}}}break;case"textarea":Ut(t,s);break;case"select":n=s.value,n!=null&&Re(t,!!s.multiple,n,!1)}},le=Ou,ke=Gn;var q1={usingClientEntryPoint:!1,Events:[Wi,Zn,ra,k,$,Ou]},as={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$1={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vl(t),t===null?null:t.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||z1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{Os=Ba.inject($1),Ar=Ba}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q1,Ot.createPortal=function(t,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wu(n))throw Error(i(200));return B1(t,n,null,s)},Ot.createRoot=function(t,n){if(!Wu(t))throw Error(i(299));var s=!1,l="",h=_h;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=qu(t,1,!1,null,null,s,!1,l,h),t[jr]=n.current,qi(t.nodeType===8?t.parentNode:t),new Vu(n)},Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Vl(n),t=t===null?null:t.stateNode,t},Ot.flushSync=function(t){return Gn(t)},Ot.hydrate=function(t,n,s){if(!Ia(n))throw Error(i(200));return ja(null,t,n,!0,s)},Ot.hydrateRoot=function(t,n,s){if(!Wu(t))throw Error(i(405));var l=s!=null&&s.hydratedSources||null,h=!1,p="",w=_h;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),n=yh(n,null,t,1,s??null,h,!1,p,w),t[jr]=n.current,qi(t),l)for(t=0;t<l.length;t++)s=l[t],h=s._getVersion,h=h(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,h]:n.mutableSourceEagerHydrationData.push(s,h);return new Oa(n)},Ot.render=function(t,n,s){if(!Ia(n))throw Error(i(200));return ja(null,t,n,!1,s)},Ot.unmountComponentAtNode=function(t){if(!Ia(t))throw Error(i(40));return t._reactRootContainer?(Gn(function(){ja(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1},Ot.unstable_batchedUpdates=Ou,Ot.unstable_renderSubtreeIntoContainer=function(t,n,s,l){if(!Ia(s))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return ja(t,n,s,!1,l)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var Dh;function z0(){if(Dh)return Xu.exports;Dh=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Xu.exports=Z1(),Xu.exports}var kh;function ep(){if(kh)return Ua;kh=1;var e=z0();return Ua.createRoot=e.createRoot,Ua.hydrateRoot=e.hydrateRoot,Ua}var tp=ep();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U0=(...e)=>e.filter((r,i,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var np={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=q.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:c,...f},d)=>q.createElement("svg",{ref:d,...np,width:r,height:r,stroke:e,strokeWidth:a?Number(i)*24/Number(r):i,className:U0("lucide",o),...f},[...c.map(([m,g])=>q.createElement(m,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,r)=>{const i=q.forwardRef(({className:a,...o},u)=>q.createElement(ip,{ref:u,iconNode:r,className:U0(`lucide-${rp(e)}`,a),...o}));return i.displayName=`${e}`,i};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ze("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ze("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ze("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=ze("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=ze("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ze("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ze("LocateOff",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["path",{d:"M7.11 7.11C5.83 8.39 5 10.1 5 12c0 3.87 3.13 7 7 7 1.9 0 3.61-.83 4.89-2.11",key:"1oh7ia"}],["path",{d:"M18.71 13.96c.19-.63.29-1.29.29-1.96 0-3.87-3.13-7-7-7-.67 0-1.33.1-1.96.29",key:"3qdecy"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ze("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=ze("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ze("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ze("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ze("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=ze("Pentagon",[["path",{d:"M10.83 2.38a2 2 0 0 1 2.34 0l8 5.74a2 2 0 0 1 .73 2.25l-3.04 9.26a2 2 0 0 1-1.9 1.37H7.04a2 2 0 0 1-1.9-1.37L2.1 10.37a2 2 0 0 1 .73-2.25z",key:"2hea0t"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ze("Spline",[["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}],["path",{d:"M5 17A12 12 0 0 1 17 5",key:"1okkup"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ze("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function kp({theme:e,onThemeChange:r}){const i=()=>{const o=["light","dark","system"],c=(o.indexOf(e)+1)%o.length,f=o[c];f&&r(f)},a=e==="dark"?Mp:e==="light"?Cp:Sp;return T.jsxs("header",{className:"flex h-10 shrink-0 items-center justify-between border-b border-neutral-200 bg-white px-3 md:h-14 md:px-4 dark:border-neutral-800 dark:bg-neutral-900",children:[T.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[T.jsx("h1",{className:"text-lg font-semibold text-primary-600 md:text-xl dark:text-primary-400",children:"GeoFiddle"}),T.jsx("span",{className:"rounded bg-primary-100 px-1 py-0.5 text-[10px] font-medium text-primary-700 md:px-1.5 md:text-xs dark:bg-primary-900 dark:text-primary-300",children:"v2"})]}),T.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[T.jsx("button",{onClick:i,className:"rounded-md p-1.5 text-neutral-600 hover:bg-neutral-100 md:p-2 dark:text-neutral-400 dark:hover:bg-neutral-800","aria-label":`Current theme: ${e}. Click to change.`,children:T.jsx(a,{className:"h-4 w-4 md:h-5 md:w-5"})}),T.jsxs("a",{href:"https://github.com/ruipinge/geofiddle",target:"_blank",rel:"noopener noreferrer",className:"hidden items-center gap-1 rounded-md px-2 py-1.5 text-sm text-neutral-600 hover:bg-neutral-100 md:flex dark:text-neutral-400 dark:hover:bg-neutral-800","aria-label":"View source on GitHub",children:[T.jsx("span",{children:"GitHub"}),T.jsx(dp,{className:"h-4 w-4"})]})]})]})}function Np({left:e,right:r,leftWidthPercent:i,minLeftWidthPercent:a,maxLeftWidthPercent:o,onLeftWidthPercentChange:u}){const[c,f]=q.useState(!1),[d,m]=q.useState(0),g=q.useRef(null);q.useEffect(()=>{const S=g.current;if(!S)return;const C=()=>{m(S.getBoundingClientRect().width)};C();const L=new ResizeObserver(C);return L.observe(S),()=>{L.disconnect()}},[]);const y=q.useCallback(()=>{f(!0)},[]);q.useEffect(()=>{if(!c)return;const S=L=>{if(!g.current)return;const M=g.current.getBoundingClientRect(),N=(L.clientX-M.left)/M.width*100,R=Math.min(o,Math.max(a,N));u(R)},C=()=>{f(!1)};return document.addEventListener("mousemove",S),document.addEventListener("mouseup",C),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",C)}},[c,a,o,u]);const v=d>0?i/100*d:0;return T.jsxs("main",{id:"main-content",ref:g,className:"flex flex-1 overflow-hidden",role:"main",children:[T.jsx("section",{style:{width:v},className:"shrink-0 overflow-hidden","aria-label":"Input and conversion panel",children:e}),T.jsx("div",{onMouseDown:y,role:"separator","aria-orientation":"vertical","aria-label":"Resize panels",tabIndex:0,onKeyDown:S=>{S.key==="ArrowLeft"?u(Math.max(a,i-2)):S.key==="ArrowRight"&&u(Math.min(o,i+2))},className:`w-1 shrink-0 cursor-col-resize bg-neutral-200 transition-colors hover:bg-primary-400 focus-visible:bg-primary-500 focus-visible:outline-none dark:bg-neutral-700 dark:hover:bg-primary-500 ${c?"bg-primary-500 dark:bg-primary-500":""}`}),T.jsx("section",{className:"flex-1 overflow-hidden","aria-label":"Map view",children:r})]})}function bp({children:e,onFileDrop:r,accept:i}){const[a,o]=q.useState(!1),u=q.useCallback(m=>{m.preventDefault(),m.stopPropagation(),o(!0)},[]),c=q.useCallback(m=>{m.preventDefault(),m.stopPropagation(),m.currentTarget===m.target&&o(!1)},[]),f=q.useCallback(m=>{m.preventDefault(),m.stopPropagation()},[]),d=q.useCallback(m=>{var v;m.preventDefault(),m.stopPropagation(),o(!1);const g=m.dataTransfer.files[0];if(!g)return;if(i&&i.length>0){const S=`.${((v=g.name.split(".").pop())==null?void 0:v.toLowerCase())??""}`;if(!i.includes(S)&&!i.includes("*")){console.warn(`File type ${S} not accepted`);return}}const y=new FileReader;y.onload=S=>{var L;const C=(L=S.target)==null?void 0:L.result;typeof C=="string"&&r(C,g.name)},y.onerror=()=>{console.error("Failed to read file")},y.readAsText(g)},[r,i]);return T.jsxs("div",{onDragEnter:u,onDragLeave:c,onDragOver:f,onDrop:d,className:"relative",children:[e,a&&T.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center rounded-md border-2 border-dashed border-primary-500 bg-primary-50/90 dark:bg-primary-950/90",children:[T.jsx(Ap,{className:"mb-2 h-8 w-8 text-primary-500"}),T.jsx("p",{className:"text-sm font-medium text-primary-700 dark:text-primary-300",children:"Drop file to load"}),T.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400",children:"GeoJSON, WKT, CSV, KML, GPX"})]})]})}function Tp({value:e,onChange:r,placeholder:i}){const a=q.useCallback(c=>{r(c.target.value)},[r]),o=q.useCallback(c=>{c.preventDefault();const f=c.dataTransfer.files[0];if(f){const d=new FileReader;d.onload=m=>{var y;const g=(y=m.target)==null?void 0:y.result;typeof g=="string"&&r(g)},d.readAsText(f)}},[r]),u=q.useCallback(c=>{c.preventDefault()},[]);return T.jsx("textarea",{value:e,onChange:a,onDrop:o,onDragOver:u,placeholder:i,"aria-label":"Geometry input",className:"h-48 w-full resize-none rounded-md border border-neutral-300 bg-white p-3 font-mono text-sm text-neutral-900 placeholder:text-neutral-400 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 dark:border-neutral-600 dark:bg-neutral-800 dark:text-neutral-100 dark:placeholder:text-neutral-500",spellCheck:!1})}const Th=[{value:"auto",label:"Auto-detect"},{value:"geojson",label:"GeoJSON"},{value:"wkt",label:"WKT"},{value:"ewkt",label:"EWKT"},{value:"csv",label:"CSV"},{value:"kml",label:"KML"},{value:"gpx",label:"GPX"},{value:"polyline5",label:"Polyline (5)"},{value:"polyline6",label:"Polyline (6)"}];function Lp({value:e,onChange:r,detectedValue:i,label:a}){var u;const o=e==="auto"&&i?`Auto (${i.toUpperCase()})`:((u=Th.find(c=>c.value===e))==null?void 0:u.label)??e;return T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"label",children:a}),T.jsx("select",{value:e,onChange:c=>{r(c.target.value)},className:"input","aria-label":`${a}: ${o}`,children:Th.map(c=>T.jsx("option",{value:c.value,children:c.label},c.value))})]})}const Lh=[{value:"auto",label:"Auto-detect"},{value:"EPSG:4326",label:"WGS84 (EPSG:4326)"},{value:"EPSG:3857",label:"Web Mercator (EPSG:3857)"},{value:"EPSG:27700",label:"British National Grid (EPSG:27700)"}];function Rp({value:e,onChange:r,detectedValue:i,label:a}){var u;const o=e==="auto"&&i?`Auto (${i})`:((u=Lh.find(c=>c.value===e))==null?void 0:u.label)??e;return T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"label",children:a}),T.jsx("select",{value:e,onChange:c=>{r(c.target.value)},className:"input","aria-label":`${a}: ${o}`,children:Lh.map(c=>T.jsx("option",{value:c.value,children:c.label},c.value))})]})}const Rh=e=>{let r;const i=new Set,a=(m,g)=>{const y=typeof m=="function"?m(r):m;if(!Object.is(y,r)){const v=r;r=g??(typeof y!="object"||y===null)?y:Object.assign({},r,y),i.forEach(S=>S(r,v))}},o=()=>r,f={setState:a,getState:o,getInitialState:()=>d,subscribe:m=>(i.add(m),()=>i.delete(m))},d=r=e(a,o,f);return f},Gp=(e=>e?Rh(e):Rh),Fp=e=>e;function Op(e,r=Fp){const i=za.useSyncExternalStore(e.subscribe,za.useCallback(()=>r(e.getState()),[e,r]),za.useCallback(()=>r(e.getInitialState()),[e,r]));return za.useDebugValue(i),i}const Gh=e=>{const r=Gp(e),i=a=>Op(r,a);return Object.assign(i,r),i},Ps=(e=>e?Gh(e):Gh),Fh={rawText:"",inputFormat:"auto",inputProjection:"auto",detectedFormat:null,detectedProjection:null,features:[],parseError:null,coordinateError:null,isParsing:!1,selectedFeatureId:null,hoveredFeatureId:null},Sr=Ps(e=>({...Fh,setRawText:r=>{e({rawText:r})},setInputFormat:r=>{e({inputFormat:r})},setInputProjection:r=>{e({inputProjection:r})},setFeatures:r=>{e({features:r,parseError:null})},setParseError:r=>{e({parseError:r,features:[]})},setCoordinateError:r=>{e({coordinateError:r})},setIsParsing:r=>{e({isParsing:r})},setSelectedFeatureId:r=>{e({selectedFeatureId:r})},setHoveredFeatureId:r=>{e({hoveredFeatureId:r})},setDetectedFormat:r=>{e({detectedFormat:r})},setDetectedProjection:r=>{e({detectedProjection:r})},reset:()=>{e(Fh)}}));function Ip(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var r=1;r<=60;++r)e("EPSG:"+(32600+r),"+proj=utm +zone="+r+" +datum=WGS84 +units=m"),e("EPSG:"+(32700+r),"+proj=utm +zone="+r+" +south +datum=WGS84 +units=m");e("EPSG:5041","+title=WGS 84 / UPS North (E,N) +proj=stere +lat_0=90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),e("EPSG:5042","+title=WGS 84 / UPS South (E,N) +proj=stere +lat_0=-90 +lon_0=0 +k=0.994 +x_0=2000000 +y_0=2000000 +datum=WGS84 +units=m"),e.WGS84=e["EPSG:4326"],e["EPSG:3785"]=e["EPSG:3857"],e.GOOGLE=e["EPSG:3857"],e["EPSG:900913"]=e["EPSG:3857"],e["EPSG:102113"]=e["EPSG:3857"]}var qn=1,$n=2,_i=3,jp=4,dl=5,Oh=6378137,Bp=6356752314e-3,Ih=.0066943799901413165,ms=484813681109536e-20,ee=Math.PI/2,zp=.16666666666666666,Up=.04722222222222222,qp=.022156084656084655,he=1e-10,Ze=.017453292519943295,Bt=57.29577951308232,je=Math.PI/4,Es=Math.PI*2,rt=3.14159265359,zt={};zt.greenwich=0;zt.lisbon=-9.131906111111;zt.paris=2.337229166667;zt.bogota=-74.080916666667;zt.madrid=-3.687938888889;zt.rome=12.452333333333;zt.bern=7.439583333333;zt.jakarta=106.807719444444;zt.ferro=-17.666666666667;zt.brussels=4.367975;zt.stockholm=18.058277777778;zt.athens=23.7163375;zt.oslo=10.722916666667;const $p={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var jh=/[\s_\-\/\(\)]/g;function wn(e,r){if(e[r])return e[r];for(var i=Object.keys(e),a=r.toLowerCase().replace(jh,""),o=-1,u,c;++o<i.length;)if(u=i[o],c=u.toLowerCase().replace(jh,""),c===a)return e[u]}function pl(e){var r={},i=e.split("+").map(function(f){return f.trim()}).filter(function(f){return f}).reduce(function(f,d){var m=d.split("=");return m.push(!0),f[m[0].toLowerCase()]=m[1],f},{}),a,o,u,c={proj:"projName",datum:"datumCode",rf:function(f){r.rf=parseFloat(f)},lat_0:function(f){r.lat0=f*Ze},lat_1:function(f){r.lat1=f*Ze},lat_2:function(f){r.lat2=f*Ze},lat_ts:function(f){r.lat_ts=f*Ze},lon_0:function(f){r.long0=f*Ze},lon_1:function(f){r.long1=f*Ze},lon_2:function(f){r.long2=f*Ze},alpha:function(f){r.alpha=parseFloat(f)*Ze},gamma:function(f){r.rectified_grid_angle=parseFloat(f)*Ze},lonc:function(f){r.longc=f*Ze},x_0:function(f){r.x0=parseFloat(f)},y_0:function(f){r.y0=parseFloat(f)},k_0:function(f){r.k0=parseFloat(f)},k:function(f){r.k0=parseFloat(f)},a:function(f){r.a=parseFloat(f)},b:function(f){r.b=parseFloat(f)},r:function(f){r.a=r.b=parseFloat(f)},r_a:function(){r.R_A=!0},zone:function(f){r.zone=parseInt(f,10)},south:function(){r.utmSouth=!0},towgs84:function(f){r.datum_params=f.split(",").map(function(d){return parseFloat(d)})},to_meter:function(f){r.to_meter=parseFloat(f)},units:function(f){r.units=f;var d=wn($p,f);d&&(r.to_meter=d.to_meter)},from_greenwich:function(f){r.from_greenwich=f*Ze},pm:function(f){var d=wn(zt,f);r.from_greenwich=(d||parseFloat(f))*Ze},nadgrids:function(f){f==="@null"?r.datumCode="none":r.nadgrids=f},axis:function(f){var d="ewnsud";f.length===3&&d.indexOf(f.substr(0,1))!==-1&&d.indexOf(f.substr(1,1))!==-1&&d.indexOf(f.substr(2,1))!==-1&&(r.axis=f)},approx:function(){r.approx=!0},over:function(){r.over=!0}};for(a in i)o=i[a],a in c?(u=c[a],typeof u=="function"?u(o):r[u]=o):r[a]=o;return typeof r.datumCode=="string"&&r.datumCode!=="WGS84"&&(r.datumCode=r.datumCode.toLowerCase()),r.projStr=e,r}class H0{static getId(r){const i=r.find(a=>Array.isArray(a)&&a[0]==="ID");return i&&i.length>=3?{authority:i[1],code:parseInt(i[2],10)}:null}static convertUnit(r,i="unit"){if(!r||r.length<3)return{type:i,name:"unknown",conversion_factor:null};const a=r[1],o=parseFloat(r[2])||null,u=r.find(f=>Array.isArray(f)&&f[0]==="ID"),c=u?{authority:u[1],code:parseInt(u[2],10)}:null;return{type:i,name:a,conversion_factor:o,id:c}}static convertAxis(r){const i=r[1]||"Unknown";let a;const o=i.match(/^\((.)\)$/);if(o){const m=o[1].toUpperCase();if(m==="E")a="east";else if(m==="N")a="north";else if(m==="U")a="up";else throw new Error(`Unknown axis abbreviation: ${m}`)}else a=r[2]?r[2].toLowerCase():"unknown";const u=r.find(m=>Array.isArray(m)&&m[0]==="ORDER"),c=u?parseInt(u[1],10):null,f=r.find(m=>Array.isArray(m)&&(m[0]==="LENGTHUNIT"||m[0]==="ANGLEUNIT"||m[0]==="SCALEUNIT")),d=this.convertUnit(f);return{name:i,direction:a,unit:d,order:c}}static extractAxes(r){return r.filter(i=>Array.isArray(i)&&i[0]==="AXIS").map(i=>this.convertAxis(i)).sort((i,a)=>(i.order||0)-(a.order||0))}static convert(r,i={}){switch(r[0]){case"PROJCRS":i.type="ProjectedCRS",i.name=r[1],i.base_crs=r.find(v=>Array.isArray(v)&&v[0]==="BASEGEOGCRS")?this.convert(r.find(v=>Array.isArray(v)&&v[0]==="BASEGEOGCRS")):null,i.conversion=r.find(v=>Array.isArray(v)&&v[0]==="CONVERSION")?this.convert(r.find(v=>Array.isArray(v)&&v[0]==="CONVERSION")):null;const a=r.find(v=>Array.isArray(v)&&v[0]==="CS");a&&(i.coordinate_system={type:a[1],axis:this.extractAxes(r)});const o=r.find(v=>Array.isArray(v)&&v[0]==="LENGTHUNIT");if(o){const v=this.convertUnit(o);i.coordinate_system.unit=v}i.id=this.getId(r);break;case"BASEGEOGCRS":case"GEOGCRS":i.type="GeographicCRS",i.name=r[1];const u=r.find(v=>Array.isArray(v)&&(v[0]==="DATUM"||v[0]==="ENSEMBLE"));if(u){const v=this.convert(u);u[0]==="ENSEMBLE"?i.datum_ensemble=v:i.datum=v;const S=r.find(C=>Array.isArray(C)&&C[0]==="PRIMEM");S&&S[1]!=="Greenwich"&&(v.prime_meridian={name:S[1],longitude:parseFloat(S[2])})}i.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(r)},i.id=this.getId(r);break;case"DATUM":i.type="GeodeticReferenceFrame",i.name=r[1],i.ellipsoid=r.find(v=>Array.isArray(v)&&v[0]==="ELLIPSOID")?this.convert(r.find(v=>Array.isArray(v)&&v[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":i.type="DatumEnsemble",i.name=r[1],i.members=r.filter(v=>Array.isArray(v)&&v[0]==="MEMBER").map(v=>({type:"DatumEnsembleMember",name:v[1],id:this.getId(v)}));const c=r.find(v=>Array.isArray(v)&&v[0]==="ENSEMBLEACCURACY");c&&(i.accuracy=parseFloat(c[1]));const f=r.find(v=>Array.isArray(v)&&v[0]==="ELLIPSOID");f&&(i.ellipsoid=this.convert(f)),i.id=this.getId(r);break;case"ELLIPSOID":i.type="Ellipsoid",i.name=r[1],i.semi_major_axis=parseFloat(r[2]),i.inverse_flattening=parseFloat(r[3]),r.find(v=>Array.isArray(v)&&v[0]==="LENGTHUNIT")&&this.convert(r.find(v=>Array.isArray(v)&&v[0]==="LENGTHUNIT"),i);break;case"CONVERSION":i.type="Conversion",i.name=r[1],i.method=r.find(v=>Array.isArray(v)&&v[0]==="METHOD")?this.convert(r.find(v=>Array.isArray(v)&&v[0]==="METHOD")):null,i.parameters=r.filter(v=>Array.isArray(v)&&v[0]==="PARAMETER").map(v=>this.convert(v));break;case"METHOD":i.type="Method",i.name=r[1],i.id=this.getId(r);break;case"PARAMETER":i.type="Parameter",i.name=r[1],i.value=parseFloat(r[2]),i.unit=this.convertUnit(r.find(v=>Array.isArray(v)&&(v[0]==="LENGTHUNIT"||v[0]==="ANGLEUNIT"||v[0]==="SCALEUNIT"))),i.id=this.getId(r);break;case"BOUNDCRS":i.type="BoundCRS";const d=r.find(v=>Array.isArray(v)&&v[0]==="SOURCECRS");if(d){const v=d.find(S=>Array.isArray(S));i.source_crs=v?this.convert(v):null}const m=r.find(v=>Array.isArray(v)&&v[0]==="TARGETCRS");if(m){const v=m.find(S=>Array.isArray(S));i.target_crs=v?this.convert(v):null}const g=r.find(v=>Array.isArray(v)&&v[0]==="ABRIDGEDTRANSFORMATION");g?i.transformation=this.convert(g):i.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(i.type="Transformation",i.name=r[1],i.method=r.find(v=>Array.isArray(v)&&v[0]==="METHOD")?this.convert(r.find(v=>Array.isArray(v)&&v[0]==="METHOD")):null,i.parameters=r.filter(v=>Array.isArray(v)&&(v[0]==="PARAMETER"||v[0]==="PARAMETERFILE")).map(v=>{if(v[0]==="PARAMETER")return this.convert(v);if(v[0]==="PARAMETERFILE")return{name:v[1],value:v[2],id:{authority:"EPSG",code:8656}}}),i.parameters.length===7){const v=i.parameters[6];v.name==="Scale difference"&&(v.value=Math.round((v.value-1)*1e12)/1e6)}i.id=this.getId(r);break;case"AXIS":i.coordinate_system||(i.coordinate_system={type:"unspecified",axis:[]}),i.coordinate_system.axis.push(this.convertAxis(r));break;case"LENGTHUNIT":const y=this.convertUnit(r,"LinearUnit");i.coordinate_system&&i.coordinate_system.axis&&i.coordinate_system.axis.forEach(v=>{v.unit||(v.unit=y)}),y.conversion_factor&&y.conversion_factor!==1&&i.semi_major_axis&&(i.semi_major_axis={value:i.semi_major_axis,unit:y});break;default:i.keyword=r[0];break}return i}}class Vp extends H0{static convert(r,i={}){return super.convert(r,i),i.coordinate_system&&i.coordinate_system.subtype==="Cartesian"&&delete i.coordinate_system,i.usage&&delete i.usage,i}}class Wp extends H0{static convert(r,i={}){super.convert(r,i);const a=r.find(u=>Array.isArray(u)&&u[0]==="CS");a&&(i.coordinate_system={subtype:a[1],axis:this.extractAxes(r)});const o=r.find(u=>Array.isArray(u)&&u[0]==="USAGE");if(o){const u=o.find(d=>Array.isArray(d)&&d[0]==="SCOPE"),c=o.find(d=>Array.isArray(d)&&d[0]==="AREA"),f=o.find(d=>Array.isArray(d)&&d[0]==="BBOX");i.usage={},u&&(i.usage.scope=u[1]),c&&(i.usage.area=c[1]),f&&(i.usage.bbox=f.slice(1))}return i}}function Hp(e){return e.find(r=>Array.isArray(r)&&r[0]==="USAGE")?"2019":(e.find(r=>Array.isArray(r)&&r[0]==="CS")||e[0]==="BOUNDCRS"||e[0]==="PROJCRS"||e[0]==="GEOGCRS","2015")}function Qp(e){return(Hp(e)==="2019"?Wp:Vp).convert(e)}function Xp(e){const r=e.toUpperCase();return r.includes("PROJCRS")||r.includes("GEOGCRS")||r.includes("BOUNDCRS")||r.includes("VERTCRS")||r.includes("LENGTHUNIT")||r.includes("ANGLEUNIT")||r.includes("SCALEUNIT")?"WKT2":(r.includes("PROJCS")||r.includes("GEOGCS")||r.includes("LOCAL_CS")||r.includes("VERT_CS")||r.includes("UNIT"),"WKT1")}var xs=1,Q0=2,X0=3,to=4,K0=5,Pl=-1,Kp=/\s/,Jp=/[A-Za-z]/,Yp=/[A-Za-z84_]/,co=/[,\]]/,J0=/[\d\.E\-\+]/;function Qr(e){if(typeof e!="string")throw new Error("not a string");this.text=e.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=xs}Qr.prototype.readCharicter=function(){var e=this.text[this.place++];if(this.state!==to)for(;Kp.test(e);){if(this.place>=this.text.length)return;e=this.text[this.place++]}switch(this.state){case xs:return this.neutral(e);case Q0:return this.keyword(e);case to:return this.quoted(e);case K0:return this.afterquote(e);case X0:return this.number(e);case Pl:return}};Qr.prototype.afterquote=function(e){if(e==='"'){this.word+='"',this.state=to;return}if(co.test(e)){this.word=this.word.trim(),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in afterquote yet, index '+this.place)};Qr.prototype.afterItem=function(e){if(e===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=xs;return}if(e==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=xs,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Pl);return}};Qr.prototype.number=function(e){if(J0.test(e)){this.word+=e;return}if(co.test(e)){this.word=parseFloat(this.word),this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in number yet, index '+this.place)};Qr.prototype.quoted=function(e){if(e==='"'){this.state=K0;return}this.word+=e};Qr.prototype.keyword=function(e){if(Yp.test(e)){this.word+=e;return}if(e==="["){var r=[];r.push(this.word),this.level++,this.root===null?this.root=r:this.currentObject.push(r),this.stack.push(this.currentObject),this.currentObject=r,this.state=xs;return}if(co.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in keyword yet, index '+this.place)};Qr.prototype.neutral=function(e){if(Jp.test(e)){this.word=e,this.state=Q0;return}if(e==='"'){this.word="",this.state=to;return}if(J0.test(e)){this.word=e,this.state=X0;return}if(co.test(e)){this.afterItem(e);return}throw new Error(`havn't handled "`+e+'" in neutral yet, index '+this.place)};Qr.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Pl)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function Zp(e){var r=new Qr(e);return r.output()}function Yu(e,r,i){Array.isArray(r)&&(i.unshift(r),r=null);var a=r?{}:e,o=i.reduce(function(u,c){return mi(c,u),u},a);r&&(e[r]=o)}function mi(e,r){if(!Array.isArray(e)){r[e]=!0;return}var i=e.shift();if(i==="PARAMETER"&&(i=e.shift()),e.length===1){if(Array.isArray(e[0])){r[i]={},mi(e[0],r[i]);return}r[i]=e[0];return}if(!e.length){r[i]=!0;return}if(i==="TOWGS84"){r[i]=e;return}if(i==="AXIS"){i in r||(r[i]=[]),r[i].push(e);return}Array.isArray(i)||(r[i]={});var a;switch(i){case"UNIT":case"PRIMEM":case"VERT_DATUM":r[i]={name:e[0].toLowerCase(),convert:e[1]},e.length===3&&mi(e[2],r[i]);return;case"SPHEROID":case"ELLIPSOID":r[i]={name:e[0],a:e[1],rf:e[2]},e.length===4&&mi(e[3],r[i]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":e[0]=["name",e[0]],Yu(r,i,e);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":e[0]=["name",e[0]],Yu(r,i,e),r[i].type=i;return;default:for(a=-1;++a<e.length;)if(!Array.isArray(e[a]))return mi(e,r[i]);return Yu(r,i,e)}}var em=.017453292519943295;function Er(e){return e*em}function Y0(e){const r=(e.projName||"").toLowerCase().replace(/_/g," ");!e.long0&&e.longc&&(r==="albers conic equal area"||r==="lambert azimuthal equal area")&&(e.long0=e.longc),!e.lat_ts&&e.lat1&&(r==="stereographic south pole"||r==="polar stereographic (variant b)")?(e.lat0=Er(e.lat1>0?90:-90),e.lat_ts=e.lat1,delete e.lat1):!e.lat_ts&&e.lat0&&(r==="polar stereographic"||r==="polar stereographic (variant a)")&&(e.lat_ts=e.lat0,e.lat0=Er(e.lat0>0?90:-90),delete e.lat1)}function Bh(e){let r={units:null,to_meter:void 0};return typeof e=="string"?(r.units=e.toLowerCase(),r.units==="metre"&&(r.units="meter"),r.units==="meter"&&(r.to_meter=1)):e&&e.name&&(r.units=e.name.toLowerCase(),r.units==="metre"&&(r.units="meter"),r.to_meter=e.conversion_factor),r}function zh(e){return typeof e=="object"?e.value*e.unit.conversion_factor:e}function Uh(e,r){e.ellipsoid.radius?(r.a=e.ellipsoid.radius,r.rf=0):(r.a=zh(e.ellipsoid.semi_major_axis),e.ellipsoid.inverse_flattening!==void 0?r.rf=e.ellipsoid.inverse_flattening:e.ellipsoid.semi_major_axis!==void 0&&e.ellipsoid.semi_minor_axis!==void 0&&(r.rf=r.a/(r.a-zh(e.ellipsoid.semi_minor_axis))))}function ro(e,r={}){return!e||typeof e!="object"?e:e.type==="BoundCRS"?(ro(e.source_crs,r),e.transformation&&(e.transformation.method&&e.transformation.method.name==="NTv2"?r.nadgrids=e.transformation.parameters[0].value:r.datum_params=e.transformation.parameters.map(i=>i.value)),r):(Object.keys(e).forEach(i=>{const a=e[i];if(a!==null)switch(i){case"name":if(r.srsCode)break;r.name=a,r.srsCode=a;break;case"type":a==="GeographicCRS"?r.projName="longlat":a==="ProjectedCRS"&&e.conversion&&e.conversion.method&&(r.projName=e.conversion.method.name);break;case"datum":case"datum_ensemble":a.ellipsoid&&(r.ellps=a.ellipsoid.name,Uh(a,r)),a.prime_meridian&&(r.from_greenwich=a.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":r.ellps=a.name,Uh(a,r);break;case"prime_meridian":r.long0=(a.longitude||0)*Math.PI/180;break;case"coordinate_system":if(a.axis){if(r.axis=a.axis.map(o=>{const u=o.direction;if(u==="east")return"e";if(u==="north")return"n";if(u==="west")return"w";if(u==="south")return"s";throw new Error(`Unknown axis direction: ${u}`)}).join("")+"u",a.unit){const{units:o,to_meter:u}=Bh(a.unit);r.units=o,r.to_meter=u}else if(a.axis[0]&&a.axis[0].unit){const{units:o,to_meter:u}=Bh(a.axis[0].unit);r.units=o,r.to_meter=u}}break;case"id":a.authority&&a.code&&(r.title=a.authority+":"+a.code);break;case"conversion":a.method&&a.method.name&&(r.projName=a.method.name),a.parameters&&a.parameters.forEach(o=>{const u=o.name.toLowerCase().replace(/\s+/g,"_"),c=o.value;o.unit&&o.unit.conversion_factor?r[u]=c*o.unit.conversion_factor:o.unit==="degree"?r[u]=c*Math.PI/180:r[u]=c});break;case"unit":a.name&&(r.units=a.name.toLowerCase(),r.units==="metre"&&(r.units="meter")),a.conversion_factor&&(r.to_meter=a.conversion_factor);break;case"base_crs":ro(a,r),r.datumCode=a.id?a.id.authority+"_"+a.id.code:a.name;break}}),r.latitude_of_false_origin!==void 0&&(r.lat0=r.latitude_of_false_origin),r.longitude_of_false_origin!==void 0&&(r.long0=r.longitude_of_false_origin),r.latitude_of_standard_parallel!==void 0&&(r.lat0=r.latitude_of_standard_parallel,r.lat1=r.latitude_of_standard_parallel),r.latitude_of_1st_standard_parallel!==void 0&&(r.lat1=r.latitude_of_1st_standard_parallel),r.latitude_of_2nd_standard_parallel!==void 0&&(r.lat2=r.latitude_of_2nd_standard_parallel),r.latitude_of_projection_centre!==void 0&&(r.lat0=r.latitude_of_projection_centre),r.longitude_of_projection_centre!==void 0&&(r.longc=r.longitude_of_projection_centre),r.easting_at_false_origin!==void 0&&(r.x0=r.easting_at_false_origin),r.northing_at_false_origin!==void 0&&(r.y0=r.northing_at_false_origin),r.latitude_of_natural_origin!==void 0&&(r.lat0=r.latitude_of_natural_origin),r.longitude_of_natural_origin!==void 0&&(r.long0=r.longitude_of_natural_origin),r.longitude_of_origin!==void 0&&(r.long0=r.longitude_of_origin),r.false_easting!==void 0&&(r.x0=r.false_easting),r.easting_at_projection_centre&&(r.x0=r.easting_at_projection_centre),r.false_northing!==void 0&&(r.y0=r.false_northing),r.northing_at_projection_centre&&(r.y0=r.northing_at_projection_centre),r.standard_parallel_1!==void 0&&(r.lat1=r.standard_parallel_1),r.standard_parallel_2!==void 0&&(r.lat2=r.standard_parallel_2),r.scale_factor_at_natural_origin!==void 0&&(r.k0=r.scale_factor_at_natural_origin),r.scale_factor_at_projection_centre!==void 0&&(r.k0=r.scale_factor_at_projection_centre),r.scale_factor_on_pseudo_standard_parallel!==void 0&&(r.k0=r.scale_factor_on_pseudo_standard_parallel),r.azimuth!==void 0&&(r.alpha=r.azimuth),r.azimuth_at_projection_centre!==void 0&&(r.alpha=r.azimuth_at_projection_centre),r.angle_from_rectified_to_skew_grid&&(r.rectified_grid_angle=r.angle_from_rectified_to_skew_grid),Y0(r),r)}var tm=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function rm(e,r){var i=r[0],a=r[1];!(i in e)&&a in e&&(e[i]=e[a],r.length===3&&(e[i]=r[2](e[i])))}function Z0(e){for(var r=Object.keys(e),i=0,a=r.length;i<a;++i){var o=r[i];tm.indexOf(o)!==-1&&nm(e[o]),typeof e[o]=="object"&&Z0(e[o])}}function nm(e){if(e.AUTHORITY){var r=Object.keys(e.AUTHORITY)[0];r&&r in e.AUTHORITY&&(e.title=r+":"+e.AUTHORITY[r])}if(e.type==="GEOGCS"?e.projName="longlat":e.type==="LOCAL_CS"?(e.projName="identity",e.local=!0):typeof e.PROJECTION=="object"?e.projName=Object.keys(e.PROJECTION)[0]:e.projName=e.PROJECTION,e.AXIS){for(var i="",a=0,o=e.AXIS.length;a<o;++a){var u=[e.AXIS[a][0].toLowerCase(),e.AXIS[a][1].toLowerCase()];u[0].indexOf("north")!==-1||(u[0]==="y"||u[0]==="lat")&&u[1]==="north"?i+="n":u[0].indexOf("south")!==-1||(u[0]==="y"||u[0]==="lat")&&u[1]==="south"?i+="s":u[0].indexOf("east")!==-1||(u[0]==="x"||u[0]==="lon")&&u[1]==="east"?i+="e":(u[0].indexOf("west")!==-1||(u[0]==="x"||u[0]==="lon")&&u[1]==="west")&&(i+="w")}i.length===2&&(i+="u"),i.length===3&&(e.axis=i)}e.UNIT&&(e.units=e.UNIT.name.toLowerCase(),e.units==="metre"&&(e.units="meter"),e.UNIT.convert&&(e.type==="GEOGCS"?e.DATUM&&e.DATUM.SPHEROID&&(e.to_meter=e.UNIT.convert*e.DATUM.SPHEROID.a):e.to_meter=e.UNIT.convert));var c=e.GEOGCS;e.type==="GEOGCS"&&(c=e),c&&(c.DATUM?e.datumCode=c.DATUM.name.toLowerCase():e.datumCode=c.name.toLowerCase(),e.datumCode.slice(0,2)==="d_"&&(e.datumCode=e.datumCode.slice(2)),e.datumCode==="new_zealand_1949"&&(e.datumCode="nzgd49"),(e.datumCode==="wgs_1984"||e.datumCode==="world_geodetic_system_1984")&&(e.PROJECTION==="Mercator_Auxiliary_Sphere"&&(e.sphere=!0),e.datumCode="wgs84"),e.datumCode==="belge_1972"&&(e.datumCode="rnb72"),c.DATUM&&c.DATUM.SPHEROID&&(e.ellps=c.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),e.ellps.toLowerCase().slice(0,13)==="international"&&(e.ellps="intl"),e.a=c.DATUM.SPHEROID.a,e.rf=parseFloat(c.DATUM.SPHEROID.rf,10)),c.DATUM&&c.DATUM.TOWGS84&&(e.datum_params=c.DATUM.TOWGS84),~e.datumCode.indexOf("osgb_1936")&&(e.datumCode="osgb36"),~e.datumCode.indexOf("osni_1952")&&(e.datumCode="osni52"),(~e.datumCode.indexOf("tm65")||~e.datumCode.indexOf("geodetic_datum_of_1965"))&&(e.datumCode="ire65"),e.datumCode==="ch1903+"&&(e.datumCode="ch1903"),~e.datumCode.indexOf("israel")&&(e.datumCode="isr93")),e.b&&!isFinite(e.b)&&(e.b=e.a),e.rectified_grid_angle&&(e.rectified_grid_angle=Er(e.rectified_grid_angle));function f(g){var y=e.to_meter||1;return g*y}var d=function(g){return rm(e,g)},m=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Er],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Er],["x0","false_easting",f],["y0","false_northing",f],["long0","central_meridian",Er],["lat0","latitude_of_origin",Er],["lat0","standard_parallel_1",Er],["lat1","standard_parallel_1",Er],["lat2","standard_parallel_2",Er],["azimuth","Azimuth"],["alpha","azimuth",Er],["srsCode","name"]];m.forEach(d),Y0(e)}function no(e){if(typeof e=="object")return ro(e);const r=Xp(e);var i=Zp(e);if(r==="WKT2"){const u=Qp(i);return ro(u)}var a=i[0],o={};return mi(i,o),Z0(o),o[a]}function yt(e){var r=this;if(arguments.length===2){var i=arguments[1];typeof i=="string"?i.charAt(0)==="+"?yt[e]=pl(arguments[1]):yt[e]=no(arguments[1]):i&&typeof i=="object"&&!("projName"in i)?yt[e]=no(arguments[1]):(yt[e]=i,i||delete yt[e])}else if(arguments.length===1){if(Array.isArray(e))return e.map(function(a){return Array.isArray(a)?yt.apply(r,a):yt(a)});if(typeof e=="string"){if(e in yt)return yt[e]}else"EPSG"in e?yt["EPSG:"+e.EPSG]=e:"ESRI"in e?yt["ESRI:"+e.ESRI]=e:"IAU2000"in e?yt["IAU2000:"+e.IAU2000]=e:console.log(e);return}}Ip(yt);function im(e){return typeof e=="string"}function sm(e){return e in yt}function am(e){return e.indexOf("+")!==0&&e.indexOf("[")!==-1||typeof e=="object"&&!("srsCode"in e)}var om=["3857","900913","3785","102113"];function um(e){var r=wn(e,"authority");if(r){var i=wn(r,"epsg");return i&&om.indexOf(i)>-1}}function lm(e){var r=wn(e,"extension");if(r)return wn(r,"proj4")}function cm(e){return e[0]==="+"}function fm(e){if(im(e)){if(sm(e))return yt[e];if(am(e)){var r=no(e);if(um(r))return yt["EPSG:3857"];var i=lm(r);return i?pl(i):r}if(cm(e))return pl(e)}else return"projName"in e?e:no(e)}function qh(e,r){e=e||{};var i,a;if(!r)return e;for(a in r)i=r[a],i!==void 0&&(e[a]=i);return e}function Tr(e,r,i){var a=e*r;return i/Math.sqrt(1-a*a)}function As(e){return e<0?-1:1}function me(e,r){return r||Math.abs(e)<=rt?e:e-As(e)*Es}function xr(e,r,i){var a=e*i,o=.5*e;return a=Math.pow((1-a)/(1+a),o),Math.tan(.5*(ee-r))/a}function Ss(e,r){for(var i=.5*e,a,o,u=ee-2*Math.atan(r),c=0;c<=15;c++)if(a=e*Math.sin(u),o=ee-2*Math.atan(r*Math.pow((1-a)/(1+a),i))-u,u+=o,Math.abs(o)<=1e-10)return u;return-9999}function hm(){var e=this.b/this.a;this.es=1-e*e,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Tr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function dm(e){var r=e.x,i=e.y;if(i*Bt>90&&i*Bt<-90&&r*Bt>180&&r*Bt<-180)return null;var a,o;if(Math.abs(Math.abs(i)-ee)<=he)return null;if(this.sphere)a=this.x0+this.a*this.k0*me(r-this.long0,this.over),o=this.y0+this.a*this.k0*Math.log(Math.tan(je+.5*i));else{var u=Math.sin(i),c=xr(this.e,i,u);a=this.x0+this.a*this.k0*me(r-this.long0,this.over),o=this.y0-this.a*this.k0*Math.log(c)}return e.x=a,e.y=o,e}function pm(e){var r=e.x-this.x0,i=e.y-this.y0,a,o;if(this.sphere)o=ee-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var u=Math.exp(-i/(this.a*this.k0));if(o=Ss(this.e,u),o===-9999)return null}return a=me(this.long0+r/(this.a*this.k0),this.over),e.x=a,e.y=o,e}var mm=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const gm={init:hm,forward:dm,inverse:pm,names:mm};function ym(){}function $h(e){return e}var ed=["longlat","identity"];const vm={init:ym,forward:$h,inverse:$h,names:ed};var _m=[gm,vm],Bn={},gi=[];function td(e,r){var i=gi.length;return e.names?(gi[i]=e,e.names.forEach(function(a){Bn[a.toLowerCase()]=i}),this):(console.log(r),!0)}function rd(e){return e.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function wm(e){if(!e)return!1;var r=e.toLowerCase();if(typeof Bn[r]<"u"&&gi[Bn[r]]||(r=rd(r),r in Bn&&gi[Bn[r]]))return gi[Bn[r]]}function Em(){_m.forEach(td)}const xm={start:Em,add:td,get:wm};var nd={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const Sm=nd.WGS84;function Mm(e,r,i,a){var o=e*e,u=r*r,c=(o-u)/o,f=0;a?(e*=1-c*(zp+c*(Up+c*qp)),o=e*e,c=0):f=Math.sqrt(c);var d=(o-u)/u;return{es:c,e:f,ep2:d}}function Cm(e,r,i,a,o){if(!e){var u=wn(nd,a);u||(u=Sm),e=u.a,r=u.b,i=u.rf}return i&&!r&&(r=(1-1/i)*e),(i===0||Math.abs(e-r)<he)&&(o=!0,r=e),{a:e,b:r,rf:i,sphere:o}}var Ka={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var Pm in Ka){var Zu=Ka[Pm];Zu.datumName&&(Ka[Zu.datumName]=Zu)}function Am(e,r,i,a,o,u,c){var f={};return e===void 0||e==="none"?f.datum_type=dl:f.datum_type=jp,r&&(f.datum_params=r.map(parseFloat),(f.datum_params[0]!==0||f.datum_params[1]!==0||f.datum_params[2]!==0)&&(f.datum_type=qn),f.datum_params.length>3&&(f.datum_params[3]!==0||f.datum_params[4]!==0||f.datum_params[5]!==0||f.datum_params[6]!==0)&&(f.datum_type=$n,f.datum_params[3]*=ms,f.datum_params[4]*=ms,f.datum_params[5]*=ms,f.datum_params[6]=f.datum_params[6]/1e6+1)),c&&(f.datum_type=_i,f.grids=c),f.a=i,f.b=a,f.es=o,f.ep2=u,f}var Al={};function Dm(e,r,i){return r instanceof ArrayBuffer?km(e,r,i):{ready:Nm(e,r)}}function km(e,r,i){var a=!0;i!==void 0&&i.includeErrorFields===!1&&(a=!1);var o=new DataView(r),u=Lm(o),c=Rm(o,u),f=Gm(o,c,u,a),d={header:c,subgrids:f};return Al[e]=d,d}async function Nm(e,r){for(var i=[],a=await r.getImageCount(),o=a-1;o>=0;o--){var u=await r.getImage(o),c=await u.readRasters(),f=c,d=[u.getWidth(),u.getHeight()],m=u.getBoundingBox().map(Vh),g=[u.fileDirectory.ModelPixelScale[0],u.fileDirectory.ModelPixelScale[1]].map(Vh),y=m[0]+(d[0]-1)*g[0],v=m[3]-(d[1]-1)*g[1],S=f[0],C=f[1],L=[];for(let N=d[1]-1;N>=0;N--)for(let R=d[0]-1;R>=0;R--){var M=N*d[0]+R;L.push([-vn(C[M]),vn(S[M])])}i.push({del:g,lim:d,ll:[-y,v],cvs:L})}var F={header:{nSubgrids:a},subgrids:i};return Al[e]=F,F}function bm(e){if(e===void 0)return null;var r=e.split(",");return r.map(Tm)}function Tm(e){if(e.length===0)return null;var r=e[0]==="@";return r&&(e=e.slice(1)),e==="null"?{name:"null",mandatory:!r,grid:null,isNull:!0}:{name:e,mandatory:!r,grid:Al[e]||null,isNull:!1}}function Vh(e){return e*Math.PI/180}function vn(e){return e/3600*Math.PI/180}function Lm(e){var r=e.getInt32(8,!1);return r===11?!1:(r=e.getInt32(8,!0),r!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Rm(e,r){return{nFields:e.getInt32(8,r),nSubgridFields:e.getInt32(24,r),nSubgrids:e.getInt32(40,r),shiftType:ml(e,56,64).trim(),fromSemiMajorAxis:e.getFloat64(120,r),fromSemiMinorAxis:e.getFloat64(136,r),toSemiMajorAxis:e.getFloat64(152,r),toSemiMinorAxis:e.getFloat64(168,r)}}function ml(e,r,i){return String.fromCharCode.apply(null,new Uint8Array(e.buffer.slice(r,i)))}function Gm(e,r,i,a){for(var o=176,u=[],c=0;c<r.nSubgrids;c++){var f=Om(e,o,i),d=Im(e,o,f,i,a),m=Math.round(1+(f.upperLongitude-f.lowerLongitude)/f.longitudeInterval),g=Math.round(1+(f.upperLatitude-f.lowerLatitude)/f.latitudeInterval);u.push({ll:[vn(f.lowerLongitude),vn(f.lowerLatitude)],del:[vn(f.longitudeInterval),vn(f.latitudeInterval)],lim:[m,g],count:f.gridNodeCount,cvs:Fm(d)});var y=16;a===!1&&(y=8),o+=176+f.gridNodeCount*y}return u}function Fm(e){return e.map(function(r){return[vn(r.longitudeShift),vn(r.latitudeShift)]})}function Om(e,r,i){return{name:ml(e,r+8,r+16).trim(),parent:ml(e,r+24,r+24+8).trim(),lowerLatitude:e.getFloat64(r+72,i),upperLatitude:e.getFloat64(r+88,i),lowerLongitude:e.getFloat64(r+104,i),upperLongitude:e.getFloat64(r+120,i),latitudeInterval:e.getFloat64(r+136,i),longitudeInterval:e.getFloat64(r+152,i),gridNodeCount:e.getInt32(r+168,i)}}function Im(e,r,i,a,o){var u=r+176,c=16;o===!1&&(c=8);for(var f=[],d=0;d<i.gridNodeCount;d++){var m={latitudeShift:e.getFloat32(u+d*c,a),longitudeShift:e.getFloat32(u+d*c+4,a)};o!==!1&&(m.latitudeAccuracy=e.getFloat32(u+d*c+8,a),m.longitudeAccuracy=e.getFloat32(u+d*c+12,a)),f.push(m)}return f}function lr(e,r){if(!(this instanceof lr))return new lr(e);this.forward=null,this.inverse=null,this.init=null,this.name,this.names=null,this.title,r=r||function(m){if(m)throw m};var i=fm(e);if(typeof i!="object"){r("Could not parse to valid json: "+e);return}var a=lr.projections.get(i.projName);if(!a){r("Could not get projection name from: "+e);return}if(i.datumCode&&i.datumCode!=="none"){var o=wn(Ka,i.datumCode);o&&(i.datum_params=i.datum_params||(o.towgs84?o.towgs84.split(","):null),i.ellps=o.ellipse,i.datumName=o.datumName?o.datumName:i.datumCode)}i.k0=i.k0||1,i.axis=i.axis||"enu",i.ellps=i.ellps||"wgs84",i.lat1=i.lat1||i.lat0;var u=Cm(i.a,i.b,i.rf,i.ellps,i.sphere),c=Mm(u.a,u.b,u.rf,i.R_A),f=bm(i.nadgrids),d=i.datum||Am(i.datumCode,i.datum_params,u.a,u.b,c.es,c.ep2,f);qh(this,i),qh(this,a),this.a=u.a,this.b=u.b,this.rf=u.rf,this.sphere=u.sphere,this.es=c.es,this.e=c.e,this.ep2=c.ep2,this.datum=d,"init"in this&&typeof this.init=="function"&&this.init(),r(null,this)}lr.projections=xm;lr.projections.start();function jm(e,r){return e.datum_type!==r.datum_type||e.a!==r.a||Math.abs(e.es-r.es)>5e-11?!1:e.datum_type===qn?e.datum_params[0]===r.datum_params[0]&&e.datum_params[1]===r.datum_params[1]&&e.datum_params[2]===r.datum_params[2]:e.datum_type===$n?e.datum_params[0]===r.datum_params[0]&&e.datum_params[1]===r.datum_params[1]&&e.datum_params[2]===r.datum_params[2]&&e.datum_params[3]===r.datum_params[3]&&e.datum_params[4]===r.datum_params[4]&&e.datum_params[5]===r.datum_params[5]&&e.datum_params[6]===r.datum_params[6]:!0}function id(e,r,i){var a=e.x,o=e.y,u=e.z?e.z:0,c,f,d,m;if(o<-ee&&o>-1.001*ee)o=-ee;else if(o>ee&&o<1.001*ee)o=ee;else{if(o<-ee)return{x:-1/0,y:-1/0,z:e.z};if(o>ee)return{x:1/0,y:1/0,z:e.z}}return a>Math.PI&&(a-=2*Math.PI),f=Math.sin(o),m=Math.cos(o),d=f*f,c=i/Math.sqrt(1-r*d),{x:(c+u)*m*Math.cos(a),y:(c+u)*m*Math.sin(a),z:(c*(1-r)+u)*f}}function sd(e,r,i,a){var o=1e-12,u=o*o,c=30,f,d,m,g,y,v,S,C,L,M,F,N,R,I=e.x,Q=e.y,O=e.z?e.z:0,j,se,D;if(f=Math.sqrt(I*I+Q*Q),d=Math.sqrt(I*I+Q*Q+O*O),f/i<o){if(j=0,d/i<o)return se=ee,D=-a,{x:e.x,y:e.y,z:e.z}}else j=Math.atan2(Q,I);m=O/d,g=f/d,y=1/Math.sqrt(1-r*(2-r)*g*g),C=g*(1-r)*y,L=m*y,R=0;do R++,S=i/Math.sqrt(1-r*L*L),D=f*C+O*L-S*(1-r*L*L),v=r*S/(S+D),y=1/Math.sqrt(1-v*(2-v)*g*g),M=g*(1-v)*y,F=m*y,N=F*C-M*L,C=M,L=F;while(N*N>u&&R<c);return se=Math.atan(F/Math.abs(M)),{x:j,y:se,z:D}}function Bm(e,r,i){if(r===qn)return{x:e.x+i[0],y:e.y+i[1],z:e.z+i[2]};if(r===$n){var a=i[0],o=i[1],u=i[2],c=i[3],f=i[4],d=i[5],m=i[6];return{x:m*(e.x-d*e.y+f*e.z)+a,y:m*(d*e.x+e.y-c*e.z)+o,z:m*(-f*e.x+c*e.y+e.z)+u}}}function zm(e,r,i){if(r===qn)return{x:e.x-i[0],y:e.y-i[1],z:e.z-i[2]};if(r===$n){var a=i[0],o=i[1],u=i[2],c=i[3],f=i[4],d=i[5],m=i[6],g=(e.x-a)/m,y=(e.y-o)/m,v=(e.z-u)/m;return{x:g+d*y-f*v,y:-d*g+y+c*v,z:f*g-c*y+v}}}function qa(e){return e===qn||e===$n}function Um(e,r,i){if(jm(e,r)||e.datum_type===dl||r.datum_type===dl)return i;var a=e.a,o=e.es;if(e.datum_type===_i){var u=Wh(e,!1,i);if(u!==0)return;a=Oh,o=Ih}var c=r.a,f=r.b,d=r.es;if(r.datum_type===_i&&(c=Oh,f=Bp,d=Ih),o===d&&a===c&&!qa(e.datum_type)&&!qa(r.datum_type))return i;if(i=id(i,o,a),qa(e.datum_type)&&(i=Bm(i,e.datum_type,e.datum_params)),qa(r.datum_type)&&(i=zm(i,r.datum_type,r.datum_params)),i=sd(i,d,c,f),r.datum_type===_i){var m=Wh(r,!0,i);if(m!==0)return}return i}function Wh(e,r,i){if(e.grids===null||e.grids.length===0)return console.log("Grid shift grids not found"),-1;var a={x:-i.x,y:i.y},o={x:Number.NaN,y:Number.NaN},u=[];e:for(var c=0;c<e.grids.length;c++){var f=e.grids[c];if(u.push(f.name),f.isNull){o=a;break}if(f.grid===null){if(f.mandatory)return console.log("Unable to find mandatory grid '"+f.name+"'"),-1;continue}for(var d=f.grid.subgrids,m=0,g=d.length;m<g;m++){var y=d[m],v=(Math.abs(y.del[1])+Math.abs(y.del[0]))/1e4,S=y.ll[0]-v,C=y.ll[1]-v,L=y.ll[0]+(y.lim[0]-1)*y.del[0]+v,M=y.ll[1]+(y.lim[1]-1)*y.del[1]+v;if(!(C>a.y||S>a.x||M<a.y||L<a.x)&&(o=qm(a,r,y),!isNaN(o.x)))break e}}return isNaN(o.x)?(console.log("Failed to find a grid shift table for location '"+-a.x*Bt+" "+a.y*Bt+" tried: '"+u+"'"),-1):(i.x=-o.x,i.y=o.y,0)}function qm(e,r,i){var a={x:Number.NaN,y:Number.NaN};if(isNaN(e.x))return a;var o={x:e.x,y:e.y};o.x-=i.ll[0],o.y-=i.ll[1],o.x=me(o.x-Math.PI)+Math.PI;var u=Hh(o,i);if(r){if(isNaN(u.x))return a;u.x=o.x-u.x,u.y=o.y-u.y;var c=9,f=1e-12,d,m;do{if(m=Hh(u,i),isNaN(m.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}d={x:o.x-(m.x+u.x),y:o.y-(m.y+u.y)},u.x+=d.x,u.y+=d.y}while(c--&&Math.abs(d.x)>f&&Math.abs(d.y)>f);if(c<0)return console.log("Inverse grid shift iterator failed to converge."),a;a.x=me(u.x+i.ll[0]),a.y=u.y+i.ll[1]}else isNaN(u.x)||(a.x=e.x+u.x,a.y=e.y+u.y);return a}function Hh(e,r){var i={x:e.x/r.del[0],y:e.y/r.del[1]},a={x:Math.floor(i.x),y:Math.floor(i.y)},o={x:i.x-1*a.x,y:i.y-1*a.y},u={x:Number.NaN,y:Number.NaN},c;if(a.x<0||a.x>=r.lim[0]||a.y<0||a.y>=r.lim[1])return u;c=a.y*r.lim[0]+a.x;var f={x:r.cvs[c][0],y:r.cvs[c][1]};c++;var d={x:r.cvs[c][0],y:r.cvs[c][1]};c+=r.lim[0];var m={x:r.cvs[c][0],y:r.cvs[c][1]};c--;var g={x:r.cvs[c][0],y:r.cvs[c][1]},y=o.x*o.y,v=o.x*(1-o.y),S=(1-o.x)*(1-o.y),C=(1-o.x)*o.y;return u.x=S*f.x+v*d.x+C*g.x+y*m.x,u.y=S*f.y+v*d.y+C*g.y+y*m.y,u}function Qh(e,r,i){var a=i.x,o=i.y,u=i.z||0,c,f,d,m={};for(d=0;d<3;d++)if(!(r&&d===2&&i.z===void 0))switch(d===0?(c=a,"ew".indexOf(e.axis[d])!==-1?f="x":f="y"):d===1?(c=o,"ns".indexOf(e.axis[d])!==-1?f="y":f="x"):(c=u,f="z"),e.axis[d]){case"e":m[f]=c;break;case"w":m[f]=-c;break;case"n":m[f]=c;break;case"s":m[f]=-c;break;case"u":i[f]!==void 0&&(m.z=c);break;case"d":i[f]!==void 0&&(m.z=-c);break;default:return null}return m}function ad(e){var r={x:e[0],y:e[1]};return e.length>2&&(r.z=e[2]),e.length>3&&(r.m=e[3]),r}function $m(e){Xh(e.x),Xh(e.y)}function Xh(e){if(typeof Number.isFinite=="function"){if(Number.isFinite(e))return;throw new TypeError("coordinates must be finite numbers")}if(typeof e!="number"||e!==e||!isFinite(e))throw new TypeError("coordinates must be finite numbers")}function Vm(e,r){return(e.datum.datum_type===qn||e.datum.datum_type===$n||e.datum.datum_type===_i)&&r.datumCode!=="WGS84"||(r.datum.datum_type===qn||r.datum.datum_type===$n||r.datum.datum_type===_i)&&e.datumCode!=="WGS84"}function io(e,r,i,a){var o;Array.isArray(i)?i=ad(i):i={x:i.x,y:i.y,z:i.z,m:i.m};var u=i.z!==void 0;if($m(i),e.datum&&r.datum&&Vm(e,r)&&(o=new lr("WGS84"),i=io(e,o,i,a),e=o),a&&e.axis!=="enu"&&(i=Qh(e,!1,i)),e.projName==="longlat")i={x:i.x*Ze,y:i.y*Ze,z:i.z||0};else if(e.to_meter&&(i={x:i.x*e.to_meter,y:i.y*e.to_meter,z:i.z||0}),i=e.inverse(i),!i)return;if(e.from_greenwich&&(i.x+=e.from_greenwich),i=Um(e.datum,r.datum,i),!!i)return i=i,r.from_greenwich&&(i={x:i.x-r.from_greenwich,y:i.y,z:i.z||0}),r.projName==="longlat"?i={x:i.x*Bt,y:i.y*Bt,z:i.z||0}:(i=r.forward(i),r.to_meter&&(i={x:i.x/r.to_meter,y:i.y/r.to_meter,z:i.z||0})),a&&r.axis!=="enu"?Qh(r,!0,i):(i&&!u&&delete i.z,i)}var Kh=lr("WGS84");function el(e,r,i,a){var o,u,c;return Array.isArray(i)?(o=io(e,r,i,a)||{x:NaN,y:NaN},i.length>2?typeof e.name<"u"&&e.name==="geocent"||typeof r.name<"u"&&r.name==="geocent"?typeof o.z=="number"?[o.x,o.y,o.z].concat(i.slice(3)):[o.x,o.y,i[2]].concat(i.slice(3)):[o.x,o.y].concat(i.slice(2)):[o.x,o.y]):(u=io(e,r,i,a),c=Object.keys(i),c.length===2||c.forEach(function(f){if(typeof e.name<"u"&&e.name==="geocent"||typeof r.name<"u"&&r.name==="geocent"){if(f==="x"||f==="y"||f==="z")return}else if(f==="x"||f==="y")return;u[f]=i[f]}),u)}function $a(e){return e instanceof lr?e:typeof e=="object"&&"oProj"in e?e.oProj:lr(e)}function Wm(e,r,i){var a,o,u=!1,c;return typeof r>"u"?(o=$a(e),a=Kh,u=!0):(typeof r.x<"u"||Array.isArray(r))&&(i=r,o=$a(e),a=Kh,u=!0),a||(a=$a(e)),o||(o=$a(r)),i?el(a,o,i):(c={forward:function(f,d){return el(a,o,f,d)},inverse:function(f,d){return el(o,a,f,d)}},u&&(c.oProj=o),c)}var Jh=6,od="AJSAJS",ud="AFAFAF",yi=65,It=73,ur=79,hs=86,ds=90;const Hm={forward:ld,inverse:Qm,toPoint:cd};function ld(e,r){return r=r||5,Jm(Xm({lat:e[1],lon:e[0]}),r)}function Qm(e){var r=Dl(hd(e.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat,r.lon,r.lat]:[r.left,r.bottom,r.right,r.top]}function cd(e){var r=Dl(hd(e.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat]:[(r.left+r.right)/2,(r.top+r.bottom)/2]}function tl(e){return e*(Math.PI/180)}function Yh(e){return 180*(e/Math.PI)}function Xm(e){var r=e.lat,i=e.lon,a=6378137,o=.00669438,u=.9996,c,f,d,m,g,y,v,S=tl(r),C=tl(i),L,M;M=Math.floor((i+180)/6)+1,i===180&&(M=60),r>=56&&r<64&&i>=3&&i<12&&(M=32),r>=72&&r<84&&(i>=0&&i<9?M=31:i>=9&&i<21?M=33:i>=21&&i<33?M=35:i>=33&&i<42&&(M=37)),c=(M-1)*6-180+3,L=tl(c),f=o/(1-o),d=a/Math.sqrt(1-o*Math.sin(S)*Math.sin(S)),m=Math.tan(S)*Math.tan(S),g=f*Math.cos(S)*Math.cos(S),y=Math.cos(S)*(C-L),v=a*((1-o/4-3*o*o/64-5*o*o*o/256)*S-(3*o/8+3*o*o/32+45*o*o*o/1024)*Math.sin(2*S)+(15*o*o/256+45*o*o*o/1024)*Math.sin(4*S)-35*o*o*o/3072*Math.sin(6*S));var F=u*d*(y+(1-m+g)*y*y*y/6+(5-18*m+m*m+72*g-58*f)*y*y*y*y*y/120)+5e5,N=u*(v+d*Math.tan(S)*(y*y/2+(5-m+9*g+4*g*g)*y*y*y*y/24+(61-58*m+m*m+600*g-330*f)*y*y*y*y*y*y/720));return r<0&&(N+=1e7),{northing:Math.round(N),easting:Math.round(F),zoneNumber:M,zoneLetter:Km(r)}}function Dl(e){var r=e.northing,i=e.easting,a=e.zoneLetter,o=e.zoneNumber;if(o<0||o>60)return null;var u=.9996,c=6378137,f=.00669438,d,m=(1-Math.sqrt(1-f))/(1+Math.sqrt(1-f)),g,y,v,S,C,L,M,F,N,R=i-5e5,I=r;a<"N"&&(I-=1e7),M=(o-1)*6-180+3,d=f/(1-f),L=I/u,F=L/(c*(1-f/4-3*f*f/64-5*f*f*f/256)),N=F+(3*m/2-27*m*m*m/32)*Math.sin(2*F)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*F)+151*m*m*m/96*Math.sin(6*F),g=c/Math.sqrt(1-f*Math.sin(N)*Math.sin(N)),y=Math.tan(N)*Math.tan(N),v=d*Math.cos(N)*Math.cos(N),S=c*(1-f)/Math.pow(1-f*Math.sin(N)*Math.sin(N),1.5),C=R/(g*u);var Q=N-g*Math.tan(N)/S*(C*C/2-(5+3*y+10*v-4*v*v-9*d)*C*C*C*C/24+(61+90*y+298*v+45*y*y-252*d-3*v*v)*C*C*C*C*C*C/720);Q=Yh(Q);var O=(C-(1+2*y+v)*C*C*C/6+(5-2*v+28*y-3*v*v+8*d+24*y*y)*C*C*C*C*C/120)/Math.cos(N);O=M+Yh(O);var j;if(e.accuracy){var se=Dl({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});j={top:se.lat,right:se.lon,bottom:Q,left:O}}else j={lat:Q,lon:O};return j}function Km(e){var r="Z";return 84>=e&&e>=72?r="X":72>e&&e>=64?r="W":64>e&&e>=56?r="V":56>e&&e>=48?r="U":48>e&&e>=40?r="T":40>e&&e>=32?r="S":32>e&&e>=24?r="R":24>e&&e>=16?r="Q":16>e&&e>=8?r="P":8>e&&e>=0?r="N":0>e&&e>=-8?r="M":-8>e&&e>=-16?r="L":-16>e&&e>=-24?r="K":-24>e&&e>=-32?r="J":-32>e&&e>=-40?r="H":-40>e&&e>=-48?r="G":-48>e&&e>=-56?r="F":-56>e&&e>=-64?r="E":-64>e&&e>=-72?r="D":-72>e&&e>=-80&&(r="C"),r}function Jm(e,r){var i="00000"+e.easting,a="00000"+e.northing;return e.zoneNumber+e.zoneLetter+Ym(e.easting,e.northing,e.zoneNumber)+i.substr(i.length-5,r)+a.substr(a.length-5,r)}function Ym(e,r,i){var a=fd(i),o=Math.floor(e/1e5),u=Math.floor(r/1e5)%20;return Zm(o,u,a)}function fd(e){var r=e%Jh;return r===0&&(r=Jh),r}function Zm(e,r,i){var a=i-1,o=od.charCodeAt(a),u=ud.charCodeAt(a),c=o+e-1,f=u+r,d=!1;c>ds&&(c=c-ds+yi-1,d=!0),(c===It||o<It&&c>It||(c>It||o<It)&&d)&&c++,(c===ur||o<ur&&c>ur||(c>ur||o<ur)&&d)&&(c++,c===It&&c++),c>ds&&(c=c-ds+yi-1),f>hs?(f=f-hs+yi-1,d=!0):d=!1,(f===It||u<It&&f>It||(f>It||u<It)&&d)&&f++,(f===ur||u<ur&&f>ur||(f>ur||u<ur)&&d)&&(f++,f===It&&f++),f>hs&&(f=f-hs+yi-1);var m=String.fromCharCode(c)+String.fromCharCode(f);return m}function hd(e){if(e&&e.length===0)throw"MGRSPoint coverting from nothing";for(var r=e.length,i=null,a="",o,u=0;!/[A-Z]/.test(o=e.charAt(u));){if(u>=2)throw"MGRSPoint bad conversion from: "+e;a+=o,u++}var c=parseInt(a,10);if(u===0||u+3>r)throw"MGRSPoint bad conversion from: "+e;var f=e.charAt(u++);if(f<="A"||f==="B"||f==="Y"||f>="Z"||f==="I"||f==="O")throw"MGRSPoint zone letter "+f+" not handled: "+e;i=e.substring(u,u+=2);for(var d=fd(c),m=eg(i.charAt(0),d),g=tg(i.charAt(1),d);g<rg(f);)g+=2e6;var y=r-u;if(y%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+e;var v=y/2,S=0,C=0,L,M,F,N,R;return v>0&&(L=1e5/Math.pow(10,v),M=e.substring(u,u+v),S=parseFloat(M)*L,F=e.substring(u+v),C=parseFloat(F)*L),N=S+m,R=C+g,{easting:N,northing:R,zoneLetter:f,zoneNumber:c,accuracy:L}}function eg(e,r){for(var i=od.charCodeAt(r-1),a=1e5,o=!1;i!==e.charCodeAt(0);){if(i++,i===It&&i++,i===ur&&i++,i>ds){if(o)throw"Bad character: "+e;i=yi,o=!0}a+=1e5}return a}function tg(e,r){if(e>"V")throw"MGRSPoint given invalid Northing "+e;for(var i=ud.charCodeAt(r-1),a=0,o=!1;i!==e.charCodeAt(0);){if(i++,i===It&&i++,i===ur&&i++,i>hs){if(o)throw"Bad character: "+e;i=yi,o=!0}a+=1e5}return a}function rg(e){var r;switch(e){case"C":r=11e5;break;case"D":r=2e6;break;case"E":r=28e5;break;case"F":r=37e5;break;case"G":r=46e5;break;case"H":r=55e5;break;case"J":r=64e5;break;case"K":r=73e5;break;case"L":r=82e5;break;case"M":r=91e5;break;case"N":r=0;break;case"P":r=8e5;break;case"Q":r=17e5;break;case"R":r=26e5;break;case"S":r=35e5;break;case"T":r=44e5;break;case"U":r=53e5;break;case"V":r=62e5;break;case"W":r=7e6;break;case"X":r=79e5;break;default:r=-1}if(r>=0)return r;throw"Invalid zone letter: "+e}function Ei(e,r,i){if(!(this instanceof Ei))return new Ei(e,r,i);if(Array.isArray(e))this.x=e[0],this.y=e[1],this.z=e[2]||0;else if(typeof e=="object")this.x=e.x,this.y=e.y,this.z=e.z||0;else if(typeof e=="string"&&typeof r>"u"){var a=e.split(",");this.x=parseFloat(a[0]),this.y=parseFloat(a[1]),this.z=parseFloat(a[2])||0}else this.x=e,this.y=r,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Ei.fromMGRS=function(e){return new Ei(cd(e))};Ei.prototype.toMGRS=function(e){return ld([this.x,this.y],e)};var ng=1,ig=.25,Zh=.046875,e0=.01953125,t0=.01068115234375,sg=.75,ag=.46875,og=.013020833333333334,ug=.007120768229166667,lg=.3645833333333333,cg=.005696614583333333,fg=.3076171875;function kl(e){var r=[];r[0]=ng-e*(ig+e*(Zh+e*(e0+e*t0))),r[1]=e*(sg-e*(Zh+e*(e0+e*t0)));var i=e*e;return r[2]=i*(ag-e*(og+e*ug)),i*=e,r[3]=i*(lg-e*cg),r[4]=i*e*fg,r}function Ci(e,r,i,a){return i*=r,r*=r,a[0]*e-i*(a[1]+r*(a[2]+r*(a[3]+r*a[4])))}var hg=20;function Nl(e,r,i){for(var a=1/(1-r),o=e,u=hg;u;--u){var c=Math.sin(o),f=1-r*c*c;if(f=(Ci(o,c,Math.cos(o),i)-e)*(f*Math.sqrt(f))*a,o-=f,Math.abs(f)<he)return o}return o}function dg(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=kl(this.es),this.ml0=Ci(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function pg(e){var r=e.x,i=e.y,a=me(r-this.long0,this.over),o,u,c,f=Math.sin(i),d=Math.cos(i);if(this.es){var g=d*a,y=Math.pow(g,2),v=this.ep2*Math.pow(d,2),S=Math.pow(v,2),C=Math.abs(d)>he?Math.tan(i):0,L=Math.pow(C,2),M=Math.pow(L,2);o=1-this.es*Math.pow(f,2),g=g/Math.sqrt(o);var F=Ci(i,f,d,this.en);u=this.a*(this.k0*g*(1+y/6*(1-L+v+y/20*(5-18*L+M+14*v-58*L*v+y/42*(61+179*M-M*L-479*L)))))+this.x0,c=this.a*(this.k0*(F-this.ml0+f*a*g/2*(1+y/12*(5-L+9*v+4*S+y/30*(61+M-58*L+270*v-330*L*v+y/56*(1385+543*M-M*L-3111*L))))))+this.y0}else{var m=d*Math.sin(a);if(Math.abs(Math.abs(m)-1)<he)return 93;if(u=.5*this.a*this.k0*Math.log((1+m)/(1-m))+this.x0,c=d*Math.cos(a)/Math.sqrt(1-Math.pow(m,2)),m=Math.abs(c),m>=1){if(m-1>he)return 93;c=0}else c=Math.acos(c);i<0&&(c=-c),c=this.a*this.k0*(c-this.lat0)+this.y0}return e.x=u,e.y=c,e}function mg(e){var r,i,a,o,u=(e.x-this.x0)*(1/this.a),c=(e.y-this.y0)*(1/this.a);if(this.es)if(r=this.ml0+c/this.k0,i=Nl(r,this.es,this.en),Math.abs(i)<ee){var y=Math.sin(i),v=Math.cos(i),S=Math.abs(v)>he?Math.tan(i):0,C=this.ep2*Math.pow(v,2),L=Math.pow(C,2),M=Math.pow(S,2),F=Math.pow(M,2);r=1-this.es*Math.pow(y,2);var N=u*Math.sqrt(r)/this.k0,R=Math.pow(N,2);r=r*S,a=i-r*R/(1-this.es)*.5*(1-R/12*(5+3*M-9*C*M+C-4*L-R/30*(61+90*M-252*C*M+45*F+46*C-R/56*(1385+3633*M+4095*F+1574*F*M)))),o=me(this.long0+N*(1-R/6*(1+2*M+C-R/20*(5+28*M+24*F+8*C*M+6*C-R/42*(61+662*M+1320*F+720*F*M))))/v,this.over)}else a=ee*As(c),o=0;else{var f=Math.exp(u/this.k0),d=.5*(f-1/f),m=this.lat0+c/this.k0,g=Math.cos(m);r=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(d,2))),a=Math.asin(r),c<0&&(a=-a),d===0&&g===0?o=0:o=me(Math.atan2(d,g)+this.long0,this.over)}return e.x=o,e.y=a,e}var gg=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Ja={init:dg,forward:pg,inverse:mg,names:gg};function dd(e){var r=Math.exp(e);return r=(r-1/r)/2,r}function jt(e,r){e=Math.abs(e),r=Math.abs(r);var i=Math.max(e,r),a=Math.min(e,r)/(i||1);return i*Math.sqrt(1+Math.pow(a,2))}function yg(e){var r=1+e,i=r-1;return i===0?e:e*Math.log(r)/i}function vg(e){var r=Math.abs(e);return r=yg(r*(1+r/(jt(1,r)+1))),e<0?-r:r}function bl(e,r){for(var i=2*Math.cos(2*r),a=e.length-1,o=e[a],u=0,c;--a>=0;)c=-u+i*o+e[a],u=o,o=c;return r+c*Math.sin(2*r)}function _g(e,r){for(var i=2*Math.cos(r),a=e.length-1,o=e[a],u=0,c;--a>=0;)c=-u+i*o+e[a],u=o,o=c;return Math.sin(r)*c}function wg(e){var r=Math.exp(e);return r=(r+1/r)/2,r}function pd(e,r,i){for(var a=Math.sin(r),o=Math.cos(r),u=dd(i),c=wg(i),f=2*o*c,d=-2*a*u,m=e.length-1,g=e[m],y=0,v=0,S=0,C,L;--m>=0;)C=v,L=y,v=g,y=S,g=-C+f*v-d*y+e[m],S=-L+d*v+f*y;return f=a*c,d=o*u,[f*g-d*S,f*S+d*g]}function Eg(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Ja.init.apply(this),this.forward=Ja.forward,this.inverse=Ja.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var e=this.es/(1+Math.sqrt(1-this.es)),r=e/(2-e),i=r;this.cgb[0]=r*(2+r*(-2/3+r*(-2+r*(116/45+r*(26/45+r*(-2854/675)))))),this.cbg[0]=r*(-2+r*(2/3+r*(4/3+r*(-82/45+r*(32/45+r*(4642/4725)))))),i=i*r,this.cgb[1]=i*(7/3+r*(-8/5+r*(-227/45+r*(2704/315+r*(2323/945))))),this.cbg[1]=i*(5/3+r*(-16/15+r*(-13/9+r*(904/315+r*(-1522/945))))),i=i*r,this.cgb[2]=i*(56/15+r*(-136/35+r*(-1262/105+r*(73814/2835)))),this.cbg[2]=i*(-26/15+r*(34/21+r*(8/5+r*(-12686/2835)))),i=i*r,this.cgb[3]=i*(4279/630+r*(-332/35+r*(-399572/14175))),this.cbg[3]=i*(1237/630+r*(-12/5+r*(-24832/14175))),i=i*r,this.cgb[4]=i*(4174/315+r*(-144838/6237)),this.cbg[4]=i*(-734/315+r*(109598/31185)),i=i*r,this.cgb[5]=i*(601676/22275),this.cbg[5]=i*(444337/155925),i=Math.pow(r,2),this.Qn=this.k0/(1+r)*(1+i*(1/4+i*(1/64+i/256))),this.utg[0]=r*(-.5+r*(2/3+r*(-37/96+r*(1/360+r*(81/512+r*(-96199/604800)))))),this.gtu[0]=r*(.5+r*(-2/3+r*(5/16+r*(41/180+r*(-127/288+r*(7891/37800)))))),this.utg[1]=i*(-1/48+r*(-1/15+r*(437/1440+r*(-46/105+r*(1118711/3870720))))),this.gtu[1]=i*(13/48+r*(-3/5+r*(557/1440+r*(281/630+r*(-1983433/1935360))))),i=i*r,this.utg[2]=i*(-17/480+r*(37/840+r*(209/4480+r*(-5569/90720)))),this.gtu[2]=i*(61/240+r*(-103/140+r*(15061/26880+r*(167603/181440)))),i=i*r,this.utg[3]=i*(-4397/161280+r*(11/504+r*(830251/7257600))),this.gtu[3]=i*(49561/161280+r*(-179/168+r*(6601661/7257600))),i=i*r,this.utg[4]=i*(-4583/161280+r*(108847/3991680)),this.gtu[4]=i*(34729/80640+r*(-3418889/1995840)),i=i*r,this.utg[5]=i*(-20648693/638668800),this.gtu[5]=i*(212378941/319334400);var a=bl(this.cbg,this.lat0);this.Zb=-this.Qn*(a+_g(this.gtu,2*a))}function xg(e){var r=me(e.x-this.long0,this.over),i=e.y;i=bl(this.cbg,i);var a=Math.sin(i),o=Math.cos(i),u=Math.sin(r),c=Math.cos(r);i=Math.atan2(a,c*o),r=Math.atan2(u*o,jt(a,o*c)),r=vg(Math.tan(r));var f=pd(this.gtu,2*i,2*r);i=i+f[0],r=r+f[1];var d,m;return Math.abs(r)<=2.623395162778?(d=this.a*(this.Qn*r)+this.x0,m=this.a*(this.Qn*i+this.Zb)+this.y0):(d=1/0,m=1/0),e.x=d,e.y=m,e}function Sg(e){var r=(e.x-this.x0)*(1/this.a),i=(e.y-this.y0)*(1/this.a);i=(i-this.Zb)/this.Qn,r=r/this.Qn;var a,o;if(Math.abs(r)<=2.623395162778){var u=pd(this.utg,2*i,2*r);i=i+u[0],r=r+u[1],r=Math.atan(dd(r));var c=Math.sin(i),f=Math.cos(i),d=Math.sin(r),m=Math.cos(r);i=Math.atan2(c*m,jt(d,m*f)),r=Math.atan2(d,m*f),a=me(r+this.long0,this.over),o=bl(this.cgb,i)}else a=1/0,o=1/0;return e.x=a,e.y=o,e}var Mg=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Ya={init:Eg,forward:xg,inverse:Sg,names:Mg};function Cg(e,r){if(e===void 0){if(e=Math.floor((me(r)+Math.PI)*30/Math.PI)+1,e<0)return 0;if(e>60)return 60}return e}var Pg="etmerc";function Ag(){var e=Cg(this.zone,this.long0);if(e===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(e)-183)*Ze,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ya.init.apply(this),this.forward=Ya.forward,this.inverse=Ya.inverse}var Dg=["Universal Transverse Mercator System","utm"];const kg={init:Ag,names:Dg,dependsOn:Pg};function Tl(e,r){return Math.pow((1-e)/(1+e),r)}var Ng=20;function bg(){var e=Math.sin(this.lat0),r=Math.cos(this.lat0);r*=r,this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e),this.C=Math.sqrt(1+this.es*r*r/(1-this.es)),this.phic0=Math.asin(e/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+je)/(Math.pow(Math.tan(.5*this.lat0+je),this.C)*Tl(this.e*e,this.ratexp))}function Tg(e){var r=e.x,i=e.y;return e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+je),this.C)*Tl(this.e*Math.sin(i),this.ratexp))-ee,e.x=this.C*r,e}function Lg(e){for(var r=1e-14,i=e.x/this.C,a=e.y,o=Math.pow(Math.tan(.5*a+je)/this.K,1/this.C),u=Ng;u>0&&(a=2*Math.atan(o*Tl(this.e*Math.sin(e.y),-.5*this.e))-ee,!(Math.abs(a-e.y)<r));--u)e.y=a;return u?(e.x=i,e.y=a,e):null}const Ll={init:bg,forward:Tg,inverse:Lg};function Rg(){Ll.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function Gg(e){var r,i,a,o;return e.x=me(e.x-this.long0,this.over),Ll.forward.apply(this,[e]),r=Math.sin(e.y),i=Math.cos(e.y),a=Math.cos(e.x),o=this.k0*this.R2/(1+this.sinc0*r+this.cosc0*i*a),e.x=o*i*Math.sin(e.x),e.y=o*(this.cosc0*r-this.sinc0*i*a),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function Fg(e){var r,i,a,o,u;if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,u=jt(e.x,e.y)){var c=2*Math.atan2(u,this.R2);r=Math.sin(c),i=Math.cos(c),o=Math.asin(i*this.sinc0+e.y*r*this.cosc0/u),a=Math.atan2(e.x*r,u*this.cosc0*i-e.y*this.sinc0*r)}else o=this.phic0,a=0;return e.x=a,e.y=o,Ll.inverse.apply(this,[e]),e.x=me(e.x+this.long0,this.over),e}var Og=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const Ig={init:Rg,forward:Gg,inverse:Fg,names:Og};function Rl(e,r,i){return r*=i,Math.tan(.5*(ee+e))*Math.pow((1-r)/(1+r),.5*i)}function jg(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=he&&(this.k0=.5*(1+As(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=he&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=he&&Math.abs(Math.cos(this.lat_ts))>he&&(this.k0=.5*this.cons*Tr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/xr(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Tr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(Rl(this.lat0,this.sinlat0,this.e))-ee,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function Bg(e){var r=e.x,i=e.y,a=Math.sin(i),o=Math.cos(i),u,c,f,d,m,g,y=me(r-this.long0,this.over);return Math.abs(Math.abs(r-this.long0)-Math.PI)<=he&&Math.abs(i+this.lat0)<=he?(e.x=NaN,e.y=NaN,e):this.sphere?(u=2*this.k0/(1+this.sinlat0*a+this.coslat0*o*Math.cos(y)),e.x=this.a*u*o*Math.sin(y)+this.x0,e.y=this.a*u*(this.coslat0*a-this.sinlat0*o*Math.cos(y))+this.y0,e):(c=2*Math.atan(Rl(i,a,this.e))-ee,d=Math.cos(c),f=Math.sin(c),Math.abs(this.coslat0)<=he?(m=xr(this.e,i*this.con,this.con*a),g=2*this.a*this.k0*m/this.cons,e.x=this.x0+g*Math.sin(r-this.long0),e.y=this.y0-this.con*g*Math.cos(r-this.long0),e):(Math.abs(this.sinlat0)<he?(u=2*this.a*this.k0/(1+d*Math.cos(y)),e.y=u*f):(u=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*f+this.cosX0*d*Math.cos(y))),e.y=u*(this.cosX0*f-this.sinX0*d*Math.cos(y))+this.y0),e.x=u*d*Math.sin(y)+this.x0,e))}function zg(e){e.x-=this.x0,e.y-=this.y0;var r,i,a,o,u,c=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var f=2*Math.atan(c/(2*this.a*this.k0));return r=this.long0,i=this.lat0,c<=he?(e.x=r,e.y=i,e):(i=Math.asin(Math.cos(f)*this.sinlat0+e.y*Math.sin(f)*this.coslat0/c),Math.abs(this.coslat0)<he?this.lat0>0?r=me(this.long0+Math.atan2(e.x,-1*e.y),this.over):r=me(this.long0+Math.atan2(e.x,e.y),this.over):r=me(this.long0+Math.atan2(e.x*Math.sin(f),c*this.coslat0*Math.cos(f)-e.y*this.sinlat0*Math.sin(f)),this.over),e.x=r,e.y=i,e)}else if(Math.abs(this.coslat0)<=he){if(c<=he)return i=this.lat0,r=this.long0,e.x=r,e.y=i,e;e.x*=this.con,e.y*=this.con,a=c*this.cons/(2*this.a*this.k0),i=this.con*Ss(this.e,a),r=this.con*me(this.con*this.long0+Math.atan2(e.x,-1*e.y),this.over)}else o=2*Math.atan(c*this.cosX0/(2*this.a*this.k0*this.ms1)),r=this.long0,c<=he?u=this.X0:(u=Math.asin(Math.cos(o)*this.sinX0+e.y*Math.sin(o)*this.cosX0/c),r=me(this.long0+Math.atan2(e.x*Math.sin(o),c*this.cosX0*Math.cos(o)-e.y*this.sinX0*Math.sin(o)),this.over)),i=-1*Ss(this.e,Math.tan(.5*(ee+u)));return e.x=r,e.y=i,e}var Ug=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const qg={init:jg,forward:Bg,inverse:zg,names:Ug,ssfn_:Rl};function $g(){var e=this.lat0;this.lambda0=this.long0;var r=Math.sin(e),i=this.a,a=this.rf,o=1/a,u=2*o-Math.pow(o,2),c=this.e=Math.sqrt(u);this.R=this.k0*i*Math.sqrt(1-u)/(1-u*Math.pow(r,2)),this.alpha=Math.sqrt(1+u/(1-u)*Math.pow(Math.cos(e),4)),this.b0=Math.asin(r/this.alpha);var f=Math.log(Math.tan(Math.PI/4+this.b0/2)),d=Math.log(Math.tan(Math.PI/4+e/2)),m=Math.log((1+c*r)/(1-c*r));this.K=f-this.alpha*d+this.alpha*c/2*m}function Vg(e){var r=Math.log(Math.tan(Math.PI/4-e.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y))),a=-this.alpha*(r+i)+this.K,o=2*(Math.atan(Math.exp(a))-Math.PI/4),u=this.alpha*(e.x-this.lambda0),c=Math.atan(Math.sin(u)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(u))),f=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(u));return e.y=this.R/2*Math.log((1+Math.sin(f))/(1-Math.sin(f)))+this.y0,e.x=this.R*c+this.x0,e}function Wg(e){for(var r=e.x-this.x0,i=e.y-this.y0,a=r/this.R,o=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),u=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(a)),c=Math.atan(Math.sin(a)/(Math.cos(this.b0)*Math.cos(a)-Math.sin(this.b0)*Math.tan(o))),f=this.lambda0+c/this.alpha,d=0,m=u,g=-1e3,y=0;Math.abs(m-g)>1e-7;){if(++y>20)return;d=1/this.alpha*(Math.log(Math.tan(Math.PI/4+u/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(m))/2)),g=m,m=2*Math.atan(Math.exp(d))-Math.PI/2}return e.x=f,e.y=m,e}var Hg=["somerc"];const Qg={init:$g,forward:Vg,inverse:Wg,names:Hg};var pi=1e-7;function Xg(e){var r=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],i=typeof e.projName=="object"?Object.keys(e.projName)[0]:e.projName;return"no_uoff"in e||"no_off"in e||r.indexOf(i)!==-1||r.indexOf(rd(i))!==-1}function Kg(){var e,r,i,a,o,u,c,f,d,m,g=0,y,v=0,S=0,C=0,L=0,M=0,F=0;this.no_off=Xg(this),this.no_rot="no_rot"in this;var N=!1;"alpha"in this&&(N=!0);var R=!1;if("rectified_grid_angle"in this&&(R=!0),N&&(F=this.alpha),R&&(g=this.rectified_grid_angle),N||R)v=this.longc;else if(S=this.long1,L=this.lat1,C=this.long2,M=this.lat2,Math.abs(L-M)<=pi||(e=Math.abs(L))<=pi||Math.abs(e-ee)<=pi||Math.abs(Math.abs(this.lat0)-ee)<=pi||Math.abs(Math.abs(M)-ee)<=pi)throw new Error;var I=1-this.es;r=Math.sqrt(I),Math.abs(this.lat0)>he?(f=Math.sin(this.lat0),i=Math.cos(this.lat0),e=1-this.es*f*f,this.B=i*i,this.B=Math.sqrt(1+this.es*this.B*this.B/I),this.A=this.B*this.k0*r/e,a=this.B*r/(i*Math.sqrt(e)),o=a*a-1,o<=0?o=0:(o=Math.sqrt(o),this.lat0<0&&(o=-o)),this.E=o+=a,this.E*=Math.pow(xr(this.e,this.lat0,f),this.B)):(this.B=1/r,this.A=this.k0,this.E=a=o=1),N||R?(N?(y=Math.asin(Math.sin(F)/a),R||(g=F)):(y=g,F=Math.asin(a*Math.sin(y))),this.lam0=v-Math.asin(.5*(o-1/o)*Math.tan(y))/this.B):(u=Math.pow(xr(this.e,L,Math.sin(L)),this.B),c=Math.pow(xr(this.e,M,Math.sin(M)),this.B),o=this.E/u,d=(c-u)/(c+u),m=this.E*this.E,m=(m-c*u)/(m+c*u),e=S-C,e<-Math.PI?C-=Es:e>Math.PI&&(C+=Es),this.lam0=me(.5*(S+C)-Math.atan(m*Math.tan(.5*this.B*(S-C))/d)/this.B,this.over),y=Math.atan(2*Math.sin(this.B*me(S-this.lam0,this.over))/(o-1/o)),g=F=Math.asin(a*Math.sin(y))),this.singam=Math.sin(y),this.cosgam=Math.cos(y),this.sinrot=Math.sin(g),this.cosrot=Math.cos(g),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(a*a-1)/Math.cos(F))),this.lat0<0&&(this.u_0=-this.u_0)),o=.5*y,this.v_pole_n=this.ArB*Math.log(Math.tan(je-o)),this.v_pole_s=this.ArB*Math.log(Math.tan(je+o))}function Jg(e){var r={},i,a,o,u,c,f,d,m;if(e.x=e.x-this.lam0,Math.abs(Math.abs(e.y)-ee)>he){if(c=this.E/Math.pow(xr(this.e,e.y,Math.sin(e.y)),this.B),f=1/c,i=.5*(c-f),a=.5*(c+f),u=Math.sin(this.B*e.x),o=(i*this.singam-u*this.cosgam)/a,Math.abs(Math.abs(o)-1)<he)throw new Error;m=.5*this.ArB*Math.log((1-o)/(1+o)),f=Math.cos(this.B*e.x),Math.abs(f)<pi?d=this.A*e.x:d=this.ArB*Math.atan2(i*this.cosgam+u*this.singam,f)}else m=e.y>0?this.v_pole_n:this.v_pole_s,d=this.ArB*e.y;return this.no_rot?(r.x=d,r.y=m):(d-=this.u_0,r.x=m*this.cosrot+d*this.sinrot,r.y=d*this.cosrot-m*this.sinrot),r.x=this.a*r.x+this.x0,r.y=this.a*r.y+this.y0,r}function Yg(e){var r,i,a,o,u,c,f,d={};if(e.x=(e.x-this.x0)*(1/this.a),e.y=(e.y-this.y0)*(1/this.a),this.no_rot?(i=e.y,r=e.x):(i=e.x*this.cosrot-e.y*this.sinrot,r=e.y*this.cosrot+e.x*this.sinrot+this.u_0),a=Math.exp(-this.BrA*i),o=.5*(a-1/a),u=.5*(a+1/a),c=Math.sin(this.BrA*r),f=(c*this.cosgam+o*this.singam)/u,Math.abs(Math.abs(f)-1)<he)d.x=0,d.y=f<0?-ee:ee;else{if(d.y=this.E/Math.sqrt((1+f)/(1-f)),d.y=Ss(this.e,Math.pow(d.y,1/this.B)),d.y===1/0)throw new Error;d.x=-this.rB*Math.atan2(o*this.cosgam-c*this.singam,Math.cos(this.BrA*r))}return d.x+=this.lam0,d}var Zg=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const ey={init:Kg,forward:Jg,inverse:Yg,names:Zg};function ty(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<he)){var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var r=Math.sin(this.lat1),i=Math.cos(this.lat1),a=Tr(this.e,r,i),o=xr(this.e,this.lat1,r),u=Math.sin(this.lat2),c=Math.cos(this.lat2),f=Tr(this.e,u,c),d=xr(this.e,this.lat2,u),m=Math.abs(Math.abs(this.lat0)-ee)<he?0:xr(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>he?this.ns=Math.log(a/f)/Math.log(o/d):this.ns=r,isNaN(this.ns)&&(this.ns=r),this.f0=a/(this.ns*Math.pow(o,this.ns)),this.rh=this.a*this.f0*Math.pow(m,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function ry(e){var r=e.x,i=e.y;Math.abs(2*Math.abs(i)-Math.PI)<=he&&(i=As(i)*(ee-2*he));var a=Math.abs(Math.abs(i)-ee),o,u;if(a>he)o=xr(this.e,i,Math.sin(i)),u=this.a*this.f0*Math.pow(o,this.ns);else{if(a=i*this.ns,a<=0)return null;u=0}var c=this.ns*me(r-this.long0,this.over);return e.x=this.k0*(u*Math.sin(c))+this.x0,e.y=this.k0*(this.rh-u*Math.cos(c))+this.y0,e}function ny(e){var r,i,a,o,u,c=(e.x-this.x0)/this.k0,f=this.rh-(e.y-this.y0)/this.k0;this.ns>0?(r=Math.sqrt(c*c+f*f),i=1):(r=-Math.sqrt(c*c+f*f),i=-1);var d=0;if(r!==0&&(d=Math.atan2(i*c,i*f)),r!==0||this.ns>0){if(i=1/this.ns,a=Math.pow(r/(this.a*this.f0),i),o=Ss(this.e,a),o===-9999)return null}else o=-ee;return u=me(d/this.ns+this.long0,this.over),e.x=u,e.y=o,e}var iy=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const sy={init:ty,forward:ry,inverse:ny,names:iy};function ay(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function oy(e){var r,i,a,o,u,c,f,d=e.x,m=e.y,g=me(d-this.long0,this.over);return r=Math.pow((1+this.e*Math.sin(m))/(1-this.e*Math.sin(m)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(m/2+this.s45),this.alfa)/r)-this.s45),a=-g*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(a)),u=Math.asin(Math.cos(i)*Math.sin(a)/Math.cos(o)),c=this.n*u,f=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),e.y=f*Math.cos(c)/1,e.x=f*Math.sin(c)/1,this.czech||(e.y*=-1,e.x*=-1),e}function uy(e){var r,i,a,o,u,c,f,d,m=e.x;e.x=e.y,e.y=m,this.czech||(e.y*=-1,e.x*=-1),c=Math.sqrt(e.x*e.x+e.y*e.y),u=Math.atan2(e.y,e.x),o=u/Math.sin(this.s0),a=2*(Math.atan(Math.pow(this.ro0/c,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),r=Math.asin(Math.cos(this.ad)*Math.sin(a)-Math.sin(this.ad)*Math.cos(a)*Math.cos(o)),i=Math.asin(Math.cos(a)*Math.sin(o)/Math.cos(r)),e.x=this.long0-i/this.alfa,f=r,d=0;var g=0;do e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(r/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.e/2))-this.s45),Math.abs(f-e.y)<1e-10&&(d=1),f=e.y,g+=1;while(d===0&&g<15);return g>=15?null:e}var ly=["Krovak","krovak"];const cy={init:ay,forward:oy,inverse:uy,names:ly};function Dt(e,r,i,a,o){return e*o-r*Math.sin(2*o)+i*Math.sin(4*o)-a*Math.sin(6*o)}function Ds(e){return 1-.25*e*(1+e/16*(3+1.25*e))}function ks(e){return .375*e*(1+.25*e*(1+.46875*e))}function Ns(e){return .05859375*e*e*(1+.75*e)}function bs(e){return e*e*e*(35/3072)}function Gl(e,r,i){var a=r*i;return e/Math.sqrt(1-a*a)}function Sn(e){return Math.abs(e)<ee?e:e-As(e)*Math.PI}function so(e,r,i,a,o){var u,c;u=e/r;for(var f=0;f<15;f++)if(c=(e-(r*u-i*Math.sin(2*u)+a*Math.sin(4*u)-o*Math.sin(6*u)))/(r-2*i*Math.cos(2*u)+4*a*Math.cos(4*u)-6*o*Math.cos(6*u)),u+=c,Math.abs(c)<=1e-10)return u;return NaN}function fy(){this.sphere||(this.e0=Ds(this.es),this.e1=ks(this.es),this.e2=Ns(this.es),this.e3=bs(this.es),this.ml0=this.a*Dt(this.e0,this.e1,this.e2,this.e3,this.lat0))}function hy(e){var r,i,a=e.x,o=e.y;if(a=me(a-this.long0,this.over),this.sphere)r=this.a*Math.asin(Math.cos(o)*Math.sin(a)),i=this.a*(Math.atan2(Math.tan(o),Math.cos(a))-this.lat0);else{var u=Math.sin(o),c=Math.cos(o),f=Gl(this.a,this.e,u),d=Math.tan(o)*Math.tan(o),m=a*Math.cos(o),g=m*m,y=this.es*c*c/(1-this.es),v=this.a*Dt(this.e0,this.e1,this.e2,this.e3,o);r=f*m*(1-g*d*(1/6-(8-d+8*y)*g/120)),i=v-this.ml0+f*u/c*g*(.5+(5-d+6*y)*g/24)}return e.x=r+this.x0,e.y=i+this.y0,e}function dy(e){e.x-=this.x0,e.y-=this.y0;var r=e.x/this.a,i=e.y/this.a,a,o;if(this.sphere){var u=i+this.lat0;a=Math.asin(Math.sin(u)*Math.cos(r)),o=Math.atan2(Math.tan(r),Math.cos(u))}else{var c=this.ml0/this.a+i,f=so(c,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(f)-ee)<=he)return e.x=this.long0,e.y=ee,i<0&&(e.y*=-1),e;var d=Gl(this.a,this.e,Math.sin(f)),m=d*d*d/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(f),2),y=r*this.a/d,v=y*y;a=f-d*Math.tan(f)/m*y*y*(.5-(1+3*g)*y*y/24),o=y*(1-v*(g/3+(1+3*g)*g*v/15))/Math.cos(f)}return e.x=me(o+this.long0,this.over),e.y=Sn(a),e}var py=["Cassini","Cassini_Soldner","cass"];const my={init:fy,forward:hy,inverse:dy,names:py};function _n(e,r){var i;return e>1e-7?(i=e*r,(1-e*e)*(r/(1-i*i)-.5/e*Math.log((1-i)/(1+i)))):2*r}var gl=1,yl=2,vl=3,Za=4;function gy(){var e=Math.abs(this.lat0);if(Math.abs(e-ee)<he?this.mode=this.lat0<0?gl:yl:Math.abs(e)<he?this.mode=vl:this.mode=Za,this.es>0){var r;switch(this.qp=_n(this.e,1),this.mmf=.5/(1-this.es),this.apa=Cy(this.es),this.mode){case yl:this.dd=1;break;case gl:this.dd=1;break;case vl:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case Za:this.rq=Math.sqrt(.5*this.qp),r=Math.sin(this.lat0),this.sinb1=_n(this.e,r)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*r*r)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===Za&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function yy(e){var r,i,a,o,u,c,f,d,m,g,y=e.x,v=e.y;if(y=me(y-this.long0,this.over),this.sphere){if(u=Math.sin(v),g=Math.cos(v),a=Math.cos(y),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+g*a:1+this.sinph0*u+this.cosph0*g*a,i<=he)return null;i=Math.sqrt(2/i),r=i*g*Math.sin(y),i*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*g*a}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),Math.abs(v+this.lat0)<he)return null;i=je-v*.5,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),r=i*Math.sin(y),i*=a}}else{switch(f=0,d=0,m=0,a=Math.cos(y),o=Math.sin(y),u=Math.sin(v),c=_n(this.e,u),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=c/this.qp,d=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:m=1+this.sinb1*f+this.cosb1*d*a;break;case this.EQUIT:m=1+d*a;break;case this.N_POLE:m=ee+v,c=this.qp-c;break;case this.S_POLE:m=v-ee,c=this.qp+c;break}if(Math.abs(m)<he)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:m=Math.sqrt(2/m),this.mode===this.OBLIQ?i=this.ymf*m*(this.cosb1*f-this.sinb1*d*a):i=(m=Math.sqrt(2/(1+d*a)))*f*this.ymf,r=this.xmf*m*d*o;break;case this.N_POLE:case this.S_POLE:c>=0?(r=(m=Math.sqrt(c))*o,i=a*(this.mode===this.S_POLE?m:-m)):r=i=0;break}}return e.x=this.a*r+this.x0,e.y=this.a*i+this.y0,e}function vy(e){e.x-=this.x0,e.y-=this.y0;var r=e.x/this.a,i=e.y/this.a,a,o,u,c,f,d,m;if(this.sphere){var g=0,y,v=0;if(y=Math.sqrt(r*r+i*i),o=y*.5,o>1)return null;switch(o=2*Math.asin(o),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(v=Math.sin(o),g=Math.cos(o)),this.mode){case this.EQUIT:o=Math.abs(y)<=he?0:Math.asin(i*v/y),r*=v,i=g*y;break;case this.OBLIQ:o=Math.abs(y)<=he?this.lat0:Math.asin(g*this.sinph0+i*v*this.cosph0/y),r*=v*this.cosph0,i=(g-Math.sin(o)*this.sinph0)*y;break;case this.N_POLE:i=-i,o=ee-o;break;case this.S_POLE:o-=ee;break}a=i===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(r,i)}else{if(m=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r/=this.dd,i*=this.dd,d=Math.sqrt(r*r+i*i),d<he)return e.x=this.long0,e.y=this.lat0,e;c=2*Math.asin(.5*d/this.rq),u=Math.cos(c),r*=c=Math.sin(c),this.mode===this.OBLIQ?(m=u*this.sinb1+i*c*this.cosb1/d,f=this.qp*m,i=d*this.cosb1*u-i*this.sinb1*c):(m=i*c/d,f=this.qp*m,i=d*u)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),f=r*r+i*i,!f)return e.x=this.long0,e.y=this.lat0,e;m=1-f/this.qp,this.mode===this.S_POLE&&(m=-m)}a=Math.atan2(r,i),o=Py(Math.asin(m),this.apa)}return e.x=me(this.long0+a,this.over),e.y=o,e}var _y=.3333333333333333,wy=.17222222222222222,Ey=.10257936507936508,xy=.06388888888888888,Sy=.0664021164021164,My=.016415012942191543;function Cy(e){var r,i=[];return i[0]=e*_y,r=e*e,i[0]+=r*wy,i[1]=r*xy,r*=e,i[0]+=r*Ey,i[1]+=r*Sy,i[2]=r*My,i}function Py(e,r){var i=e+e;return e+r[0]*Math.sin(i)+r[1]*Math.sin(i+i)+r[2]*Math.sin(i+i+i)}var Ay=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Dy={init:gy,forward:yy,inverse:vy,names:Ay,S_POLE:gl,N_POLE:yl,EQUIT:vl,OBLIQ:Za};function En(e){return Math.abs(e)>1&&(e=e>1?1:-1),Math.asin(e)}function ky(){Math.abs(this.lat1+this.lat2)<he||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Tr(this.e3,this.sin_po,this.cos_po),this.qs1=_n(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Tr(this.e3,this.sin_po,this.cos_po),this.qs2=_n(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=_n(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>he?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Ny(e){var r=e.x,i=e.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var a=_n(this.e3,this.sin_phi),o=this.a*Math.sqrt(this.c-this.ns0*a)/this.ns0,u=this.ns0*me(r-this.long0,this.over),c=o*Math.sin(u)+this.x0,f=this.rh-o*Math.cos(u)+this.y0;return e.x=c,e.y=f,e}function by(e){var r,i,a,o,u,c;return e.x-=this.x0,e.y=this.rh-e.y+this.y0,this.ns0>=0?(r=Math.sqrt(e.x*e.x+e.y*e.y),a=1):(r=-Math.sqrt(e.x*e.x+e.y*e.y),a=-1),o=0,r!==0&&(o=Math.atan2(a*e.x,a*e.y)),a=r*this.ns0/this.a,this.sphere?c=Math.asin((this.c-a*a)/(2*this.ns0)):(i=(this.c-a*a)/this.ns0,c=this.phi1z(this.e3,i)),u=me(o/this.ns0+this.long0,this.over),e.x=u,e.y=c,e}function Ty(e,r){var i,a,o,u,c,f=En(.5*r);if(e<he)return f;for(var d=e*e,m=1;m<=25;m++)if(i=Math.sin(f),a=Math.cos(f),o=e*i,u=1-o*o,c=.5*u*u/a*(r/(1-d)-i/u+.5/e*Math.log((1-o)/(1+o))),f=f+c,Math.abs(c)<=1e-7)return f;return null}var Ly=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const Ry={init:ky,forward:Ny,inverse:by,names:Ly,phi1z:Ty};function Gy(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Fy(e){var r,i,a,o,u,c,f,d,m=e.x,g=e.y;return a=me(m-this.long0,this.over),r=Math.sin(g),i=Math.cos(g),o=Math.cos(a),c=this.sin_p14*r+this.cos_p14*i*o,u=1,c>0||Math.abs(c)<=he?(f=this.x0+this.a*u*i*Math.sin(a)/c,d=this.y0+this.a*u*(this.cos_p14*r-this.sin_p14*i*o)/c):(f=this.x0+this.infinity_dist*i*Math.sin(a),d=this.y0+this.infinity_dist*(this.cos_p14*r-this.sin_p14*i*o)),e.x=f,e.y=d,e}function Oy(e){var r,i,a,o,u,c;return e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,e.x/=this.k0,e.y/=this.k0,(r=Math.sqrt(e.x*e.x+e.y*e.y))?(o=Math.atan2(r,this.rc),i=Math.sin(o),a=Math.cos(o),c=En(a*this.sin_p14+e.y*i*this.cos_p14/r),u=Math.atan2(e.x*i,r*this.cos_p14*a-e.y*this.sin_p14*i),u=me(this.long0+u,this.over)):(c=this.phic0,u=0),e.x=u,e.y=c,e}var Iy=["gnom"];const jy={init:Gy,forward:Fy,inverse:Oy,names:Iy};function By(e,r){var i=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(r)-i)<1e-6)return r<0?-1*ee:ee;for(var a=Math.asin(.5*r),o,u,c,f,d=0;d<30;d++)if(u=Math.sin(a),c=Math.cos(a),f=e*u,o=Math.pow(1-f*f,2)/(2*c)*(r/(1-e*e)-u/(1-f*f)+.5/e*Math.log((1-f)/(1+f))),a+=o,Math.abs(o)<=1e-10)return a;return NaN}function zy(){this.sphere||(this.k0=Tr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Uy(e){var r=e.x,i=e.y,a,o,u=me(r-this.long0,this.over);if(this.sphere)a=this.x0+this.a*u*Math.cos(this.lat_ts),o=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var c=_n(this.e,Math.sin(i));a=this.x0+this.a*this.k0*u,o=this.y0+this.a*c*.5/this.k0}return e.x=a,e.y=o,e}function qy(e){e.x-=this.x0,e.y-=this.y0;var r,i;return this.sphere?(r=me(this.long0+e.x/this.a/Math.cos(this.lat_ts),this.over),i=Math.asin(e.y/this.a*Math.cos(this.lat_ts))):(i=By(this.e,2*e.y*this.k0/this.a),r=me(this.long0+e.x/(this.a*this.k0),this.over)),e.x=r,e.y=i,e}var $y=["cea"];const Vy={init:zy,forward:Uy,inverse:qy,names:$y};function Wy(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function Hy(e){var r=e.x,i=e.y,a=me(r-this.long0,this.over),o=Sn(i-this.lat0);return e.x=this.x0+this.a*a*this.rc,e.y=this.y0+this.a*o,e}function Qy(e){var r=e.x,i=e.y;return e.x=me(this.long0+(r-this.x0)/(this.a*this.rc),this.over),e.y=Sn(this.lat0+(i-this.y0)/this.a),e}var Xy=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const Ky={init:Wy,forward:Hy,inverse:Qy,names:Xy};var r0=20;function Jy(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ds(this.es),this.e1=ks(this.es),this.e2=Ns(this.es),this.e3=bs(this.es),this.ml0=this.a*Dt(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Yy(e){var r=e.x,i=e.y,a,o,u,c=me(r-this.long0,this.over);if(u=c*Math.sin(i),this.sphere)Math.abs(i)<=he?(a=this.a*c,o=-1*this.a*this.lat0):(a=this.a*Math.sin(u)/Math.tan(i),o=this.a*(Sn(i-this.lat0)+(1-Math.cos(u))/Math.tan(i)));else if(Math.abs(i)<=he)a=this.a*c,o=-1*this.ml0;else{var f=Gl(this.a,this.e,Math.sin(i))/Math.tan(i);a=f*Math.sin(u),o=this.a*Dt(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+f*(1-Math.cos(u))}return e.x=a+this.x0,e.y=o+this.y0,e}function Zy(e){var r,i,a,o,u,c,f,d,m;if(a=e.x-this.x0,o=e.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=he)r=me(a/this.a+this.long0,this.over),i=0;else{c=this.lat0+o/this.a,f=a*a/this.a/this.a+c*c,d=c;var g;for(u=r0;u;--u)if(g=Math.tan(d),m=-1*(c*(d*g+1)-d-.5*(d*d+f)*g)/((d-c)/g-1),d+=m,Math.abs(m)<=he){i=d;break}r=me(this.long0+Math.asin(a*Math.tan(d)/this.a)/Math.sin(i),this.over)}else if(Math.abs(o+this.ml0)<=he)i=0,r=me(this.long0+a/this.a,this.over);else{c=(this.ml0+o)/this.a,f=a*a/this.a/this.a+c*c,d=c;var y,v,S,C,L;for(u=r0;u;--u)if(L=this.e*Math.sin(d),y=Math.sqrt(1-L*L)*Math.tan(d),v=this.a*Dt(this.e0,this.e1,this.e2,this.e3,d),S=this.e0-2*this.e1*Math.cos(2*d)+4*this.e2*Math.cos(4*d)-6*this.e3*Math.cos(6*d),C=v/this.a,m=(c*(y*C+1)-C-.5*y*(C*C+f))/(this.es*Math.sin(2*d)*(C*C+f-2*c*C)/(4*y)+(c-C)*(y*S-2/Math.sin(2*d))-S),d-=m,Math.abs(m)<=he){i=d;break}y=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),r=me(this.long0+Math.asin(a*y/this.a)/Math.sin(i),this.over)}return e.x=r,e.y=i,e}var ev=["Polyconic","American_Polyconic","poly"];const tv={init:Jy,forward:Yy,inverse:Zy,names:ev};function rv(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function nv(e){var r,i=e.x,a=e.y,o=a-this.lat0,u=i-this.long0,c=o/ms*1e-5,f=u,d=1,m=0;for(r=1;r<=10;r++)d=d*c,m=m+this.A[r]*d;var g=m,y=f,v=1,S=0,C,L,M=0,F=0;for(r=1;r<=6;r++)C=v*g-S*y,L=S*g+v*y,v=C,S=L,M=M+this.B_re[r]*v-this.B_im[r]*S,F=F+this.B_im[r]*v+this.B_re[r]*S;return e.x=F*this.a+this.x0,e.y=M*this.a+this.y0,e}function iv(e){var r,i=e.x,a=e.y,o=i-this.x0,u=a-this.y0,c=u/this.a,f=o/this.a,d=1,m=0,g,y,v=0,S=0;for(r=1;r<=6;r++)g=d*c-m*f,y=m*c+d*f,d=g,m=y,v=v+this.C_re[r]*d-this.C_im[r]*m,S=S+this.C_im[r]*d+this.C_re[r]*m;for(var C=0;C<this.iterations;C++){var L=v,M=S,F,N,R=c,I=f;for(r=2;r<=6;r++)F=L*v-M*S,N=M*v+L*S,L=F,M=N,R=R+(r-1)*(this.B_re[r]*L-this.B_im[r]*M),I=I+(r-1)*(this.B_im[r]*L+this.B_re[r]*M);L=1,M=0;var Q=this.B_re[1],O=this.B_im[1];for(r=2;r<=6;r++)F=L*v-M*S,N=M*v+L*S,L=F,M=N,Q=Q+r*(this.B_re[r]*L-this.B_im[r]*M),O=O+r*(this.B_im[r]*L+this.B_re[r]*M);var j=Q*Q+O*O;v=(R*Q+I*O)/j,S=(I*Q-R*O)/j}var se=v,D=S,x=1,U=0;for(r=1;r<=9;r++)x=x*se,U=U+this.D[r]*x;var K=this.lat0+U*ms*1e5,Y=this.long0+D;return e.x=Y,e.y=K,e}var sv=["New_Zealand_Map_Grid","nzmg"];const av={init:rv,forward:nv,inverse:iv,names:sv};function ov(){}function uv(e){var r=e.x,i=e.y,a=me(r-this.long0,this.over),o=this.x0+this.a*a,u=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return e.x=o,e.y=u,e}function lv(e){e.x-=this.x0,e.y-=this.y0;var r=me(this.long0+e.x/this.a,this.over),i=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);return e.x=r,e.y=i,e}var cv=["Miller_Cylindrical","mill"];const fv={init:ov,forward:uv,inverse:lv,names:cv};var hv=20;function dv(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=kl(this.es)}function pv(e){var r,i,a=e.x,o=e.y;if(a=me(a-this.long0,this.over),this.sphere){if(!this.m)o=this.n!==1?Math.asin(this.n*Math.sin(o)):o;else for(var u=this.n*Math.sin(o),c=hv;c;--c){var f=(this.m*o+Math.sin(o)-u)/(this.m+Math.cos(o));if(o-=f,Math.abs(f)<he)break}r=this.a*this.C_x*a*(this.m+Math.cos(o)),i=this.a*this.C_y*o}else{var d=Math.sin(o),m=Math.cos(o);i=this.a*Ci(o,d,m,this.en),r=this.a*a*m/Math.sqrt(1-this.es*d*d)}return e.x=r,e.y=i,e}function mv(e){var r,i,a,o;return e.x-=this.x0,a=e.x/this.a,e.y-=this.y0,r=e.y/this.a,this.sphere?(r/=this.C_y,a=a/(this.C_x*(this.m+Math.cos(r))),this.m?r=En((this.m*r+Math.sin(r))/this.n):this.n!==1&&(r=En(Math.sin(r)/this.n)),a=me(a+this.long0,this.over),r=Sn(r)):(r=Nl(e.y/this.a,this.es,this.en),o=Math.abs(r),o<ee?(o=Math.sin(r),i=this.long0+e.x*Math.sqrt(1-this.es*o*o)/(this.a*Math.cos(r)),a=me(i,this.over)):o-he<ee&&(a=this.long0)),e.x=a,e.y=r,e}var gv=["Sinusoidal","sinu"];const yv={init:dv,forward:pv,inverse:mv,names:gv};function vv(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0}function _v(e){for(var r=e.x,i=e.y,a=me(r-this.long0,this.over),o=i,u=Math.PI*Math.sin(i);;){var c=-(o+Math.sin(o)-u)/(1+Math.cos(o));if(o+=c,Math.abs(c)<he)break}o/=2,Math.PI/2-Math.abs(i)<he&&(a=0);var f=.900316316158*this.a*a*Math.cos(o)+this.x0,d=1.4142135623731*this.a*Math.sin(o)+this.y0;return e.x=f,e.y=d,e}function wv(e){var r,i;e.x-=this.x0,e.y-=this.y0,i=e.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),r=Math.asin(i);var a=me(this.long0+e.x/(.900316316158*this.a*Math.cos(r)),this.over);a<-Math.PI&&(a=-Math.PI),a>Math.PI&&(a=Math.PI),i=(2*r+Math.sin(2*r))/Math.PI,Math.abs(i)>1&&(i=1);var o=Math.asin(i);return e.x=a,e.y=o,e}var Ev=["Mollweide","moll"];const xv={init:vv,forward:_v,inverse:wv,names:Ev};function Sv(){Math.abs(this.lat1+this.lat2)<he||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Ds(this.es),this.e1=ks(this.es),this.e2=Ns(this.es),this.e3=bs(this.es),this.sin_phi=Math.sin(this.lat1),this.cos_phi=Math.cos(this.lat1),this.ms1=Tr(this.e,this.sin_phi,this.cos_phi),this.ml1=Dt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<he?this.ns=this.sin_phi:(this.sin_phi=Math.sin(this.lat2),this.cos_phi=Math.cos(this.lat2),this.ms2=Tr(this.e,this.sin_phi,this.cos_phi),this.ml2=Dt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Dt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Mv(e){var r=e.x,i=e.y,a;if(this.sphere)a=this.a*(this.g-i);else{var o=Dt(this.e0,this.e1,this.e2,this.e3,i);a=this.a*(this.g-o)}var u=this.ns*me(r-this.long0,this.over),c=this.x0+a*Math.sin(u),f=this.y0+this.rh-a*Math.cos(u);return e.x=c,e.y=f,e}function Cv(e){e.x-=this.x0,e.y=this.rh-e.y+this.y0;var r,i,a,o;this.ns>=0?(i=Math.sqrt(e.x*e.x+e.y*e.y),r=1):(i=-Math.sqrt(e.x*e.x+e.y*e.y),r=-1);var u=0;if(i!==0&&(u=Math.atan2(r*e.x,r*e.y)),this.sphere)return o=me(this.long0+u/this.ns,this.over),a=Sn(this.g-i/this.a),e.x=o,e.y=a,e;var c=this.g-i/this.a;return a=so(c,this.e0,this.e1,this.e2,this.e3),o=me(this.long0+u/this.ns,this.over),e.x=o,e.y=a,e}var Pv=["Equidistant_Conic","eqdc"];const Av={init:Sv,forward:Mv,inverse:Cv,names:Pv};function Dv(){this.R=this.a}function kv(e){var r=e.x,i=e.y,a=me(r-this.long0,this.over),o,u;Math.abs(i)<=he&&(o=this.x0+this.R*a,u=this.y0);var c=En(2*Math.abs(i/Math.PI));(Math.abs(a)<=he||Math.abs(Math.abs(i)-ee)<=he)&&(o=this.x0,i>=0?u=this.y0+Math.PI*this.R*Math.tan(.5*c):u=this.y0+Math.PI*this.R*-Math.tan(.5*c));var f=.5*Math.abs(Math.PI/a-a/Math.PI),d=f*f,m=Math.sin(c),g=Math.cos(c),y=g/(m+g-1),v=y*y,S=y*(2/m-1),C=S*S,L=Math.PI*this.R*(f*(y-C)+Math.sqrt(d*(y-C)*(y-C)-(C+d)*(v-C)))/(C+d);a<0&&(L=-L),o=this.x0+L;var M=d+y;return L=Math.PI*this.R*(S*M-f*Math.sqrt((C+d)*(d+1)-M*M))/(C+d),i>=0?u=this.y0+L:u=this.y0-L,e.x=o,e.y=u,e}function Nv(e){var r,i,a,o,u,c,f,d,m,g,y,v,S;return e.x-=this.x0,e.y-=this.y0,y=Math.PI*this.R,a=e.x/y,o=e.y/y,u=a*a+o*o,c=-Math.abs(o)*(1+u),f=c-2*o*o+a*a,d=-2*c+1+2*o*o+u*u,S=o*o/d+(2*f*f*f/d/d/d-9*c*f/d/d)/27,m=(c-f*f/3/d)/d,g=2*Math.sqrt(-m/3),y=3*S/m/g,Math.abs(y)>1&&(y>=0?y=1:y=-1),v=Math.acos(y)/3,e.y>=0?i=(-g*Math.cos(v+Math.PI/3)-f/3/d)*Math.PI:i=-(-g*Math.cos(v+Math.PI/3)-f/3/d)*Math.PI,Math.abs(a)<he?r=this.long0:r=me(this.long0+Math.PI*(u-1+Math.sqrt(1+2*(a*a-o*o)+u*u))/2/a,this.over),e.x=r,e.y=i,e}var bv=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const Tv={init:Dv,forward:kv,inverse:Nv,names:bv};function Lv(e,r,i,a,o,u){const c=a-r,f=Math.atan((1-u)*Math.tan(e)),d=Math.atan((1-u)*Math.tan(i)),m=Math.sin(f),g=Math.cos(f),y=Math.sin(d),v=Math.cos(d);let S=c,C,L=100,M,F,N,R,I,Q,O,j,se,D,x,U,K,Y;do{if(M=Math.sin(S),F=Math.cos(S),N=Math.sqrt(v*M*(v*M)+(g*y-m*v*F)*(g*y-m*v*F)),N===0)return{azi1:0,s12:0};R=m*y+g*v*F,I=Math.atan2(N,R),Q=g*v*M/N,O=1-Q*Q,j=O!==0?R-2*m*y/O:0,se=u/16*O*(4+u*(4-3*O)),C=S,S=c+(1-se)*u*Q*(I+se*N*(j+se*R*(-1+2*j*j)))}while(Math.abs(S-C)>1e-12&&--L>0);return L===0?{azi1:NaN,s12:NaN}:(D=O*(o*o-o*(1-u)*(o*(1-u)))/(o*(1-u)*(o*(1-u))),x=1+D/16384*(4096+D*(-768+D*(320-175*D))),U=D/1024*(256+D*(-128+D*(74-47*D))),K=U*N*(j+U/4*(R*(-1+2*j*j)-U/6*j*(-3+4*N*N)*(-3+4*j*j))),Y=o*(1-u)*x*(I-K),{azi1:Math.atan2(v*M,g*y-m*v*F),s12:Y})}function Rv(e,r,i,a,o,u){const c=Math.atan((1-u)*Math.tan(e)),f=Math.sin(c),d=Math.cos(c),m=Math.sin(i),g=Math.cos(i),y=Math.atan2(f,d*g),v=d*m,S=1-v*v,C=S*(o*o-o*(1-u)*(o*(1-u)))/(o*(1-u)*(o*(1-u))),L=1+C/16384*(4096+C*(-768+C*(320-175*C))),M=C/1024*(256+C*(-128+C*(74-47*C)));let F=a/(o*(1-u)*L),N,R=100,I,Q,O,j;do I=Math.cos(2*y+F),Q=Math.sin(F),O=Math.cos(F),j=M*Q*(I+M/4*(O*(-1+2*I*I)-M/6*I*(-3+4*Q*Q)*(-3+4*I*I))),N=F,F=a/(o*(1-u)*L)+j;while(Math.abs(F-N)>1e-12&&--R>0);if(R===0)return{lat2:NaN,lon2:NaN};const se=f*Q-d*O*g,D=Math.atan2(f*O+d*Q*g,(1-u)*Math.sqrt(v*v+se*se)),x=Math.atan2(Q*m,d*O-f*Q*g),U=u/16*S*(4+u*(4-3*S)),K=x-(1-U)*u*v*(F+U*Q*(I+U*O*(-1+2*I*I))),Y=r+K;return{lat2:D,lon2:Y}}function Gv(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.f=this.es/(1+Math.sqrt(1-this.es))}function Fv(e){var r=e.x,i=e.y,a=Math.sin(e.y),o=Math.cos(e.y),u=me(r-this.long0,this.over),c,f,d,m,g,y,v,S,C,L,M;return this.sphere?Math.abs(this.sin_p12-1)<=he?(e.x=this.x0+this.a*(ee-i)*Math.sin(u),e.y=this.y0-this.a*(ee-i)*Math.cos(u),e):Math.abs(this.sin_p12+1)<=he?(e.x=this.x0+this.a*(ee+i)*Math.sin(u),e.y=this.y0+this.a*(ee+i)*Math.cos(u),e):(C=this.sin_p12*a+this.cos_p12*o*Math.cos(u),v=Math.acos(C),S=v?v/Math.sin(v):1,e.x=this.x0+this.a*S*o*Math.sin(u),e.y=this.y0+this.a*S*(this.cos_p12*a-this.sin_p12*o*Math.cos(u)),e):(c=Ds(this.es),f=ks(this.es),d=Ns(this.es),m=bs(this.es),Math.abs(this.sin_p12-1)<=he?(g=this.a*Dt(c,f,d,m,ee),y=this.a*Dt(c,f,d,m,i),e.x=this.x0+(g-y)*Math.sin(u),e.y=this.y0-(g-y)*Math.cos(u),e):Math.abs(this.sin_p12+1)<=he?(g=this.a*Dt(c,f,d,m,ee),y=this.a*Dt(c,f,d,m,i),e.x=this.x0+(g+y)*Math.sin(u),e.y=this.y0+(g+y)*Math.cos(u),e):Math.abs(r)<he&&Math.abs(i-this.lat0)<he?(e.x=e.y=0,e):(L=Lv(this.lat0,this.long0,i,r,this.a,this.f),M=L.azi1,e.x=L.s12*Math.sin(M),e.y=L.s12*Math.cos(M),e))}function Ov(e){e.x-=this.x0,e.y-=this.y0;var r,i,a,o,u,c,f,d,m,g,y,v,S,C,L,M;return this.sphere?(r=Math.sqrt(e.x*e.x+e.y*e.y),r>2*ee*this.a?void 0:(i=r/this.a,a=Math.sin(i),o=Math.cos(i),u=this.long0,Math.abs(r)<=he?c=this.lat0:(c=En(o*this.sin_p12+e.y*a*this.cos_p12/r),f=Math.abs(this.lat0)-ee,Math.abs(f)<=he?this.lat0>=0?u=me(this.long0+Math.atan2(e.x,-e.y),this.over):u=me(this.long0-Math.atan2(-e.x,e.y),this.over):u=me(this.long0+Math.atan2(e.x*a,r*this.cos_p12*o-e.y*this.sin_p12*a),this.over)),e.x=u,e.y=c,e)):(d=Ds(this.es),m=ks(this.es),g=Ns(this.es),y=bs(this.es),Math.abs(this.sin_p12-1)<=he?(v=this.a*Dt(d,m,g,y,ee),r=Math.sqrt(e.x*e.x+e.y*e.y),S=v-r,c=so(S/this.a,d,m,g,y),u=me(this.long0+Math.atan2(e.x,-1*e.y),this.over),e.x=u,e.y=c,e):Math.abs(this.sin_p12+1)<=he?(v=this.a*Dt(d,m,g,y,ee),r=Math.sqrt(e.x*e.x+e.y*e.y),S=r-v,c=so(S/this.a,d,m,g,y),u=me(this.long0+Math.atan2(e.x,e.y),this.over),e.x=u,e.y=c,e):(C=Math.atan2(e.x,e.y),L=Math.sqrt(e.x*e.x+e.y*e.y),M=Rv(this.lat0,this.long0,C,L,this.a,this.f),e.x=M.lon2,e.y=M.lat2,e))}var Iv=["Azimuthal_Equidistant","aeqd"];const jv={init:Gv,forward:Fv,inverse:Ov,names:Iv};function Bv(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function zv(e){var r,i,a,o,u,c,f,d,m=e.x,g=e.y;return a=me(m-this.long0,this.over),r=Math.sin(g),i=Math.cos(g),o=Math.cos(a),c=this.sin_p14*r+this.cos_p14*i*o,u=1,(c>0||Math.abs(c)<=he)&&(f=this.a*u*i*Math.sin(a),d=this.y0+this.a*u*(this.cos_p14*r-this.sin_p14*i*o)),e.x=f,e.y=d,e}function Uv(e){var r,i,a,o,u,c,f;return e.x-=this.x0,e.y-=this.y0,r=Math.sqrt(e.x*e.x+e.y*e.y),i=En(r/this.a),a=Math.sin(i),o=Math.cos(i),c=this.long0,Math.abs(r)<=he?(f=this.lat0,e.x=c,e.y=f,e):(f=En(o*this.sin_p14+e.y*a*this.cos_p14/r),u=Math.abs(this.lat0)-ee,Math.abs(u)<=he?(this.lat0>=0?c=me(this.long0+Math.atan2(e.x,-e.y),this.over):c=me(this.long0-Math.atan2(-e.x,e.y),this.over),e.x=c,e.y=f,e):(c=me(this.long0+Math.atan2(e.x*a,r*this.cos_p14*o-e.y*this.sin_p14*a),this.over),e.x=c,e.y=f,e))}var qv=["ortho"];const $v={init:Bv,forward:zv,inverse:Uv,names:qv};var Ke={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Be={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Vv(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=ee-je/2?this.face=Ke.TOP:this.lat0<=-(ee-je/2)?this.face=Ke.BOTTOM:Math.abs(this.long0)<=je?this.face=Ke.FRONT:Math.abs(this.long0)<=ee+je?this.face=this.long0>0?Ke.RIGHT:Ke.LEFT:this.face=Ke.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Wv(e){var r={x:0,y:0},i,a,o,u,c,f,d={value:0};if(e.x-=this.long0,this.es!==0?i=Math.atan(this.one_minus_f_squared*Math.tan(e.y)):i=e.y,a=e.x,this.face===Ke.TOP)u=ee-i,a>=je&&a<=ee+je?(d.value=Be.AREA_0,o=a-ee):a>ee+je||a<=-(ee+je)?(d.value=Be.AREA_1,o=a>0?a-rt:a+rt):a>-(ee+je)&&a<=-je?(d.value=Be.AREA_2,o=a+ee):(d.value=Be.AREA_3,o=a);else if(this.face===Ke.BOTTOM)u=ee+i,a>=je&&a<=ee+je?(d.value=Be.AREA_0,o=-a+ee):a<je&&a>=-je?(d.value=Be.AREA_1,o=-a):a<-je&&a>=-(ee+je)?(d.value=Be.AREA_2,o=-a-ee):(d.value=Be.AREA_3,o=a>0?-a+rt:-a-rt);else{var m,g,y,v,S,C,L;this.face===Ke.RIGHT?a=wi(a,+ee):this.face===Ke.BACK?a=wi(a,+rt):this.face===Ke.LEFT&&(a=wi(a,-ee)),v=Math.sin(i),S=Math.cos(i),C=Math.sin(a),L=Math.cos(a),m=S*L,g=S*C,y=v,this.face===Ke.FRONT?(u=Math.acos(m),o=Va(u,y,g,d)):this.face===Ke.RIGHT?(u=Math.acos(g),o=Va(u,y,-m,d)):this.face===Ke.BACK?(u=Math.acos(-m),o=Va(u,y,-g,d)):this.face===Ke.LEFT?(u=Math.acos(-g),o=Va(u,y,m,d)):(u=o=0,d.value=Be.AREA_0)}return f=Math.atan(12/rt*(o+Math.acos(Math.sin(o)*Math.cos(je))-ee)),c=Math.sqrt((1-Math.cos(u))/(Math.cos(f)*Math.cos(f))/(1-Math.cos(Math.atan(1/Math.cos(o))))),d.value===Be.AREA_1?f+=ee:d.value===Be.AREA_2?f+=rt:d.value===Be.AREA_3&&(f+=1.5*rt),r.x=c*Math.cos(f),r.y=c*Math.sin(f),r.x=r.x*this.a+this.x0,r.y=r.y*this.a+this.y0,e.x=r.x,e.y=r.y,e}function Hv(e){var r={lam:0,phi:0},i,a,o,u,c,f,d,m,g,y={value:0};if(e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a,a=Math.atan(Math.sqrt(e.x*e.x+e.y*e.y)),i=Math.atan2(e.y,e.x),e.x>=0&&e.x>=Math.abs(e.y)?y.value=Be.AREA_0:e.y>=0&&e.y>=Math.abs(e.x)?(y.value=Be.AREA_1,i-=ee):e.x<0&&-e.x>=Math.abs(e.y)?(y.value=Be.AREA_2,i=i<0?i+rt:i-rt):(y.value=Be.AREA_3,i+=ee),g=rt/12*Math.tan(i),c=Math.sin(g)/(Math.cos(g)-1/Math.sqrt(2)),f=Math.atan(c),o=Math.cos(i),u=Math.tan(a),d=1-o*o*u*u*(1-Math.cos(Math.atan(1/Math.cos(f)))),d<-1?d=-1:d>1&&(d=1),this.face===Ke.TOP)m=Math.acos(d),r.phi=ee-m,y.value===Be.AREA_0?r.lam=f+ee:y.value===Be.AREA_1?r.lam=f<0?f+rt:f-rt:y.value===Be.AREA_2?r.lam=f-ee:r.lam=f;else if(this.face===Ke.BOTTOM)m=Math.acos(d),r.phi=m-ee,y.value===Be.AREA_0?r.lam=-f+ee:y.value===Be.AREA_1?r.lam=-f:y.value===Be.AREA_2?r.lam=-f-ee:r.lam=f<0?-f-rt:-f+rt;else{var v,S,C;v=d,g=v*v,g>=1?C=0:C=Math.sqrt(1-g)*Math.sin(f),g+=C*C,g>=1?S=0:S=Math.sqrt(1-g),y.value===Be.AREA_1?(g=S,S=-C,C=g):y.value===Be.AREA_2?(S=-S,C=-C):y.value===Be.AREA_3&&(g=S,S=C,C=-g),this.face===Ke.RIGHT?(g=v,v=-S,S=g):this.face===Ke.BACK?(v=-v,S=-S):this.face===Ke.LEFT&&(g=v,v=S,S=-g),r.phi=Math.acos(-C)-ee,r.lam=Math.atan2(S,v),this.face===Ke.RIGHT?r.lam=wi(r.lam,-ee):this.face===Ke.BACK?r.lam=wi(r.lam,-rt):this.face===Ke.LEFT&&(r.lam=wi(r.lam,+ee))}if(this.es!==0){var L,M,F;L=r.phi<0?1:0,M=Math.tan(r.phi),F=this.b/Math.sqrt(M*M+this.one_minus_f_squared),r.phi=Math.atan(Math.sqrt(this.a*this.a-F*F)/(this.one_minus_f*F)),L&&(r.phi=-r.phi)}return r.lam+=this.long0,e.x=r.lam,e.y=r.phi,e}function Va(e,r,i,a){var o;return e<he?(a.value=Be.AREA_0,o=0):(o=Math.atan2(r,i),Math.abs(o)<=je?a.value=Be.AREA_0:o>je&&o<=ee+je?(a.value=Be.AREA_1,o-=ee):o>ee+je||o<=-(ee+je)?(a.value=Be.AREA_2,o=o>=0?o-rt:o+rt):(a.value=Be.AREA_3,o+=ee)),o}function wi(e,r){var i=e+r;return i<-rt?i+=Es:i>+rt&&(i-=Es),i}var Qv=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Xv={init:Vv,forward:Wv,inverse:Hv,names:Qv};var _l=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ps=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],md=.8487,gd=1.3523,yd=Bt/5,Kv=1/yd,vi=18,ao=function(e,r){return e[0]+r*(e[1]+r*(e[2]+r*e[3]))},Jv=function(e,r){return e[1]+r*(2*e[2]+r*3*e[3])};function Yv(e,r,i,a){for(var o=r;a;--a){var u=e(o);if(o-=u,Math.abs(u)<i)break}return o}function Zv(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function e4(e){var r=me(e.x-this.long0,this.over),i=Math.abs(e.y),a=Math.floor(i*yd);a<0?a=0:a>=vi&&(a=vi-1),i=Bt*(i-Kv*a);var o={x:ao(_l[a],i)*r,y:ao(ps[a],i)};return e.y<0&&(o.y=-o.y),o.x=o.x*this.a*md+this.x0,o.y=o.y*this.a*gd+this.y0,o}function t4(e){var r={x:(e.x-this.x0)/(this.a*md),y:Math.abs(e.y-this.y0)/(this.a*gd)};if(r.y>=1)r.x/=_l[vi][0],r.y=e.y<0?-ee:ee;else{var i=Math.floor(r.y*vi);for(i<0?i=0:i>=vi&&(i=vi-1);;)if(ps[i][0]>r.y)--i;else if(ps[i+1][0]<=r.y)++i;else break;var a=ps[i],o=5*(r.y-a[0])/(ps[i+1][0]-a[0]);o=Yv(function(u){return(ao(a,u)-r.y)/Jv(a,u)},o,he,100),r.x/=ao(_l[i],o),r.y=(5*i+o)*Ze,e.y<0&&(r.y=-r.y)}return r.x=me(r.x+this.long0,this.over),r}var r4=["Robinson","robin"];const n4={init:Zv,forward:e4,inverse:t4,names:r4};function i4(){this.name="geocent"}function s4(e){var r=id(e,this.es,this.a);return r}function a4(e){var r=sd(e,this.es,this.a,this.b);return r}var o4=["Geocentric","geocentric","geocent","Geocent"];const u4={init:i4,forward:s4,inverse:a4,names:o4};var xt={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},us={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function l4(){if(Object.keys(us).forEach((function(i){if(typeof this[i]>"u")this[i]=us[i].def;else{if(us[i].num&&isNaN(this[i]))throw new Error("Invalid parameter value, must be numeric "+i+" = "+this[i]);us[i].num&&(this[i]=parseFloat(this[i]))}us[i].degrees&&(this[i]=this[i]*Ze)}).bind(this)),Math.abs(Math.abs(this.lat0)-ee)<he?this.mode=this.lat0<0?xt.S_POLE:xt.N_POLE:Math.abs(this.lat0)<he?this.mode=xt.EQUIT:(this.mode=xt.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var e=this.tilt,r=this.azi;this.cg=Math.cos(r),this.sg=Math.sin(r),this.cw=Math.cos(e),this.sw=Math.sin(e)}function c4(e){e.x-=this.long0;var r=Math.sin(e.y),i=Math.cos(e.y),a=Math.cos(e.x),o,u;switch(this.mode){case xt.OBLIQ:u=this.sinph0*r+this.cosph0*i*a;break;case xt.EQUIT:u=i*a;break;case xt.S_POLE:u=-r;break;case xt.N_POLE:u=r;break}switch(u=this.pn1/(this.p-u),o=u*i*Math.sin(e.x),this.mode){case xt.OBLIQ:u*=this.cosph0*r-this.sinph0*i*a;break;case xt.EQUIT:u*=r;break;case xt.N_POLE:u*=-(i*a);break;case xt.S_POLE:u*=i*a;break}var c,f;return c=u*this.cg+o*this.sg,f=1/(c*this.sw*this.h1+this.cw),o=(o*this.cg-u*this.sg)*this.cw*f,u=c*f,e.x=o*this.a,e.y=u*this.a,e}function f4(e){e.x/=this.a,e.y/=this.a;var r={x:e.x,y:e.y},i,a,o;o=1/(this.pn1-e.y*this.sw),i=this.pn1*e.x*o,a=this.pn1*e.y*this.cw*o,e.x=i*this.cg+a*this.sg,e.y=a*this.cg-i*this.sg;var u=jt(e.x,e.y);if(Math.abs(u)<he)r.x=0,r.y=e.y;else{var c,f;switch(f=1-u*u*this.pfact,f=(this.p-Math.sqrt(f))/(this.pn1/u+u/this.pn1),c=Math.sqrt(1-f*f),this.mode){case xt.OBLIQ:r.y=Math.asin(c*this.sinph0+e.y*f*this.cosph0/u),e.y=(c-this.sinph0*Math.sin(r.y))*u,e.x*=f*this.cosph0;break;case xt.EQUIT:r.y=Math.asin(e.y*f/u),e.y=c*u,e.x*=f;break;case xt.N_POLE:r.y=Math.asin(c),e.y=-e.y;break;case xt.S_POLE:r.y=-Math.asin(c);break}r.x=Math.atan2(e.x,e.y)}return e.x=r.x+this.long0,e.y=r.y,e}var h4=["Tilted_Perspective","tpers"];const d4={init:l4,forward:c4,inverse:f4,names:h4};function p4(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var e=1-this.es,r=1/e;this.radius_p=Math.sqrt(e),this.radius_p2=e,this.radius_p_inv2=r,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function m4(e){var r=e.x,i=e.y,a,o,u,c;if(r=r-this.long0,this.shape==="ellipse"){i=Math.atan(this.radius_p2*Math.tan(i));var f=this.radius_p/jt(this.radius_p*Math.cos(i),Math.sin(i));if(o=f*Math.cos(r)*Math.cos(i),u=f*Math.sin(r)*Math.cos(i),c=f*Math.sin(i),(this.radius_g-o)*o-u*u-c*c*this.radius_p_inv2<0)return e.x=Number.NaN,e.y=Number.NaN,e;a=this.radius_g-o,this.flip_axis?(e.x=this.radius_g_1*Math.atan(u/jt(c,a)),e.y=this.radius_g_1*Math.atan(c/a)):(e.x=this.radius_g_1*Math.atan(u/a),e.y=this.radius_g_1*Math.atan(c/jt(u,a)))}else this.shape==="sphere"&&(a=Math.cos(i),o=Math.cos(r)*a,u=Math.sin(r)*a,c=Math.sin(i),a=this.radius_g-o,this.flip_axis?(e.x=this.radius_g_1*Math.atan(u/jt(c,a)),e.y=this.radius_g_1*Math.atan(c/a)):(e.x=this.radius_g_1*Math.atan(u/a),e.y=this.radius_g_1*Math.atan(c/jt(u,a))));return e.x=e.x*this.a,e.y=e.y*this.a,e}function g4(e){var r=-1,i=0,a=0,o,u,c,f;if(e.x=e.x/this.a,e.y=e.y/this.a,this.shape==="ellipse"){this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*jt(1,a)):(i=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*jt(1,i));var d=a/this.radius_p;if(o=i*i+d*d+r*r,u=2*this.radius_g*r,c=u*u-4*o*this.C,c<0)return e.x=Number.NaN,e.y=Number.NaN,e;f=(-u-Math.sqrt(c))/(2*o),r=this.radius_g+f*r,i*=f,a*=f,e.x=Math.atan2(i,r),e.y=Math.atan(a*Math.cos(e.x)/r),e.y=Math.atan(this.radius_p_inv2*Math.tan(e.y))}else if(this.shape==="sphere"){if(this.flip_axis?(a=Math.tan(e.y/this.radius_g_1),i=Math.tan(e.x/this.radius_g_1)*Math.sqrt(1+a*a)):(i=Math.tan(e.x/this.radius_g_1),a=Math.tan(e.y/this.radius_g_1)*Math.sqrt(1+i*i)),o=i*i+a*a+r*r,u=2*this.radius_g*r,c=u*u-4*o*this.C,c<0)return e.x=Number.NaN,e.y=Number.NaN,e;f=(-u-Math.sqrt(c))/(2*o),r=this.radius_g+f*r,i*=f,a*=f,e.x=Math.atan2(i,r),e.y=Math.atan(a*Math.cos(e.x)/r)}return e.x=e.x+this.long0,e}var y4=["Geostationary Satellite View","Geostationary_Satellite","geos"];const v4={init:p4,forward:m4,inverse:g4,names:y4};var gs=1.340264,ys=-.081106,vs=893e-6,_s=.003796,oo=Math.sqrt(3)/2;function _4(){this.es=0,this.long0=this.long0!==void 0?this.long0:0,this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0}function w4(e){var r=me(e.x-this.long0,this.over),i=e.y,a=Math.asin(oo*Math.sin(i)),o=a*a,u=o*o*o;return e.x=r*Math.cos(a)/(oo*(gs+3*ys*o+u*(7*vs+9*_s*o))),e.y=a*(gs+ys*o+u*(vs+_s*o)),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function E4(e){e.x=(e.x-this.x0)/this.a,e.y=(e.y-this.y0)/this.a;var r=1e-9,i=12,a=e.y,o,u,c,f,d,m;for(m=0;m<i&&(o=a*a,u=o*o*o,c=a*(gs+ys*o+u*(vs+_s*o))-e.y,f=gs+3*ys*o+u*(7*vs+9*_s*o),a-=d=c/f,!(Math.abs(d)<r));++m);return o=a*a,u=o*o*o,e.x=oo*e.x*(gs+3*ys*o+u*(7*vs+9*_s*o))/Math.cos(a),e.y=Math.asin(Math.sin(a)/oo),e.x=me(e.x+this.long0,this.over),e}var x4=["eqearth","Equal Earth","Equal_Earth"];const S4={init:_4,forward:w4,inverse:E4,names:x4};var Ms=1e-10;function M4(){var e;if(this.phi1=this.lat1,Math.abs(this.phi1)<Ms)throw new Error;this.es?(this.en=kl(this.es),this.m1=Ci(this.phi1,this.am1=Math.sin(this.phi1),e=Math.cos(this.phi1),this.en),this.am1=e/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=P4,this.forward=C4):(Math.abs(this.phi1)+Ms>=ee?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=D4,this.forward=A4)}function C4(e){var r=me(e.x-(this.long0||0),this.over),i=e.y,a,o,u;return a=this.am1+this.m1-Ci(i,o=Math.sin(i),u=Math.cos(i),this.en),o=u*r/(a*Math.sqrt(1-this.es*o*o)),e.x=a*Math.sin(o),e.y=this.am1-a*Math.cos(o),e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function P4(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var r,i,a,o;if(i=jt(e.x,e.y=this.am1-e.y),o=Nl(this.am1+this.m1-i,this.es,this.en),(r=Math.abs(o))<ee)r=Math.sin(o),a=i*Math.atan2(e.x,e.y)*Math.sqrt(1-this.es*r*r)/Math.cos(o);else if(Math.abs(r-ee)<=Ms)a=0;else throw new Error;return e.x=me(a+(this.long0||0),this.over),e.y=Sn(o),e}function A4(e){var r=me(e.x-(this.long0||0),this.over),i=e.y,a,o;return o=this.cphi1+this.phi1-i,Math.abs(o)>Ms?(e.x=o*Math.sin(a=r*Math.cos(i)/o),e.y=this.cphi1-o*Math.cos(a)):e.x=e.y=0,e.x=this.a*e.x+(this.x0||0),e.y=this.a*e.y+(this.y0||0),e}function D4(e){e.x=(e.x-(this.x0||0))/this.a,e.y=(e.y-(this.y0||0))/this.a;var r,i,a=jt(e.x,e.y=this.cphi1-e.y);if(i=this.cphi1+this.phi1-a,Math.abs(i)>ee)throw new Error;return Math.abs(Math.abs(i)-ee)<=Ms?r=0:r=a*Math.atan2(e.x,e.y)/Math.cos(i),e.x=me(r+(this.long0||0),this.over),e.y=Sn(i),e}var k4=["bonne","Bonne (Werner lat_1=90)"];const N4={init:M4,names:k4},n0={OBLIQUE:{forward:G4,inverse:O4},TRANSVERSE:{forward:F4,inverse:I4}},uo={ROTATE:{o_alpha:"oAlpha",o_lon_c:"oLongC",o_lat_c:"oLatC"},NEW_POLE:{o_lat_p:"oLatP",o_lon_p:"oLongP"},NEW_EQUATOR:{o_lon_1:"oLong1",o_lat_1:"oLat1",o_lon_2:"oLong2",o_lat_2:"oLat2"}};function b4(){if(this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.title=this.title||"General Oblique Transformation",this.isIdentity=ed.includes(this.o_proj),!this.o_proj)throw new Error("Missing parameter: o_proj");if(this.o_proj==="ob_tran")throw new Error("Invalid value for o_proj: "+this.o_proj);const e=this.projStr.replace("+proj=ob_tran","").replace("+o_proj=","+proj=").trim(),r=lr(e);if(!r)throw new Error("Invalid parameter: o_proj. Unknown projection "+this.o_proj);r.long0=0,this.obliqueProjection=r;let i;const a=Object.keys(uo),o=f=>{if(typeof this[f]>"u")return;const d=parseFloat(this[f])*Ze;if(isNaN(d))throw new Error("Invalid value for "+f+": "+this[f]);return d};for(let f=0;f<a.length;f++){const d=a[f],m=uo[d],g=Object.entries(m);if(g.some(([v])=>typeof this[v]<"u")){i=m;for(let v=0;v<g.length;v++){const[S,C]=g[v],L=o(S);if(typeof L>"u")throw new Error("Missing parameter: "+S+".");this[C]=L}break}}if(!i)throw new Error("No valid parameters provided for ob_tran projection.");const{lamp:u,phip:c}=R4(this,i);this.lamp=u,Math.abs(c)>he?(this.cphip=Math.cos(c),this.sphip=Math.sin(c),this.projectionType=n0.OBLIQUE):this.projectionType=n0.TRANSVERSE}function T4(e){return this.projectionType.forward(this,e)}function L4(e){return this.projectionType.inverse(this,e)}function R4(e,r){let i,a;if(r===uo.ROTATE){let o=e.oLongC,u=e.oLatC,c=e.oAlpha;if(Math.abs(Math.abs(u)-ee)<=he)throw new Error("Invalid value for o_lat_c: "+e.o_lat_c+" should be < 90");a=o+Math.atan2(-1*Math.cos(c),-1*Math.sin(c)*Math.sin(u)),i=Math.asin(Math.cos(u)*Math.sin(c))}else if(r===uo.NEW_POLE)a=e.oLongP,i=e.oLatP;else{let o=e.oLong1,u=e.oLat1,c=e.oLong2,f=e.oLat2,d=Math.abs(u);if(Math.abs(u)>ee-he)throw new Error("Invalid value for o_lat_1: "+e.o_lat_1+" should be < 90");if(Math.abs(f)>ee-he)throw new Error("Invalid value for o_lat_2: "+e.o_lat_2+" should be < 90");if(Math.abs(u-f)<he)throw new Error("Invalid value for o_lat_1 and o_lat_2: o_lat_1 should be different from o_lat_2");if(d<he)throw new Error("Invalid value for o_lat_1: o_lat_1 should be different from zero");a=Math.atan2(Math.cos(u)*Math.sin(f)*Math.cos(o)-Math.sin(u)*Math.cos(f)*Math.cos(c),Math.sin(u)*Math.cos(f)*Math.sin(c)-Math.cos(u)*Math.sin(f)*Math.sin(o)),i=Math.atan(-1*Math.cos(a-o)/Math.tan(u))}return{lamp:a,phip:i}}function G4(e,r){let{x:i,y:a}=r;i+=e.long0;const o=Math.cos(i),u=Math.sin(a),c=Math.cos(a);r.x=me(Math.atan2(c*Math.sin(i),e.sphip*c*o+e.cphip*u)+e.lamp),r.y=Math.asin(e.sphip*u-e.cphip*c*o);const f=e.obliqueProjection.forward(r);return e.isIdentity&&(f.x*=Bt,f.y*=Bt),f}function F4(e,r){let{x:i,y:a}=r;i+=e.long0;const o=Math.cos(a),u=Math.cos(i);r.x=me(Math.atan2(o*Math.sin(i),Math.sin(a))+e.lamp),r.y=Math.asin(-1*o*u);const c=e.obliqueProjection.forward(r);return e.isIdentity&&(c.x*=Bt,c.y*=Bt),c}function O4(e,r){e.isIdentity&&(r.x*=Ze,r.y*=Ze);const i=e.obliqueProjection.inverse(r);let{x:a,y:o}=i;if(a<Number.MAX_VALUE){a-=e.lamp;const u=Math.cos(a),c=Math.sin(o),f=Math.cos(o);r.x=Math.atan2(f*Math.sin(a),e.sphip*f*u-e.cphip*c),r.y=Math.asin(e.sphip*c+e.cphip*f*u)}return r.x=me(r.x+e.long0),r}function I4(e,r){e.isIdentity&&(r.x*=Ze,r.y*=Ze);const i=e.obliqueProjection.inverse(r);let{x:a,y:o}=i;if(a<Number.MAX_VALUE){const u=Math.cos(o);a-=e.lamp,r.x=Math.atan2(u*Math.sin(a),-1*Math.sin(o)),r.y=Math.asin(u*Math.cos(a))}return r.x=me(r.x+e.long0),r}var j4=["General Oblique Transformation","General_Oblique_Transformation","ob_tran"];const B4={init:b4,forward:T4,inverse:L4,names:j4};function z4(e){e.Proj.projections.add(Ja),e.Proj.projections.add(Ya),e.Proj.projections.add(kg),e.Proj.projections.add(Ig),e.Proj.projections.add(qg),e.Proj.projections.add(Qg),e.Proj.projections.add(ey),e.Proj.projections.add(sy),e.Proj.projections.add(cy),e.Proj.projections.add(my),e.Proj.projections.add(Dy),e.Proj.projections.add(Ry),e.Proj.projections.add(jy),e.Proj.projections.add(Vy),e.Proj.projections.add(Ky),e.Proj.projections.add(tv),e.Proj.projections.add(av),e.Proj.projections.add(fv),e.Proj.projections.add(yv),e.Proj.projections.add(xv),e.Proj.projections.add(Av),e.Proj.projections.add(Tv),e.Proj.projections.add(jv),e.Proj.projections.add($v),e.Proj.projections.add(Xv),e.Proj.projections.add(n4),e.Proj.projections.add(u4),e.Proj.projections.add(d4),e.Proj.projections.add(v4),e.Proj.projections.add(S4),e.Proj.projections.add(N4),e.Proj.projections.add(B4)}const Xr=Object.assign(Wm,{defaultDatum:"WGS84",Proj:lr,WGS84:new lr("WGS84"),Point:Ei,toPoint:ad,defs:yt,nadgrid:Dm,transform:io,mgrs:Hm,version:"__VERSION__"});z4(Xr);Xr.defs("EPSG:4326","+proj=longlat +datum=WGS84 +no_defs");Xr.defs("EPSG:3857","+proj=merc +a=6378137 +b=6378137 +lat_ts=0 +lon_0=0 +x_0=0 +y_0=0 +k=1 +units=m +nadgrids=@null +wktext +no_defs");Xr.defs("EPSG:27700","+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489 +units=m +no_defs");const vd={"EPSG:4326":"WGS84 (lon/lat)","EPSG:3857":"Web Mercator","EPSG:27700":"British National Grid"};function zn(e,r,i){if(r===i)return e;const a=e[0]??0,o=e[1]??0,u=e[2],c=Xr(r,i,[a,o]),f=c[0]??0,d=c[1]??0;return u!==void 0?[f,d,u]:[f,d]}function xn(e,r,i){if(r===i)return e;switch(e.type){case"Point":return{type:"Point",coordinates:zn(e.coordinates,r,i)};case"MultiPoint":return{type:"MultiPoint",coordinates:e.coordinates.map(a=>zn(a,r,i))};case"LineString":return{type:"LineString",coordinates:e.coordinates.map(a=>zn(a,r,i))};case"MultiLineString":return{type:"MultiLineString",coordinates:e.coordinates.map(a=>a.map(o=>zn(o,r,i)))};case"Polygon":return{type:"Polygon",coordinates:e.coordinates.map(a=>a.map(o=>zn(o,r,i)))};case"MultiPolygon":return{type:"MultiPolygon",coordinates:e.coordinates.map(a=>a.map(o=>o.map(u=>zn(u,r,i))))};case"GeometryCollection":return{type:"GeometryCollection",geometries:e.geometries.map(a=>xn(a,r,i))};default:return e}}function _d(e){const r=e[0],i=e[1];return r===void 0||i===void 0?!1:r>=-180&&r<=180&&i>=-90&&i<=90}function wd(e){for(const r of e)if(!_d(r))return{valid:!1,invalidCoord:r};return{valid:!0}}const rl={WGS84_MAX:180,BNG_MAX:13e5,WEB_MERCATOR_MAX:2003750834e-2};function Ts(e){if(e.length===0)return"EPSG:4326";let r=0;for(const i of e){const a=i[0],o=i[1];a!==void 0&&(r=Math.max(r,Math.abs(a))),o!==void 0&&(r=Math.max(r,Math.abs(o)))}return r<=rl.WGS84_MAX?"EPSG:4326":r<=rl.BNG_MAX?"EPSG:27700":r<=rl.WEB_MERCATOR_MAX?"EPSG:3857":"EPSG:4326"}const U4=Object.freeze(Object.defineProperty({__proto__:null,detectProjectionFromCoordinates:Ts,isValidWGS84Coordinate:_d,proj4:Xr,projectionLabels:vd,transformCoordinate:zn,transformGeometry:xn,validateWGS84Coordinates:wd},Symbol.toStringTag,{value:"Module"})),q4={geojson:"GeoJSON",wkt:"WKT",ewkt:"EWKT",csv:"CSV",kml:"KML",gpx:"GPX",polyline5:"Polyline5",polyline6:"Polyline6",shapefile:"Shapefile"};function $4({error:e}){const[r,i]=q.useState(!1),a=q.useCallback(()=>{i(c=>!c)},[]),o=q.useCallback(()=>{i(!0)},[]),u=q.useCallback(()=>{i(!1)},[]);return T.jsxs("span",{className:"relative inline-flex items-center",children:[T.jsx("button",{type:"button",onClick:a,onMouseEnter:o,onMouseLeave:u,className:"inline-flex items-center","aria-label":"Show error details",children:T.jsx(fp,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),r&&T.jsx("div",{className:"absolute left-0 top-full z-50 mt-1 max-w-xs whitespace-normal rounded-md border border-red-200 bg-red-50 p-2 text-xs text-red-700 shadow-lg dark:border-red-800 dark:bg-red-950 dark:text-red-300",children:e})]})}function V4(){const{inputFormat:e,inputProjection:r,detectedFormat:i,detectedProjection:a,parseError:o,coordinateError:u,isParsing:c,features:f,rawText:d}=Sr(),m=e==="auto",g=r==="auto",y=o||u,v=d.trim().length>0,S=f.length>0;if(c)return T.jsx("span",{className:"inline-flex items-center gap-1 text-xs text-neutral-500 dark:text-neutral-400",children:T.jsx(vp,{className:"h-3 w-3 animate-spin"})});if(!v)return null;const C=i?q4[i]:null,L=a?vd[a]:null,M=!y&&S,F=o||u;return T.jsxs("div",{className:"inline-flex items-center gap-1.5",children:[M&&T.jsx(lp,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),F&&T.jsx($4,{error:F}),m&&C&&T.jsx("span",{className:"rounded bg-neutral-100 px-1.5 py-0.5 text-xs font-medium text-neutral-600 dark:bg-neutral-700 dark:text-neutral-300",children:C}),g&&L&&T.jsx("span",{className:"rounded bg-neutral-100 px-1.5 py-0.5 text-xs font-medium text-neutral-600 dark:bg-neutral-700 dark:text-neutral-300",children:L})]})}const W4=[".json",".geojson",".wkt",".csv",".kml",".gpx",".txt"];function H4(){const{rawText:e,inputFormat:r,inputProjection:i,detectedFormat:a,detectedProjection:o,setRawText:u,setInputFormat:c,setInputProjection:f}=Sr(),d=q.useCallback((y,v)=>{u(y)},[u]),m=q.useCallback(()=>{u("")},[u]),g=q.useCallback(async()=>{await navigator.clipboard.writeText(window.location.href)},[]);return T.jsxs("div",{className:"border-b border-neutral-200 p-3 md:p-4 dark:border-neutral-700",children:[T.jsxs("div",{className:"mb-2 flex items-center gap-2 md:mb-3",children:[T.jsx("h2",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Input Geometry"}),T.jsx(V4,{}),T.jsxs("div",{className:"ml-auto flex gap-1",children:[e&&T.jsx("button",{onClick:g,className:"rounded p-1 text-neutral-400 transition-colors hover:bg-neutral-200 hover:text-neutral-600 dark:hover:bg-neutral-700 dark:hover:text-neutral-300",title:"Copy link to clipboard","aria-label":"Copy shareable link to clipboard",children:T.jsx(yp,{className:"h-4 w-4"})}),e&&T.jsx("button",{onClick:m,className:"rounded p-1 text-neutral-400 transition-colors hover:bg-neutral-200 hover:text-neutral-600 dark:hover:bg-neutral-700 dark:hover:text-neutral-300",title:"Clear input","aria-label":"Clear input",children:T.jsx(Pp,{className:"h-4 w-4"})})]})]}),T.jsxs("div",{className:"mb-2 flex gap-2 md:mb-3",children:[T.jsx(Lp,{value:r,onChange:c,detectedValue:a,label:"Format"}),T.jsx(Rp,{value:i,onChange:f,detectedValue:o,label:"Projection"})]}),T.jsx(bp,{onFileDrop:d,accept:W4,children:T.jsx(Tp,{value:e,onChange:u,placeholder:"Paste or drop GeoJSON, WKT, CSV, KML, GPX..."})})]})}const Ls=Ps(e=>({outputFormat:"geojson",outputProjection:"EPSG:4326",setOutputFormat:r=>{e({outputFormat:r})},setOutputProjection:r=>{e({outputProjection:r})}}));var nl={};function Q4(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wa={exports:{}};const X4={},K4=Object.freeze(Object.defineProperty({__proto__:null,default:X4},Symbol.toStringTag,{value:"Module"})),i0=H1(K4);var s0;function J4(){return s0||(s0=1,(function(e,r){var i=(function(){var a=function(F,N,R,I){for(R=R||{},I=F.length;I--;R[F[I]]=N);return R},o=[1,12],u=[1,13],c=[1,9],f=[1,10],d=[1,11],m=[1,14],g=[1,15],y=[14,18,22,24],v=[18,22],S=[22,24],C={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(N,R,I,Q,O,j,se){var D=j.length-1;switch(O){case 1:this.$=N.replace(/\\(\\|")/g,"$1").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(N);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=j[D-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=j[D-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[j[D-2],j[D]];break;case 16:this.$={},this.$[j[D][0]]=j[D][1];break;case 17:this.$=j[D-2],j[D-2][j[D][0]]!==void 0&&(this.$.__duplicateProperties__||Object.defineProperty(this.$,"__duplicateProperties__",{value:[],enumerable:!1}),this.$.__duplicateProperties__.push(j[D][0])),j[D-2][j[D][0]]=j[D][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[j[D]];break;case 21:this.$=j[D-2],j[D-2].push(j[D]);break}},table:[{3:5,4:o,5:6,6:u,7:3,8:c,9:4,10:f,11:d,12:1,13:2,15:7,16:8,17:m,23:g},{1:[3]},{14:[1,16]},a(y,[2,7]),a(y,[2,8]),a(y,[2,9]),a(y,[2,10]),a(y,[2,11]),a(y,[2,12]),a(y,[2,3]),a(y,[2,4]),a(y,[2,5]),a([14,18,21,22,24],[2,1]),a(y,[2,2]),{3:20,4:o,18:[1,17],19:18,20:19},{3:5,4:o,5:6,6:u,7:3,8:c,9:4,10:f,11:d,13:23,15:7,16:8,17:m,23:g,24:[1,21],25:22},{1:[2,6]},a(y,[2,13]),{18:[1,24],22:[1,25]},a(v,[2,16]),{21:[1,26]},a(y,[2,18]),{22:[1,28],24:[1,27]},a(S,[2,20]),a(y,[2,14]),{3:20,4:o,20:29},{3:5,4:o,5:6,6:u,7:3,8:c,9:4,10:f,11:d,13:30,15:7,16:8,17:m,23:g},a(y,[2,19]),{3:5,4:o,5:6,6:u,7:3,8:c,9:4,10:f,11:d,13:31,15:7,16:8,17:m,23:g},a(v,[2,17]),a(v,[2,15]),a(S,[2,21])],defaultActions:{16:[2,6]},parseError:function(N,R){if(R.recoverable)this.trace(N);else{let I=function(Q,O){this.message=Q,this.hash=O};throw I.prototype=Error,new I(N,R)}},parse:function(N){var R=this,I=[0],Q=[null],O=[],j=this.table,se="",D=0,x=0,U=2,K=1,Y=O.slice.call(arguments,1),ne=Object.create(this.lexer),pe={yy:{}};for(var _e in this.yy)Object.prototype.hasOwnProperty.call(this.yy,_e)&&(pe.yy[_e]=this.yy[_e]);ne.setInput(N,pe.yy),pe.yy.lexer=ne,pe.yy.parser=this,typeof ne.yylloc>"u"&&(ne.yylloc={});var fe=ne.yylloc;O.push(fe);var H=ne.options&&ne.options.ranges;typeof pe.yy.parseError=="function"?this.parseError=pe.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var J=function(){var de;return de=ne.lex()||K,typeof de!="number"&&(de=R.symbols_[de]||de),de},X,P,V,ue,ie={},ae,ge,xe,ce;;){if(P=I[I.length-1],this.defaultActions[P]?V=this.defaultActions[P]:((X===null||typeof X>"u")&&(X=J()),V=j[P]&&j[P][X]),typeof V>"u"||!V.length||!V[0]){var Se="";ce=[];for(ae in j[P])this.terminals_[ae]&&ae>U&&ce.push("'"+this.terminals_[ae]+"'");ne.showPosition?Se="Parse error on line "+(D+1)+`:
`+ne.showPosition()+`
Expecting `+ce.join(", ")+", got '"+(this.terminals_[X]||X)+"'":Se="Parse error on line "+(D+1)+": Unexpected "+(X==K?"end of input":"'"+(this.terminals_[X]||X)+"'"),this.parseError(Se,{text:ne.match,token:this.terminals_[X]||X,line:ne.yylineno,loc:fe,expected:ce})}if(V[0]instanceof Array&&V.length>1)throw new Error("Parse Error: multiple actions possible at state: "+P+", token: "+X);switch(V[0]){case 1:I.push(X),Q.push(ne.yytext),O.push(ne.yylloc),I.push(V[1]),X=null,x=ne.yyleng,se=ne.yytext,D=ne.yylineno,fe=ne.yylloc;break;case 2:if(ge=this.productions_[V[1]][1],ie.$=Q[Q.length-ge],ie._$={first_line:O[O.length-(ge||1)].first_line,last_line:O[O.length-1].last_line,first_column:O[O.length-(ge||1)].first_column,last_column:O[O.length-1].last_column},H&&(ie._$.range=[O[O.length-(ge||1)].range[0],O[O.length-1].range[1]]),ue=this.performAction.apply(ie,[se,x,D,pe.yy,V[1],Q,O].concat(Y)),typeof ue<"u")return ue;ge&&(I=I.slice(0,-1*ge*2),Q=Q.slice(0,-1*ge),O=O.slice(0,-1*ge)),I.push(this.productions_[V[1]][0]),Q.push(ie.$),O.push(ie._$),xe=j[I[I.length-2]][I[I.length-1]],I.push(xe);break;case 3:return!0}}return!0}},L=(function(){var F={EOF:1,parseError:function(R,I){if(this.yy.parser)this.yy.parser.parseError(R,I);else throw new Error(R)},setInput:function(N,R){return this.yy=R||this.yy||{},this._input=N,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var N=this._input[0];this.yytext+=N,this.yyleng++,this.offset++,this.match+=N,this.matched+=N;var R=N.match(/(?:\r\n?|\n).*/g);return R?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),N},unput:function(N){var R=N.length,I=N.split(/(?:\r\n?|\n)/g);this._input=N+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-R),this.offset-=R;var Q=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),I.length-1&&(this.yylineno-=I.length-1);var O=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:I?(I.length===Q.length?this.yylloc.first_column:0)+Q[Q.length-I.length].length-I[0].length:this.yylloc.first_column-R},this.options.ranges&&(this.yylloc.range=[O[0],O[0]+this.yyleng-R]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(N){this.unput(this.match.slice(N))},pastInput:function(){var N=this.matched.substr(0,this.matched.length-this.match.length);return(N.length>20?"...":"")+N.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var N=this.match;return N.length<20&&(N+=this._input.substr(0,20-N.length)),(N.substr(0,20)+(N.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var N=this.pastInput(),R=new Array(N.length+1).join("-");return N+this.upcomingInput()+`
`+R+"^"},test_match:function(N,R){var I,Q,O;if(this.options.backtrack_lexer&&(O={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(O.yylloc.range=this.yylloc.range.slice(0))),Q=N[0].match(/(?:\r\n?|\n).*/g),Q&&(this.yylineno+=Q.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Q?Q[Q.length-1].length-Q[Q.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+N[0].length},this.yytext+=N[0],this.match+=N[0],this.matches=N,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(N[0].length),this.matched+=N[0],I=this.performAction.call(this,this.yy,this,R,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),I)return I;if(this._backtrack){for(var j in O)this[j]=O[j];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var N,R,I,Q;this._more||(this.yytext="",this.match="");for(var O=this._currentRules(),j=0;j<O.length;j++)if(I=this._input.match(this.rules[O[j]]),I&&(!R||I[0].length>R[0].length)){if(R=I,Q=j,this.options.backtrack_lexer){if(N=this.test_match(I,O[j]),N!==!1)return N;if(this._backtrack){R=!1;continue}else return!1}else if(!this.options.flex)break}return R?(N=this.test_match(R,O[Q]),N!==!1?N:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var R=this.next();return R||this.lex()},begin:function(R){this.conditionStack.push(R)},popState:function(){var R=this.conditionStack.length-1;return R>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(R){return R=this.conditionStack.length-1-Math.abs(R||0),R>=0?this.conditionStack[R]:"INITIAL"},pushState:function(R){this.begin(R)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(R,I,Q,O){switch(Q){case 0:break;case 1:return 6;case 2:return I.yytext=I.yytext.substr(1,I.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return F})();C.lexer=L;function M(){this.yy={}}return M.prototype=C,C.Parser=M,new M})();typeof Q4<"u"&&(r.parser=i,r.Parser=i.Parser,r.parse=function(){return i.parse.apply(i,arguments)},r.main=function(o){o[1]||(console.log("Usage: "+o[0]+" FILE"),process.exit(1));var u=i0.readFileSync(i0.normalize(o[1]),"utf8");return r.parser.parse(u)},require.main===e&&r.main(process.argv.slice(1)))})(Wa,Wa.exports)),Wa.exports}var il={},sl,a0;function Y4(){if(a0)return sl;a0=1;function e(a){var o=0;if(a.length>2)for(var u,c,f=0;f<a.length-1;f++)u=a[f],c=a[f+1],o+=(c[0]-u[0])*(c[1]+u[1]);return o>=0}function r(a){if(a&&a.length>0){if(e(a[0]))return!1;var o=a.slice(1,a.length);if(!o.every(e))return!1}return!0}function i(a){if(a.type==="Polygon")return r(a.coordinates);if(a.type==="MultiPolygon")return a.coordinates.every(r)}return sl=function(o,u){i(o)||u.push({message:"Polygons and MultiPolygons should follow the right-hand rule",level:"message",line:o.__line__})},sl}var o0;function Z4(){if(o0)return il;o0=1;var e=Y4();function r(i,a){var o=[],u=0,c=10,f=6;function d(x){if((!a||a.noDuplicateMembers!==!1)&&x.__duplicateProperties__&&o.push({message:"An object contained duplicate members, making parsing ambigous: "+x.__duplicateProperties__.join(", "),line:x.__line__}),!g(x,"type","string"))if(se[x.type])x&&se[x.type](x);else{var U=D[x.type.toLowerCase()];U!==void 0?o.push({message:"Expected "+U+" but got "+x.type+" (case sensitive)",line:x.__line__}):o.push({message:"The type "+x.type+" is unknown",line:x.__line__})}}function m(x,U){return x.every(function(K){return K!==null&&typeof K===U})}function g(x,U,K){if(typeof x[U]>"u")return o.push({message:'"'+U+'" member required',line:x.__line__});if(K==="array"){if(!Array.isArray(x[U]))return o.push({message:'"'+U+'" member should be an array, but is an '+typeof x[U]+" instead",line:x.__line__})}else{if(K==="object"&&x[U]&&x[U].constructor!==Object)return o.push({message:'"'+U+'" member should be '+K+", but is an "+x[U].constructor.name+" instead",line:x.__line__});if(K&&typeof x[U]!==K)return o.push({message:'"'+U+'" member should be '+K+", but is an "+typeof x[U]+" instead",line:x.__line__})}}function y(x){if(C(x),x.properties!==void 0&&o.push({message:'FeatureCollection object cannot contain a "properties" member',line:x.__line__}),x.coordinates!==void 0&&o.push({message:'FeatureCollection object cannot contain a "coordinates" member',line:x.__line__}),!g(x,"features","array")){if(!m(x.features,"object"))return o.push({message:"Every feature must be an object",line:x.__line__});x.features.forEach(j)}}function v(x,U){if(!Array.isArray(x))return o.push({message:"position should be an array, is a "+typeof x+" instead",line:x.__line__||U});if(x.length<2)return o.push({message:"position must have 2 or more elements",line:x.__line__||U});if(x.length>3)return o.push({message:"position should not have more than 3 elements",level:"message",line:x.__line__||U});if(!m(x,"number"))return o.push({message:"each element in a position must be a number",line:x.__line__||U});if(a&&a.precisionWarning){if(u===c)return u+=1,o.push({message:"truncated warnings: we've encountered coordinate precision warning "+c+" times, no more warnings will be reported",level:"message",line:x.__line__||U});u<c&&x.forEach(function(K){var Y=0,ne=String(K).split(".")[1];if(ne!==void 0&&(Y=ne.length),Y>f)return u+=1,o.push({message:"precision of coordinates should be reduced",level:"message",line:x.__line__||U})})}}function S(x,U,K,Y){if(Y===void 0&&x.__line__!==void 0&&(Y=x.__line__),K===0)return v(x,Y);if(K===1&&U){if(U==="LinearRing"){if(!Array.isArray(x[x.length-1]))return o.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:Y}),!0;if(x.length<4&&o.push({message:"a LinearRing of coordinates needs to have four or more positions",line:Y}),x.length&&(x[x.length-1].length!==x[0].length||!x[x.length-1].every(function(pe,_e){return x[0][_e]===pe})))return o.push({message:"the first and last positions in a LinearRing of coordinates must be the same",line:Y}),!0}else if(U==="Line"&&x.length<2)return o.push({message:"a line needs to have two or more coordinates to be valid",line:Y})}if(!Array.isArray(x))o.push({message:"a number was found where a coordinate array should have been found: this needs to be nested more deeply",line:Y});else{var ne=x.map(function(pe){return S(pe,U,K-1,pe.__line__||Y)});return ne.some(function(pe){return pe})}}function C(x){if(x.bbox){if(Array.isArray(x.bbox))return m(x.bbox,"number")||o.push({message:"each element in a bbox member must be a number",line:x.bbox.__line__}),x.bbox.length===4||x.bbox.length===6||o.push({message:"bbox must contain 4 elements (for 2D) or 6 elements (for 3D)",line:x.bbox.__line__}),o.length;o.push({message:"bbox member must be an array of numbers, but is a "+typeof x.bbox,line:x.__line__})}}function L(x){x.properties!==void 0&&o.push({message:'geometry object cannot contain a "properties" member',line:x.__line__}),x.geometry!==void 0&&o.push({message:'geometry object cannot contain a "geometry" member',line:x.__line__}),x.features!==void 0&&o.push({message:'geometry object cannot contain a "features" member',line:x.__line__})}function M(x){C(x),L(x),g(x,"coordinates","array")||v(x.coordinates)}function F(x){C(x),!g(x,"coordinates","array")&&(S(x.coordinates,"LinearRing",2)||a&&a.ignoreRightHandRule===!0||e(x,o))}function N(x){C(x),!g(x,"coordinates","array")&&(S(x.coordinates,"LinearRing",3)||a&&a.ignoreRightHandRule===!0||e(x,o))}function R(x){C(x),g(x,"coordinates","array")||S(x.coordinates,"Line",1)}function I(x){C(x),g(x,"coordinates","array")||S(x.coordinates,"Line",2)}function Q(x){C(x),g(x,"coordinates","array")||S(x.coordinates,"",1)}function O(x){C(x),g(x,"geometries","array")||(m(x.geometries,"object")||o.push({message:"The geometries array in a GeometryCollection must contain only geometry objects",line:x.__line__}),x.geometries.length===1&&o.push({message:"GeometryCollection with a single geometry should be avoided in favor of single part or a single object of multi-part type",line:x.geometries.__line__}),x.geometries.forEach(function(U){U&&(U.type==="GeometryCollection"&&o.push({message:"GeometryCollection should avoid nested geometry collections",line:x.geometries.__line__}),d(U))}))}function j(x){C(x),x.id!==void 0&&typeof x.id!="string"&&typeof x.id!="number"&&o.push({message:'Feature "id" member must have a string or number value',line:x.__line__}),x.features!==void 0&&o.push({message:'Feature object cannot contain a "features" member',line:x.__line__}),x.coordinates!==void 0&&o.push({message:'Feature object cannot contain a "coordinates" member',line:x.__line__}),x.type!=="Feature"&&o.push({message:"GeoJSON features must have a type=feature member",line:x.__line__}),g(x,"properties","object"),g(x,"geometry","object")||x.geometry&&d(x.geometry)}var se={Point:M,Feature:j,MultiPoint:Q,LineString:R,MultiLineString:I,FeatureCollection:y,GeometryCollection:O,Polygon:F,MultiPolygon:N},D=Object.keys(se).reduce(function(x,U){return x[U.toLowerCase()]=U,x},{});return typeof i!="object"||i===null||i===void 0?(o.push({message:"The root of a GeoJSON object must be an object.",line:0}),o):(d(i),o.forEach(function(x){({}).hasOwnProperty.call(x,"line")&&x.line===void 0&&delete x.line}),o)}return il.hint=r,il}var u0;function e3(){if(u0)return nl;u0=1;var e=J4(),r=Z4();function i(a,o){var u,c=[];if(typeof a=="object")u=a;else if(typeof a=="string")try{u=e.parse(a)}catch(m){var f=m.message.match(/line (\d+)/),d=parseInt(f[1],10);return[{line:d-1,message:m.message,error:m}]}else return[{message:"Expected string or object as input",line:0}];return c=c.concat(r.hint(u,o)),c}return nl.hint=i,nl}var t3=e3();function Ed(e){const r=[];let i=0,a=-1;for(let o=0;o<e.length;o++){const u=e[o];u==="{"?(i===0&&(a=o),i++):u==="}"&&(i--,i===0&&a!==-1&&(r.push(e.slice(a,o+1)),a=-1))}return r}function r3(e){let r;try{r=JSON.parse(e)}catch(a){return{features:[],errors:[{message:a instanceof Error?a.message:"Invalid JSON"}]}}const i=t3.hint(r);return i.length>0?{features:[],errors:i.map(a=>({message:a.message,line:a.line}))}:{features:i3(r),errors:[]}}function n3(e){const r=e.trim();if(!r)return{features:[],errors:[],detectedFormat:"geojson"};const i=Ed(r);if(i.length===0)return{features:[],errors:[{message:"No valid JSON objects found"}]};const a=[],o=[];for(let u=0;u<i.length;u++){const c=i[u];if(!c)continue;const f=r3(c);if(f.errors.length>0){const d=i.length>1?`Object ${String(u+1)}: `:"";o.push(...f.errors.map(m=>({...m,message:d+m.message})))}else a.push(...f.features)}return a.length>0?{features:s3(a),errors:o,detectedFormat:"geojson"}:{features:[],errors:o.length>0?o:[{message:"No features found in GeoJSON"}]}}function i3(e){switch(e.type){case"FeatureCollection":return e.features;case"Feature":return[e];case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":case"GeometryCollection":return[{type:"Feature",geometry:e,properties:{}}];default:return[]}}function s3(e){return e.map((r,i)=>{var a;return{...r,id:((a=r.id)==null?void 0:a.toString())??`feature-${String(i)}`,properties:r.properties??{}}})}function a3(e){return JSON.stringify({type:"FeatureCollection",features:e},null,2)}function o3(e){const r=e.trim();if(!r.startsWith("{"))return!1;const i=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection","Feature","FeatureCollection"],a=Ed(r);if(a.length===0)return!1;try{const o=a[0];if(!o)return!1;const u=JSON.parse(o);return typeof u.type=="string"&&i.includes(u.type)}catch{return!1}}const xd={name:"geojson",parse:n3,format:a3,detect:o3};var ls={exports:{}},l0;function u3(){if(l0)return ls.exports;l0=1,ls.exports=i,ls.exports.parse=i,ls.exports.stringify=a;var e=/[-+]?([0-9]*\.[0-9]+|[0-9]+)([eE][-+]?[0-9]+)?/,r=new RegExp("^"+e.source+"(\\s"+e.source+"){1,}");function i(o){var u=o.split(";"),c=u.pop(),f=(u.shift()||"").split("=").pop(),d=0;function m(O){var j=c.substring(d).match(O);return j?(d+=j[0].length,j[0]):null}function g(O){return O&&f.match(/\d+/)&&(O.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+f}}),O}function y(){m(/^\s*/)}function v(){y();for(var O=0,j=[],se=[j],D=j,x;x=m(/^(\()/)||m(/^(\))/)||m(/^(,)/)||m(r);){if(x==="(")se.push(D),D=[],se[se.length-1].push(D),O++;else if(x===")"){if(D.length===0||(D=se.pop(),!D))return null;if(O--,O===0)break}else if(x===",")D=[],se[se.length-1].push(D);else if(!x.split(/\s/g).some(isNaN))Array.prototype.push.apply(D,x.split(/\s/g).map(parseFloat));else return null;y()}return O!==0?null:j}function S(){for(var O=[],j,se;se=m(r)||m(/^(,)/);)se===","?(O.push(j),j=[]):se.split(/\s/g).some(isNaN)||(j||(j=[]),Array.prototype.push.apply(j,se.split(/\s/g).map(parseFloat))),y();if(j)O.push(j);else return null;return O.length?O:null}function C(){if(!m(/^(point(\sz)?)/i)||(y(),!m(/^(\()/)))return null;var O=S();return!O||(y(),!m(/^(\))/))?null:{type:"Point",coordinates:O[0]}}function L(){if(!m(/^(multipoint)/i))return null;y();var O=c.substring(c.indexOf("(")+1,c.length-1).replace(/\(/g,"").replace(/\)/g,"");c="MULTIPOINT ("+O+")";var j=v();return j?(y(),{type:"MultiPoint",coordinates:j}):null}function M(){if(!m(/^(multilinestring)/i))return null;y();var O=v();return O?(y(),{type:"MultiLineString",coordinates:O}):null}function F(){if(!m(/^(linestring(\sz)?)/i)||(y(),!m(/^(\()/)))return null;var O=S();return!O||!m(/^(\))/)?null:{type:"LineString",coordinates:O}}function N(){if(!m(/^(polygon(\sz)?)/i))return null;y();var O=v();return O?{type:"Polygon",coordinates:O}:null}function R(){if(!m(/^(multipolygon)/i))return null;y();var O=v();return O?{type:"MultiPolygon",coordinates:O}:null}function I(){var O=[],j;if(!m(/^(geometrycollection)/i)||(y(),!m(/^(\()/)))return null;for(;j=Q();)O.push(j),y(),m(/^(,)/),y();return m(/^(\))/)?{type:"GeometryCollection",geometries:O}:null}function Q(){return C()||F()||N()||L()||M()||R()||I()}return g(Q())}function a(o){o.type==="Feature"&&(o=o.geometry);function u(g){return g.join(" ")}function c(g){return g.map(u).join(", ")}function f(g){return g.map(c).map(m).join(", ")}function d(g){return g.map(f).map(m).join(", ")}function m(g){return"("+g+")"}switch(o.type){case"Point":return"POINT ("+u(o.coordinates)+")";case"LineString":return"LINESTRING ("+c(o.coordinates)+")";case"Polygon":return"POLYGON ("+f(o.coordinates)+")";case"MultiPoint":return"MULTIPOINT ("+c(o.coordinates)+")";case"MultiPolygon":return"MULTIPOLYGON ("+d(o.coordinates)+")";case"MultiLineString":return"MULTILINESTRING ("+f(o.coordinates)+")";case"GeometryCollection":return"GEOMETRYCOLLECTION ("+o.geometries.map(a).join(", ")+")";default:throw new Error("stringify requires a valid GeoJSON Feature or geometry object as input")}}return ls.exports}var Sd=u3();function Md(e){var u;const r=e.trim();if(!r)return{features:[],errors:[],detectedFormat:"wkt"};const i=r.split(/\n\s*\n/).filter(c=>c.trim()),a=[],o=[];for(let c=0;c<i.length;c++){const f=(u=i[c])==null?void 0:u.trim();if(f)try{const d=Sd.parse(f);d?a.push({type:"Feature",id:`feature-${String(c)}`,geometry:d,properties:{}}):o.push({message:`Failed to parse WKT at block ${String(c+1)}`})}catch(d){o.push({message:d instanceof Error?d.message:`Invalid WKT at block ${String(c+1)}`})}}return{features:a,errors:o,detectedFormat:"wkt"}}function l3(e){const r=e.trim();if(!r)return{features:[],errors:[],detectedFormat:"ewkt"};let i,a=r;const o=/^SRID=(\d+);/i.exec(r);if(o){const c=parseInt(o[1]??"0",10);switch(a=r.slice(o[0].length),c){case 4326:i="EPSG:4326";break;case 3857:i="EPSG:3857";break;case 27700:i="EPSG:27700";break}}return{...Md(a),detectedFormat:"ewkt",detectedProjection:i}}function Cd(e){return e.map(r=>Sd.stringify(r.geometry)).filter(Boolean).join(`

`)}function c3(e,r=4326){const i=Cd(e);return i?i.split(`

`).map(a=>`SRID=${String(r)};${a}`).join(`

`):""}function f3(e){const r=e.trim().toUpperCase();return["POINT","LINESTRING","POLYGON","MULTIPOINT","MULTILINESTRING","MULTIPOLYGON","GEOMETRYCOLLECTION"].some(a=>r.startsWith(a))}function h3(e){return/^SRID=\d+;/i.test(e.trim())}const Pd={name:"wkt",parse:Md,format:Cd,detect:f3},Ad={name:"ewkt",parse:l3,format:(e,r)=>{const i={"EPSG:4326":4326,"EPSG:3857":3857,"EPSG:27700":27700},a=r!=null&&r.projection?i[r.projection]??4326:4326;return c3(e,a)},detect:h3};function d3(e){return e.trim().replace(/(?:\r\n|\r|\n)/g," ").replace(/\s+/g," ")}function p3(e){const r=d3(e);if(!r)return[];const i=r.split(/[#&\\:/|;,\s]/),a=[];for(const o of i){if(!o)continue;const u=Number(o);if(Number.isNaN(u))throw new Error(`Invalid number: ${o}`);a.push(u)}return a}function m3(e){const r=e.trim();if(!r)return[];const i=r.split(/[#&\\:/|;,\t ]+/),a=[];for(const o of i){if(!o)continue;const u=Number(o);if(Number.isNaN(u))throw new Error(`Invalid number: ${o}`);a.push(u)}return a}function g3(e){const r=e.trim();if(!r)return{features:[],errors:[],detectedFormat:"csv"};try{const i=r.split(/\r?\n/).filter(o=>o.trim()),a=[];for(let o=0;o<i.length;o++){const u=i[o];if(!u)continue;const c=m3(u);if(c.length===0)continue;if(c.length%2!==0)return{features:[],errors:[{message:`Line ${String(o+1)}: Odd number of coordinates - expected pairs of x,y (lon,lat)`}]};const f=[];for(let m=0;m<c.length;m+=2){const g=c[m]??0,y=c[m+1]??0;f.push([g,y])}const d=y3(f,o);a.push(d)}return a.length===0?{features:[],errors:[{message:"No coordinates found in input"}]}:{features:a,errors:[],detectedFormat:"csv"}}catch(i){return{features:[],errors:[{message:i instanceof Error?i.message:"Failed to parse CSV"}]}}}function y3(e,r){const i=`feature-${String(r)}`;if(e.length===1){const f=e[0];if(!f)throw new Error("Expected coordinate at index 0");return{type:"Feature",id:i,geometry:{type:"Point",coordinates:f},properties:{index:r}}}const a=e[0],o=e[e.length-1];return a&&o&&a[0]===o[0]&&a[1]===o[1]&&e.length>3?{type:"Feature",id:i,geometry:{type:"Polygon",coordinates:[e]},properties:{index:r}}:{type:"Feature",id:i,geometry:{type:"LineString",coordinates:e},properties:{index:r}}}function v3(e){const r=[];for(const i of e){const a=Dd(i.geometry);if(a.length>0){const o=a.map(([u,c])=>`${String(u)},${String(c)}`).join(",");r.push(o)}}return r.join(`
`)}function Dd(e){switch(e.type){case"Point":return[[e.coordinates[0]??0,e.coordinates[1]??0]];case"MultiPoint":case"LineString":return e.coordinates.map(r=>[r[0]??0,r[1]??0]);case"MultiLineString":case"Polygon":return e.coordinates.flat().map(r=>[r[0]??0,r[1]??0]);case"MultiPolygon":return e.coordinates.flat(2).map(r=>[r[0]??0,r[1]??0]);case"GeometryCollection":return e.geometries.flatMap(r=>Dd(r));default:return[]}}function _3(e){const r=e.trim();if(r.startsWith("{")||r.startsWith("[")||r.toUpperCase().startsWith("POINT")||r.toUpperCase().startsWith("LINESTRING")||r.toUpperCase().startsWith("POLYGON")||r.toUpperCase().startsWith("SRID=")||r.startsWith("<"))return!1;try{const i=p3(r);return i.length>=2&&i.length%2===0}catch{return!1}}const kd={name:"csv",parse:g3,format:v3,detect:_3};function c0(e,r=5){const i=Math.pow(10,r),a=[];let o=0,u=0,c=0;for(;o<e.length;){let f=0,d=0,m;do m=e.charCodeAt(o++)-63,d|=(m&31)<<f,f+=5;while(m>=32);u+=(d&1)!==0?~(d>>1):d>>1,f=0,d=0;do m=e.charCodeAt(o++)-63,d|=(m&31)<<f,f+=5;while(m>=32);c+=(d&1)!==0?~(d>>1):d>>1,a.push([c/i,u/i])}return a}function w3(e,r=5){const i=Math.pow(10,r);let a="",o=0,u=0;for(const c of e){const f=c[0]??0,d=c[1]??0,m=Math.round(d*i),g=Math.round(f*i);a+=f0(m-o),a+=f0(g-u),o=m,u=g}return a}function f0(e){let r="",i=e<0?~(e<<1):e<<1;for(;i>=32;)r+=String.fromCharCode((32|i&31)+63),i>>=5;return r+=String.fromCharCode(i+63),r}function Nd(e){const r=`polyline${String(e)}`;function i(u){const c=u.trim();if(!c)return{features:[],errors:[],detectedFormat:r};try{const f=c0(c,e);return f.length===0?{features:[],errors:[{message:"No coordinates decoded from polyline"}]}:{features:[{type:"Feature",id:"feature-0",geometry:{type:"LineString",coordinates:f},properties:{pointCount:f.length}}],errors:[],detectedFormat:r,detectedProjection:"EPSG:4326"}}catch(f){return{features:[],errors:[{message:f instanceof Error?f.message:"Failed to decode polyline"}]}}}function a(u){const c=[];for(const f of u){const d=bd(f.geometry);c.push(...d)}return c.length===0?"":w3(c,e)}function o(u){const c=u.trim();if(c.startsWith("{")||c.startsWith("[")||c.startsWith("<")||/[\s,;:]/.test(c)||!/^[?-~]+$/.test(c))return!1;try{const f=c0(c,e);if(f.length<2)return!1;for(const[d,m]of f)if(m===void 0||d===void 0||m<-90||m>90||d<-180||d>180)return!1;return!0}catch{return!1}}return{name:r,parse:i,format:a,detect:o}}function bd(e){switch(e.type){case"Point":return[e.coordinates];case"MultiPoint":case"LineString":return e.coordinates;case"MultiLineString":case"Polygon":return e.coordinates.flat();case"MultiPolygon":return e.coordinates.flat(2);case"GeometryCollection":return e.geometries.flatMap(r=>bd(r));default:return[]}}const Td=Nd(5),Ld=Nd(6);var al={exports:{}},cs={},Hr={},jn={},h0;function fo(){if(h0)return jn;h0=1;function e(u,c,f){if(f===void 0&&(f=Array.prototype),u&&typeof f.find=="function")return f.find.call(u,c);for(var d=0;d<u.length;d++)if(Object.prototype.hasOwnProperty.call(u,d)){var m=u[d];if(c.call(void 0,m,d,u))return m}}function r(u,c){return c===void 0&&(c=Object),c&&typeof c.freeze=="function"?c.freeze(u):u}function i(u,c){if(u===null||typeof u!="object")throw new TypeError("target is not an object");for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(u[f]=c[f]);return u}var a=r({HTML:"text/html",isHTML:function(u){return u===a.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=r({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(u){return u===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return jn.assign=i,jn.find=e,jn.freeze=r,jn.MIME_TYPE=a,jn.NAMESPACE=o,jn}var d0;function Rd(){if(d0)return Hr;d0=1;var e=fo(),r=e.find,i=e.NAMESPACE;function a(_){return _!==""}function o(_){return _?_.split(/[\t\n\f\r ]+/).filter(a):[]}function u(_,E){return _.hasOwnProperty(E)||(_[E]=!0),_}function c(_){if(!_)return[];var E=o(_);return Object.keys(E.reduce(u,{}))}function f(_){return function(E){return _&&_.indexOf(E)!==-1}}function d(_,E){for(var k in _)Object.prototype.hasOwnProperty.call(_,k)&&(E[k]=_[k])}function m(_,E){var k=_.prototype;if(!(k instanceof E)){let $=function(){};$.prototype=E.prototype,$=new $,d(k,$),_.prototype=k=$}k.constructor!=_&&(typeof _!="function"&&console.error("unknown Class:"+_),k.constructor=_)}var g={},y=g.ELEMENT_NODE=1,v=g.ATTRIBUTE_NODE=2,S=g.TEXT_NODE=3,C=g.CDATA_SECTION_NODE=4,L=g.ENTITY_REFERENCE_NODE=5,M=g.ENTITY_NODE=6,F=g.PROCESSING_INSTRUCTION_NODE=7,N=g.COMMENT_NODE=8,R=g.DOCUMENT_NODE=9,I=g.DOCUMENT_TYPE_NODE=10,Q=g.DOCUMENT_FRAGMENT_NODE=11,O=g.NOTATION_NODE=12,j={},se={};j.INDEX_SIZE_ERR=(se[1]="Index size error",1),j.DOMSTRING_SIZE_ERR=(se[2]="DOMString size error",2);var D=j.HIERARCHY_REQUEST_ERR=(se[3]="Hierarchy request error",3);j.WRONG_DOCUMENT_ERR=(se[4]="Wrong document",4),j.INVALID_CHARACTER_ERR=(se[5]="Invalid character",5),j.NO_DATA_ALLOWED_ERR=(se[6]="No data allowed",6),j.NO_MODIFICATION_ALLOWED_ERR=(se[7]="No modification allowed",7);var x=j.NOT_FOUND_ERR=(se[8]="Not found",8);j.NOT_SUPPORTED_ERR=(se[9]="Not supported",9);var U=j.INUSE_ATTRIBUTE_ERR=(se[10]="Attribute in use",10);j.INVALID_STATE_ERR=(se[11]="Invalid state",11),j.SYNTAX_ERR=(se[12]="Syntax error",12),j.INVALID_MODIFICATION_ERR=(se[13]="Invalid modification",13),j.NAMESPACE_ERR=(se[14]="Invalid namespace",14),j.INVALID_ACCESS_ERR=(se[15]="Invalid access",15);function K(_,E){if(E instanceof Error)var k=E;else k=this,Error.call(this,se[_]),this.message=se[_],Error.captureStackTrace&&Error.captureStackTrace(this,K);return k.code=_,E&&(this.message=this.message+": "+E),k}K.prototype=Error.prototype,d(j,K);function Y(){}Y.prototype={length:0,item:function(_){return _>=0&&_<this.length?this[_]:null},toString:function(_,E){for(var k=[],$=0;$<this.length;$++)qt(this[$],k,_,E);return k.join("")},filter:function(_){return Array.prototype.filter.call(this,_)},indexOf:function(_){return Array.prototype.indexOf.call(this,_)}};function ne(_,E){this._node=_,this._refresh=E,pe(this)}function pe(_){var E=_._node._inc||_._node.ownerDocument._inc;if(_._inc!==E){var k=_._refresh(_._node);if(Zt(_,"length",k.length),!_.$$length||k.length<_.$$length)for(var $=k.length;$ in _;$++)Object.prototype.hasOwnProperty.call(_,$)&&delete _[$];d(k,_),_._inc=E}}ne.prototype.item=function(_){return pe(this),this[_]||null},m(ne,Y);function _e(){}function fe(_,E){for(var k=_.length;k--;)if(_[k]===E)return k}function H(_,E,k,$){if($?E[fe(E,$)]=k:E[E.length++]=k,_){k.ownerElement=_;var le=_.ownerDocument;le&&($&&ge(le,_,$),ae(le,_,k))}}function J(_,E,k){var $=fe(E,k);if($>=0){for(var le=E.length-1;$<le;)E[$]=E[++$];if(E.length=le,_){var ke=_.ownerDocument;ke&&(ge(ke,_,k),k.ownerElement=null)}}else throw new K(x,new Error(_.tagName+"@"+k))}_e.prototype={length:0,item:Y.prototype.item,getNamedItem:function(_){for(var E=this.length;E--;){var k=this[E];if(k.nodeName==_)return k}},setNamedItem:function(_){var E=_.ownerElement;if(E&&E!=this._ownerElement)throw new K(U);var k=this.getNamedItem(_.nodeName);return H(this._ownerElement,this,_,k),k},setNamedItemNS:function(_){var E=_.ownerElement,k;if(E&&E!=this._ownerElement)throw new K(U);return k=this.getNamedItemNS(_.namespaceURI,_.localName),H(this._ownerElement,this,_,k),k},removeNamedItem:function(_){var E=this.getNamedItem(_);return J(this._ownerElement,this,E),E},removeNamedItemNS:function(_,E){var k=this.getNamedItemNS(_,E);return J(this._ownerElement,this,k),k},getNamedItemNS:function(_,E){for(var k=this.length;k--;){var $=this[k];if($.localName==E&&$.namespaceURI==_)return $}return null}};function X(){}X.prototype={hasFeature:function(_,E){return!0},createDocument:function(_,E,k){var $=new ie;if($.implementation=this,$.childNodes=new Y,$.doctype=k||null,k&&$.appendChild(k),E){var le=$.createElementNS(_,E);$.appendChild(le)}return $},createDocumentType:function(_,E,k){var $=new cr;return $.name=_,$.nodeName=_,$.publicId=E||"",$.systemId=k||"",$}};function P(){}P.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(_,E){return ut(this,_,E)},replaceChild:function(_,E){ut(this,_,E,Nt),E&&this.removeChild(E)},removeChild:function(_){return ce(this,_)},appendChild:function(_){return this.insertBefore(_,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(_){return hr(this.ownerDocument||this,this,_)},normalize:function(){for(var _=this.firstChild;_;){var E=_.nextSibling;E&&E.nodeType==S&&_.nodeType==S?(this.removeChild(E),_.appendData(E.data)):(_.normalize(),_=E)}},isSupported:function(_,E){return this.ownerDocument.implementation.hasFeature(_,E)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(_){for(var E=this;E;){var k=E._nsMap;if(k){for(var $ in k)if(Object.prototype.hasOwnProperty.call(k,$)&&k[$]===_)return $}E=E.nodeType==v?E.ownerDocument:E.parentNode}return null},lookupNamespaceURI:function(_){for(var E=this;E;){var k=E._nsMap;if(k&&Object.prototype.hasOwnProperty.call(k,_))return k[_];E=E.nodeType==v?E.ownerDocument:E.parentNode}return null},isDefaultNamespace:function(_){var E=this.lookupPrefix(_);return E==null}};function V(_){return _=="<"&&"&lt;"||_==">"&&"&gt;"||_=="&"&&"&amp;"||_=='"'&&"&quot;"||"&#"+_.charCodeAt()+";"}d(g,P),d(g,P.prototype);function ue(_,E){if(E(_))return!0;if(_=_.firstChild)do if(ue(_,E))return!0;while(_=_.nextSibling)}function ie(){this.ownerDocument=this}function ae(_,E,k){_&&_._inc++;var $=k.namespaceURI;$===i.XMLNS&&(E._nsMap[k.prefix?k.localName:""]=k.value)}function ge(_,E,k,$){_&&_._inc++;var le=k.namespaceURI;le===i.XMLNS&&delete E._nsMap[k.prefix?k.localName:""]}function xe(_,E,k){if(_&&_._inc){_._inc++;var $=E.childNodes;if(k)$[$.length++]=k;else{for(var le=E.firstChild,ke=0;le;)$[ke++]=le,le=le.nextSibling;$.length=ke,delete $[$.length]}}}function ce(_,E){var k=E.previousSibling,$=E.nextSibling;return k?k.nextSibling=$:_.firstChild=$,$?$.previousSibling=k:_.lastChild=k,E.parentNode=null,E.previousSibling=null,E.nextSibling=null,xe(_.ownerDocument,_),E}function Se(_){return _&&(_.nodeType===P.DOCUMENT_NODE||_.nodeType===P.DOCUMENT_FRAGMENT_NODE||_.nodeType===P.ELEMENT_NODE)}function de(_){return _&&(Te(_)||De(_)||Ce(_)||_.nodeType===P.DOCUMENT_FRAGMENT_NODE||_.nodeType===P.COMMENT_NODE||_.nodeType===P.PROCESSING_INSTRUCTION_NODE)}function Ce(_){return _&&_.nodeType===P.DOCUMENT_TYPE_NODE}function Te(_){return _&&_.nodeType===P.ELEMENT_NODE}function De(_){return _&&_.nodeType===P.TEXT_NODE}function Fe(_,E){var k=_.childNodes||[];if(r(k,Te)||Ce(E))return!1;var $=r(k,Ce);return!(E&&$&&k.indexOf($)>k.indexOf(E))}function it(_,E){var k=_.childNodes||[];function $(ke){return Te(ke)&&ke!==E}if(r(k,$))return!1;var le=r(k,Ce);return!(E&&le&&k.indexOf(le)>k.indexOf(E))}function be(_,E,k){if(!Se(_))throw new K(D,"Unexpected parent node type "+_.nodeType);if(k&&k.parentNode!==_)throw new K(x,"child not in parent");if(!de(E)||Ce(E)&&_.nodeType!==P.DOCUMENT_NODE)throw new K(D,"Unexpected node type "+E.nodeType+" for parent node type "+_.nodeType)}function kt(_,E,k){var $=_.childNodes||[],le=E.childNodes||[];if(E.nodeType===P.DOCUMENT_FRAGMENT_NODE){var ke=le.filter(Te);if(ke.length>1||r(le,De))throw new K(D,"More than one element or text in fragment");if(ke.length===1&&!Fe(_,k))throw new K(D,"Element in fragment can not be inserted before doctype")}if(Te(E)&&!Fe(_,k))throw new K(D,"Only one element can be added and only after doctype");if(Ce(E)){if(r($,Ce))throw new K(D,"Only one doctype is allowed");var Ue=r($,Te);if(k&&$.indexOf(Ue)<$.indexOf(k))throw new K(D,"Doctype can only be inserted before an element");if(!k&&Ue)throw new K(D,"Doctype can not be appended since element is present")}}function Nt(_,E,k){var $=_.childNodes||[],le=E.childNodes||[];if(E.nodeType===P.DOCUMENT_FRAGMENT_NODE){var ke=le.filter(Te);if(ke.length>1||r(le,De))throw new K(D,"More than one element or text in fragment");if(ke.length===1&&!it(_,k))throw new K(D,"Element in fragment can not be inserted before doctype")}if(Te(E)&&!it(_,k))throw new K(D,"Only one element can be added and only after doctype");if(Ce(E)){if(r($,function(pt){return Ce(pt)&&pt!==k}))throw new K(D,"Only one doctype is allowed");var Ue=r($,Te);if(k&&$.indexOf(Ue)<$.indexOf(k))throw new K(D,"Doctype can only be inserted before an element")}}function ut(_,E,k,$){be(_,E,k),_.nodeType===P.DOCUMENT_NODE&&($||kt)(_,E,k);var le=E.parentNode;if(le&&le.removeChild(E),E.nodeType===Q){var ke=E.firstChild;if(ke==null)return E;var Ue=E.lastChild}else ke=Ue=E;var dt=k?k.previousSibling:_.lastChild;ke.previousSibling=dt,Ue.nextSibling=k,dt?dt.nextSibling=ke:_.firstChild=ke,k==null?_.lastChild=Ue:k.previousSibling=Ue;do{ke.parentNode=_;var pt=_.ownerDocument||_;Je(ke,pt)}while(ke!==Ue&&(ke=ke.nextSibling));return xe(_.ownerDocument||_,_),E.nodeType==Q&&(E.firstChild=E.lastChild=null),E}function Je(_,E){if(_.ownerDocument!==E){if(_.ownerDocument=E,_.nodeType===y&&_.attributes)for(var k=0;k<_.attributes.length;k++){var $=_.attributes.item(k);$&&($.ownerDocument=E)}for(var le=_.firstChild;le;)Je(le,E),le=le.nextSibling}}function Re(_,E){E.parentNode&&E.parentNode.removeChild(E),E.parentNode=_,E.previousSibling=_.lastChild,E.nextSibling=null,E.previousSibling?E.previousSibling.nextSibling=E:_.firstChild=E,_.lastChild=E,xe(_.ownerDocument,_,E);var k=_.ownerDocument||_;return Je(E,k),E}ie.prototype={nodeName:"#document",nodeType:R,doctype:null,documentElement:null,_inc:1,insertBefore:function(_,E){if(_.nodeType==Q){for(var k=_.firstChild;k;){var $=k.nextSibling;this.insertBefore(k,E),k=$}return _}return ut(this,_,E),Je(_,this),this.documentElement===null&&_.nodeType===y&&(this.documentElement=_),_},removeChild:function(_){return this.documentElement==_&&(this.documentElement=null),ce(this,_)},replaceChild:function(_,E){ut(this,_,E,Nt),Je(_,this),E&&this.removeChild(E),Te(_)&&(this.documentElement=_)},importNode:function(_,E){return Pr(this,_,E)},getElementById:function(_){var E=null;return ue(this.documentElement,function(k){if(k.nodeType==y&&k.getAttribute("id")==_)return E=k,!0}),E},getElementsByClassName:function(_){var E=c(_);return new ne(this,function(k){var $=[];return E.length>0&&ue(k.documentElement,function(le){if(le!==k&&le.nodeType===y){var ke=le.getAttribute("class");if(ke){var Ue=_===ke;if(!Ue){var dt=c(ke);Ue=E.every(f(dt))}Ue&&$.push(le)}}}),$})},createElement:function(_){var E=new Ie;E.ownerDocument=this,E.nodeName=_,E.tagName=_,E.localName=_,E.childNodes=new Y;var k=E.attributes=new _e;return k._ownerElement=E,E},createDocumentFragment:function(){var _=new Gr;return _.ownerDocument=this,_.childNodes=new Y,_},createTextNode:function(_){var E=new Lr;return E.ownerDocument=this,E.appendData(_),E},createComment:function(_){var E=new Rr;return E.ownerDocument=this,E.appendData(_),E},createCDATASection:function(_){var E=new Mr;return E.ownerDocument=this,E.appendData(_),E},createProcessingInstruction:function(_,E){var k=new Fr;return k.ownerDocument=this,k.tagName=k.nodeName=k.target=_,k.nodeValue=k.data=E,k},createAttribute:function(_){var E=new Jt;return E.ownerDocument=this,E.name=_,E.nodeName=_,E.localName=_,E.specified=!0,E},createEntityReference:function(_){var E=new Yt;return E.ownerDocument=this,E.nodeName=_,E},createElementNS:function(_,E){var k=new Ie,$=E.split(":"),le=k.attributes=new _e;return k.childNodes=new Y,k.ownerDocument=this,k.nodeName=E,k.tagName=E,k.namespaceURI=_,$.length==2?(k.prefix=$[0],k.localName=$[1]):k.localName=E,le._ownerElement=k,k},createAttributeNS:function(_,E){var k=new Jt,$=E.split(":");return k.ownerDocument=this,k.nodeName=E,k.name=E,k.namespaceURI=_,k.specified=!0,$.length==2?(k.prefix=$[0],k.localName=$[1]):k.localName=E,k}},m(ie,P);function Ie(){this._nsMap={}}Ie.prototype={nodeType:y,hasAttribute:function(_){return this.getAttributeNode(_)!=null},getAttribute:function(_){var E=this.getAttributeNode(_);return E&&E.value||""},getAttributeNode:function(_){return this.attributes.getNamedItem(_)},setAttribute:function(_,E){var k=this.ownerDocument.createAttribute(_);k.value=k.nodeValue=""+E,this.setAttributeNode(k)},removeAttribute:function(_){var E=this.getAttributeNode(_);E&&this.removeAttributeNode(E)},appendChild:function(_){return _.nodeType===Q?this.insertBefore(_,null):Re(this,_)},setAttributeNode:function(_){return this.attributes.setNamedItem(_)},setAttributeNodeNS:function(_){return this.attributes.setNamedItemNS(_)},removeAttributeNode:function(_){return this.attributes.removeNamedItem(_.nodeName)},removeAttributeNS:function(_,E){var k=this.getAttributeNodeNS(_,E);k&&this.removeAttributeNode(k)},hasAttributeNS:function(_,E){return this.getAttributeNodeNS(_,E)!=null},getAttributeNS:function(_,E){var k=this.getAttributeNodeNS(_,E);return k&&k.value||""},setAttributeNS:function(_,E,k){var $=this.ownerDocument.createAttributeNS(_,E);$.value=$.nodeValue=""+k,this.setAttributeNode($)},getAttributeNodeNS:function(_,E){return this.attributes.getNamedItemNS(_,E)},getElementsByTagName:function(_){return new ne(this,function(E){var k=[];return ue(E,function($){$!==E&&$.nodeType==y&&(_==="*"||$.tagName==_)&&k.push($)}),k})},getElementsByTagNameNS:function(_,E){return new ne(this,function(k){var $=[];return ue(k,function(le){le!==k&&le.nodeType===y&&(_==="*"||le.namespaceURI===_)&&(E==="*"||le.localName==E)&&$.push(le)}),$})}},ie.prototype.getElementsByTagName=Ie.prototype.getElementsByTagName,ie.prototype.getElementsByTagNameNS=Ie.prototype.getElementsByTagNameNS,m(Ie,P);function Jt(){}Jt.prototype.nodeType=v,m(Jt,P);function Ut(){}Ut.prototype={data:"",substringData:function(_,E){return this.data.substring(_,_+E)},appendData:function(_){_=this.data+_,this.nodeValue=this.data=_,this.length=_.length},insertData:function(_,E){this.replaceData(_,0,E)},appendChild:function(_){throw new Error(se[D])},deleteData:function(_,E){this.replaceData(_,E,"")},replaceData:function(_,E,k){var $=this.data.substring(0,_),le=this.data.substring(_+E);k=$+k+le,this.nodeValue=this.data=k,this.length=k.length}},m(Ut,P);function Lr(){}Lr.prototype={nodeName:"#text",nodeType:S,splitText:function(_){var E=this.data,k=E.substring(_);E=E.substring(0,_),this.data=this.nodeValue=E,this.length=E.length;var $=this.ownerDocument.createTextNode(k);return this.parentNode&&this.parentNode.insertBefore($,this.nextSibling),$}},m(Lr,Ut);function Rr(){}Rr.prototype={nodeName:"#comment",nodeType:N},m(Rr,Ut);function Mr(){}Mr.prototype={nodeName:"#cdata-section",nodeType:C},m(Mr,Ut);function cr(){}cr.prototype.nodeType=I,m(cr,P);function Mn(){}Mn.prototype.nodeType=O,m(Mn,P);function fr(){}fr.prototype.nodeType=M,m(fr,P);function Yt(){}Yt.prototype.nodeType=L,m(Yt,P);function Gr(){}Gr.prototype.nodeName="#document-fragment",Gr.prototype.nodeType=Q,m(Gr,P);function Fr(){}Fr.prototype.nodeType=F,m(Fr,P);function Kr(){}Kr.prototype.serializeToString=function(_,E,k){return Cn.call(_,E,k)},P.prototype.toString=Cn;function Cn(_,E){var k=[],$=this.nodeType==9&&this.documentElement||this,le=$.prefix,ke=$.namespaceURI;if(ke&&le==null){var le=$.lookupPrefix(ke);if(le==null)var Ue=[{namespace:ke,prefix:null}]}return qt(this,k,_,E,Ue),k.join("")}function Or(_,E,k){var $=_.prefix||"",le=_.namespaceURI;if(!le||$==="xml"&&le===i.XML||le===i.XMLNS)return!1;for(var ke=k.length;ke--;){var Ue=k[ke];if(Ue.prefix===$)return Ue.namespace!==le}return!0}function Cr(_,E,k){_.push(" ",E,'="',k.replace(/[<>&"\t\n\r]/g,V),'"')}function qt(_,E,k,$,le){if(le||(le=[]),$)if(_=$(_),_){if(typeof _=="string"){E.push(_);return}}else return;switch(_.nodeType){case y:var ke=_.attributes,Ue=ke.length,lt=_.firstChild,dt=_.tagName;k=i.isHTML(_.namespaceURI)||k;var pt=dt;if(!k&&!_.prefix&&_.namespaceURI){for(var er,St=0;St<ke.length;St++)if(ke.item(St).name==="xmlns"){er=ke.item(St).value;break}if(!er)for(var Ir=le.length-1;Ir>=0;Ir--){var $t=le[Ir];if($t.prefix===""&&$t.namespace===_.namespaceURI){er=$t.namespace;break}}if(er!==_.namespaceURI)for(var Ir=le.length-1;Ir>=0;Ir--){var $t=le[Ir];if($t.namespace===_.namespaceURI){$t.prefix&&(pt=$t.prefix+":"+dt);break}}}E.push("<",pt);for(var tr=0;tr<Ue;tr++){var Mt=ke.item(tr);Mt.prefix=="xmlns"?le.push({prefix:Mt.localName,namespace:Mt.value}):Mt.nodeName=="xmlns"&&le.push({prefix:"",namespace:Mt.value})}for(var tr=0;tr<Ue;tr++){var Mt=ke.item(tr);if(Or(Mt,k,le)){var dr=Mt.prefix||"",Pn=Mt.namespaceURI;Cr(E,dr?"xmlns:"+dr:"xmlns",Pn),le.push({prefix:dr,namespace:Pn})}qt(Mt,E,k,$,le)}if(dt===pt&&Or(_,k,le)){var dr=_.prefix||"",Pn=_.namespaceURI;Cr(E,dr?"xmlns:"+dr:"xmlns",Pn),le.push({prefix:dr,namespace:Pn})}if(lt||k&&!/^(?:meta|link|img|br|hr|input)$/i.test(dt)){if(E.push(">"),k&&/^script$/i.test(dt))for(;lt;)lt.data?E.push(lt.data):qt(lt,E,k,$,le.slice()),lt=lt.nextSibling;else for(;lt;)qt(lt,E,k,$,le.slice()),lt=lt.nextSibling;E.push("</",pt,">")}else E.push("/>");return;case R:case Q:for(var lt=_.firstChild;lt;)qt(lt,E,k,$,le.slice()),lt=lt.nextSibling;return;case v:return Cr(E,_.name,_.value);case S:return E.push(_.data.replace(/[<&>]/g,V));case C:return E.push("<![CDATA[",_.data,"]]>");case N:return E.push("<!--",_.data,"-->");case I:var Gs=_.publicId,bt=_.systemId;if(E.push("<!DOCTYPE ",_.name),Gs)E.push(" PUBLIC ",Gs),bt&&bt!="."&&E.push(" ",bt),E.push(">");else if(bt&&bt!=".")E.push(" SYSTEM ",bt,">");else{var Ai=_.internalSubset;Ai&&E.push(" [",Ai,"]"),E.push(">")}return;case F:return E.push("<?",_.target," ",_.data,"?>");case L:return E.push("&",_.nodeName,";");default:E.push("??",_.nodeName)}}function Pr(_,E,k){var $;switch(E.nodeType){case y:$=E.cloneNode(!1),$.ownerDocument=_;case Q:break;case v:k=!0;break}if($||($=E.cloneNode(!1)),$.ownerDocument=_,$.parentNode=null,k)for(var le=E.firstChild;le;)$.appendChild(Pr(_,le,k)),le=le.nextSibling;return $}function hr(_,E,k){var $=new E.constructor;for(var le in E)if(Object.prototype.hasOwnProperty.call(E,le)){var ke=E[le];typeof ke!="object"&&ke!=$[le]&&($[le]=ke)}switch(E.childNodes&&($.childNodes=new Y),$.ownerDocument=_,$.nodeType){case y:var Ue=E.attributes,dt=$.attributes=new _e,pt=Ue.length;dt._ownerElement=$;for(var er=0;er<pt;er++)$.setAttributeNode(hr(_,Ue.item(er),!0));break;case v:k=!0}if(k)for(var St=E.firstChild;St;)$.appendChild(hr(_,St,k)),St=St.nextSibling;return $}function Zt(_,E,k){_[E]=k}try{if(Object.defineProperty){let _=function(E){switch(E.nodeType){case y:case Q:var k=[];for(E=E.firstChild;E;)E.nodeType!==7&&E.nodeType!==8&&k.push(_(E)),E=E.nextSibling;return k.join("");default:return E.nodeValue}};Object.defineProperty(ne.prototype,"length",{get:function(){return pe(this),this.$$length}}),Object.defineProperty(P.prototype,"textContent",{get:function(){return _(this)},set:function(E){switch(this.nodeType){case y:case Q:for(;this.firstChild;)this.removeChild(this.firstChild);(E||String(E))&&this.appendChild(this.ownerDocument.createTextNode(E));break;default:this.data=E,this.value=E,this.nodeValue=E}}}),Zt=function(E,k,$){E["$$"+k]=$}}}catch{}return Hr.DocumentType=cr,Hr.DOMException=K,Hr.DOMImplementation=X,Hr.Element=Ie,Hr.Node=P,Hr.NodeList=Y,Hr.XMLSerializer=Kr,Hr}var fs={},ol={},p0;function E3(){return p0||(p0=1,(function(e){var r=fo().freeze;e.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=r({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(ol)),ol}var Ha={},m0;function x3(){if(m0)return Ha;m0=1;var e=fo().NAMESPACE,r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+r.source+i.source+"*(?::"+r.source+i.source+"*)?$"),o=0,u=1,c=2,f=3,d=4,m=5,g=6,y=7;function v(D,x){this.message=D,this.locator=x,Error.captureStackTrace&&Error.captureStackTrace(this,v)}v.prototype=new Error,v.prototype.name=v.name;function S(){}S.prototype={parse:function(D,x,U){var K=this.domBuilder;K.startDocument(),I(x,x={}),C(D,x,U,K,this.errorHandler),K.endDocument()}};function C(D,x,U,K,Y){function ne(Re){if(Re>65535){Re-=65536;var Ie=55296+(Re>>10),Jt=56320+(Re&1023);return String.fromCharCode(Ie,Jt)}else return String.fromCharCode(Re)}function pe(Re){var Ie=Re.slice(1,-1);return Object.hasOwnProperty.call(U,Ie)?U[Ie]:Ie.charAt(0)==="#"?ne(parseInt(Ie.substr(1).replace("x","0x"))):(Y.error("entity not found:"+Re),Re)}function _e(Re){if(Re>ie){var Ie=D.substring(ie,Re).replace(/&#?\w+;/g,pe);P&&fe(ie),K.characters(Ie,0,Re-ie),ie=Re}}function fe(Re,Ie){for(;Re>=J&&(Ie=X.exec(D));)H=Ie.index,J=H+Ie[0].length,P.lineNumber++;P.columnNumber=Re-H+1}for(var H=0,J=0,X=/.*(?:\r\n?|\n)|.*$/g,P=K.locator,V=[{currentNSMap:x}],ue={},ie=0;;){try{var ae=D.indexOf("<",ie);if(ae<0){if(!D.substr(ie).match(/^\s*$/)){var ge=K.doc,xe=ge.createTextNode(D.substr(ie));ge.appendChild(xe),K.currentElement=xe}return}switch(ae>ie&&_e(ae),D.charAt(ae+1)){case"/":var be=D.indexOf(">",ae+3),ce=D.substring(ae+2,be).replace(/[ \t\n\r]+$/g,""),Se=V.pop();be<0?(ce=D.substring(ae+2).replace(/[\s<].*/,""),Y.error("end tag name: "+ce+" is not complete:"+Se.tagName),be=ae+1+ce.length):ce.match(/\s</)&&(ce=ce.replace(/[\s<].*/,""),Y.error("end tag name: "+ce+" maybe not complete"),be=ae+1+ce.length);var de=Se.localNSMap,Ce=Se.tagName==ce,Te=Ce||Se.tagName&&Se.tagName.toLowerCase()==ce.toLowerCase();if(Te){if(K.endElement(Se.uri,Se.localName,ce),de)for(var De in de)Object.prototype.hasOwnProperty.call(de,De)&&K.endPrefixMapping(De);Ce||Y.fatalError("end tag name: "+ce+" is not match the current start tagName:"+Se.tagName)}else V.push(Se);be++;break;case"?":P&&fe(ae),be=O(D,ae,K);break;case"!":P&&fe(ae),be=Q(D,ae,K,Y);break;default:P&&fe(ae);var Fe=new j,it=V[V.length-1].currentNSMap,be=M(D,ae,Fe,it,pe,Y),kt=Fe.length;if(!Fe.closed&&R(D,be,Fe.tagName,ue)&&(Fe.closed=!0,U.nbsp||Y.warning("unclosed xml attribute")),P&&kt){for(var Nt=L(P,{}),ut=0;ut<kt;ut++){var Je=Fe[ut];fe(Je.offset),Je.locator=L(P,{})}K.locator=Nt,F(Fe,K,it)&&V.push(Fe),K.locator=P}else F(Fe,K,it)&&V.push(Fe);e.isHTML(Fe.uri)&&!Fe.closed?be=N(D,be,Fe.tagName,pe,K):be++}}catch(Re){if(Re instanceof v)throw Re;Y.error("element parse error: "+Re),be=-1}be>ie?ie=be:_e(Math.max(ae,ie)+1)}}function L(D,x){return x.lineNumber=D.lineNumber,x.columnNumber=D.columnNumber,x}function M(D,x,U,K,Y,ne){function pe(P,V,ue){U.attributeNames.hasOwnProperty(P)&&ne.fatalError("Attribute "+P+" redefined"),U.addValue(P,V.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,Y),ue)}for(var _e,fe,H=++x,J=o;;){var X=D.charAt(H);switch(X){case"=":if(J===u)_e=D.slice(x,H),J=f;else if(J===c)J=f;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(J===f||J===u)if(J===u&&(ne.warning('attribute value must after "="'),_e=D.slice(x,H)),x=H+1,H=D.indexOf(X,x),H>0)fe=D.slice(x,H),pe(_e,fe,x-1),J=m;else throw new Error("attribute value no end '"+X+"' match");else if(J==d)fe=D.slice(x,H),pe(_e,fe,x),ne.warning('attribute "'+_e+'" missed start quot('+X+")!!"),x=H+1,J=m;else throw new Error('attribute value must after "="');break;case"/":switch(J){case o:U.setTagName(D.slice(x,H));case m:case g:case y:J=y,U.closed=!0;case d:case u:break;case c:U.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ne.error("unexpected end of input"),J==o&&U.setTagName(D.slice(x,H)),H;case">":switch(J){case o:U.setTagName(D.slice(x,H));case m:case g:case y:break;case d:case u:fe=D.slice(x,H),fe.slice(-1)==="/"&&(U.closed=!0,fe=fe.slice(0,-1));case c:J===c&&(fe=_e),J==d?(ne.warning('attribute "'+fe+'" missed quot(")!'),pe(_e,fe,x)):((!e.isHTML(K[""])||!fe.match(/^(?:disabled|checked|selected)$/i))&&ne.warning('attribute "'+fe+'" missed value!! "'+fe+'" instead!!'),pe(fe,fe,x));break;case f:throw new Error("attribute value missed!!")}return H;case"":X=" ";default:if(X<=" ")switch(J){case o:U.setTagName(D.slice(x,H)),J=g;break;case u:_e=D.slice(x,H),J=c;break;case d:var fe=D.slice(x,H);ne.warning('attribute "'+fe+'" missed quot(")!!'),pe(_e,fe,x);case m:J=g;break}else switch(J){case c:U.tagName,(!e.isHTML(K[""])||!_e.match(/^(?:disabled|checked|selected)$/i))&&ne.warning('attribute "'+_e+'" missed value!! "'+_e+'" instead2!!'),pe(_e,_e,x),x=H,J=u;break;case m:ne.warning('attribute space is required"'+_e+'"!!');case g:J=u,x=H;break;case f:J=d,x=H;break;case y:throw new Error("elements closed character '/' and '>' must be connected to")}}H++}}function F(D,x,U){for(var K=D.tagName,Y=null,X=D.length;X--;){var ne=D[X],pe=ne.qName,_e=ne.value,P=pe.indexOf(":");if(P>0)var fe=ne.prefix=pe.slice(0,P),H=pe.slice(P+1),J=fe==="xmlns"&&H;else H=pe,fe=null,J=pe==="xmlns"&&"";ne.localName=H,J!==!1&&(Y==null&&(Y={},I(U,U={})),U[J]=Y[J]=_e,ne.uri=e.XMLNS,x.startPrefixMapping(J,_e))}for(var X=D.length;X--;){ne=D[X];var fe=ne.prefix;fe&&(fe==="xml"&&(ne.uri=e.XML),fe!=="xmlns"&&(ne.uri=U[fe||""]))}var P=K.indexOf(":");P>0?(fe=D.prefix=K.slice(0,P),H=D.localName=K.slice(P+1)):(fe=null,H=D.localName=K);var V=D.uri=U[fe||""];if(x.startElement(V,H,K,D),D.closed){if(x.endElement(V,H,K),Y)for(fe in Y)Object.prototype.hasOwnProperty.call(Y,fe)&&x.endPrefixMapping(fe)}else return D.currentNSMap=U,D.localNSMap=Y,!0}function N(D,x,U,K,Y){if(/^(?:script|textarea)$/i.test(U)){var ne=D.indexOf("</"+U+">",x),pe=D.substring(x+1,ne);if(/[&<]/.test(pe))return/^script$/i.test(U)?(Y.characters(pe,0,pe.length),ne):(pe=pe.replace(/&#?\w+;/g,K),Y.characters(pe,0,pe.length),ne)}return x+1}function R(D,x,U,K){var Y=K[U];return Y==null&&(Y=D.lastIndexOf("</"+U+">"),Y<x&&(Y=D.lastIndexOf("</"+U)),K[U]=Y),Y<x}function I(D,x){for(var U in D)Object.prototype.hasOwnProperty.call(D,U)&&(x[U]=D[U])}function Q(D,x,U,K){var Y=D.charAt(x+2);switch(Y){case"-":if(D.charAt(x+3)==="-"){var ne=D.indexOf("-->",x+4);return ne>x?(U.comment(D,x+4,ne-x-4),ne+3):(K.error("Unclosed comment"),-1)}else return-1;default:if(D.substr(x+3,6)=="CDATA["){var ne=D.indexOf("]]>",x+9);return U.startCDATA(),U.characters(D,x+9,ne-x-9),U.endCDATA(),ne+3}var pe=se(D,x),_e=pe.length;if(_e>1&&/!doctype/i.test(pe[0][0])){var fe=pe[1][0],H=!1,J=!1;_e>3&&(/^public$/i.test(pe[2][0])?(H=pe[3][0],J=_e>4&&pe[4][0]):/^system$/i.test(pe[2][0])&&(J=pe[3][0]));var X=pe[_e-1];return U.startDTD(fe,H,J),U.endDTD(),X.index+X[0].length}}return-1}function O(D,x,U){var K=D.indexOf("?>",x);if(K){var Y=D.substring(x,K).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Y?(Y[0].length,U.processingInstruction(Y[1],Y[2]),K+2):-1}return-1}function j(){this.attributeNames={}}j.prototype={setTagName:function(D){if(!a.test(D))throw new Error("invalid tagName:"+D);this.tagName=D},addValue:function(D,x,U){if(!a.test(D))throw new Error("invalid attribute:"+D);this.attributeNames[D]=this.length,this[this.length++]={qName:D,value:x,offset:U}},length:0,getLocalName:function(D){return this[D].localName},getLocator:function(D){return this[D].locator},getQName:function(D){return this[D].qName},getURI:function(D){return this[D].uri},getValue:function(D){return this[D].value}};function se(D,x){var U,K=[],Y=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Y.lastIndex=x,Y.exec(D);U=Y.exec(D);)if(K.push(U),U[1])return K}return Ha.XMLReader=S,Ha.ParseError=v,Ha}var g0;function S3(){if(g0)return fs;g0=1;var e=fo(),r=Rd(),i=E3(),a=x3(),o=r.DOMImplementation,u=e.NAMESPACE,c=a.ParseError,f=a.XMLReader;function d(M){return M.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function m(M){this.options=M||{locator:{}}}m.prototype.parseFromString=function(M,F){var N=this.options,R=new f,I=N.domBuilder||new y,Q=N.errorHandler,O=N.locator,j=N.xmlns||{},se=/\/x?html?$/.test(F),D=se?i.HTML_ENTITIES:i.XML_ENTITIES;O&&I.setDocumentLocator(O),R.errorHandler=g(Q,I,O),R.domBuilder=N.domBuilder||I,se&&(j[""]=u.HTML),j.xml=j.xml||u.XML;var x=N.normalizeLineEndings||d;return M&&typeof M=="string"?R.parse(x(M),j,D):R.errorHandler.error("invalid doc source"),I.doc};function g(M,F,N){if(!M){if(F instanceof y)return F;M=F}var R={},I=M instanceof Function;N=N||{};function Q(O){var j=M[O];!j&&I&&(j=M.length==2?function(se){M(O,se)}:M),R[O]=j&&function(se){j("[xmldom "+O+"]	"+se+S(N))}||function(){}}return Q("warning"),Q("error"),Q("fatalError"),R}function y(){this.cdata=!1}function v(M,F){F.lineNumber=M.lineNumber,F.columnNumber=M.columnNumber}y.prototype={startDocument:function(){this.doc=new o().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(M,F,N,R){var I=this.doc,Q=I.createElementNS(M,N||F),O=R.length;L(this,Q),this.currentElement=Q,this.locator&&v(this.locator,Q);for(var j=0;j<O;j++){var M=R.getURI(j),se=R.getValue(j),N=R.getQName(j),D=I.createAttributeNS(M,N);this.locator&&v(R.getLocator(j),D),D.value=D.nodeValue=se,Q.setAttributeNode(D)}},endElement:function(M,F,N){var R=this.currentElement;R.tagName,this.currentElement=R.parentNode},startPrefixMapping:function(M,F){},endPrefixMapping:function(M){},processingInstruction:function(M,F){var N=this.doc.createProcessingInstruction(M,F);this.locator&&v(this.locator,N),L(this,N)},ignorableWhitespace:function(M,F,N){},characters:function(M,F,N){if(M=C.apply(this,arguments),M){if(this.cdata)var R=this.doc.createCDATASection(M);else var R=this.doc.createTextNode(M);this.currentElement?this.currentElement.appendChild(R):/^\s*$/.test(M)&&this.doc.appendChild(R),this.locator&&v(this.locator,R)}},skippedEntity:function(M){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(M){(this.locator=M)&&(M.lineNumber=0)},comment:function(M,F,N){M=C.apply(this,arguments);var R=this.doc.createComment(M);this.locator&&v(this.locator,R),L(this,R)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(M,F,N){var R=this.doc.implementation;if(R&&R.createDocumentType){var I=R.createDocumentType(M,F,N);this.locator&&v(this.locator,I),L(this,I),this.doc.doctype=I}},warning:function(M){console.warn("[xmldom warning]	"+M,S(this.locator))},error:function(M){console.error("[xmldom error]	"+M,S(this.locator))},fatalError:function(M){throw new c(M,this.locator)}};function S(M){if(M)return`
@`+(M.systemId||"")+"#[line:"+M.lineNumber+",col:"+M.columnNumber+"]"}function C(M,F,N){return typeof M=="string"?M.substr(F,N):M.length>=F+N||F?new java.lang.String(M,F,N)+"":M}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(M){y.prototype[M]=function(){return null}});function L(M,F){M.currentElement?M.currentElement.appendChild(F):M.doc.appendChild(F)}return fs.__DOMHandler=y,fs.normalizeLineEndings=d,fs.DOMParser=m,fs}var y0;function M3(){if(y0)return cs;y0=1;var e=Rd();return cs.DOMImplementation=e.DOMImplementation,cs.XMLSerializer=e.XMLSerializer,cs.DOMParser=S3().DOMParser,cs}var v0;function C3(){return v0||(v0=1,(function(e,r){var i=(function(){var a=/\s*/g,o=/^\s*|\s*$/g,u=/\s+/;function c(D){if(!D||!D.length)return 0;for(var x=0,U=0;x<D.length;x++)U=(U<<5)-U+D.charCodeAt(x)|0;return U}function f(D,x){return D.getElementsByTagName(x)}function d(D,x){return D.getAttribute(x)}function m(D,x){return parseFloat(d(D,x))}function g(D,x){var U=f(D,x);return U.length?U[0]:null}function y(D){return D.normalize&&D.normalize(),D}function v(D){for(var x=0,U=[];x<D.length;x++)U[x]=parseFloat(D[x]);return U}function S(D){return D&&y(D),D&&D.textContent||""}function C(D,x){var U={},K,Y;for(Y=0;Y<x.length;Y++)K=g(D,x[Y]),K&&(U[x[Y]]=S(K));return U}function L(D,x){for(var U in x)D[U]=x[U]}function M(D){return v(D.replace(a,"").split(","))}function F(D){for(var x=D.replace(o,"").split(u),U=[],K=0;K<x.length;K++)U.push(M(x[K]));return U}function N(D){var x=[m(D,"lon"),m(D,"lat")],U=g(D,"ele"),K=g(D,"gpxtpx:hr")||g(D,"hr"),Y=g(D,"time"),ne;return U&&(ne=parseFloat(S(U)),isNaN(ne)||x.push(ne)),{coordinates:x,time:Y?S(Y):null,heartRate:K?parseFloat(S(K)):null}}function R(){return{type:"FeatureCollection",features:[]}}var I;if(typeof XMLSerializer<"u")I=new XMLSerializer;else{var Q=typeof process=="object"&&!process.browser,O=typeof Titanium=="object";if(Q||O)I=new(M3()).XMLSerializer;else throw new Error("Unable to initialize serializer")}function j(D){return D.xml!==void 0?D.xml:I.serializeToString(D)}var se={kml:function(D){for(var x=R(),U={},K={},Y={},ne=["Polygon","LineString","Point","Track","gx:Track"],pe=f(D,"Placemark"),_e=f(D,"Style"),fe=f(D,"StyleMap"),H=0;H<_e.length;H++){var J=c(j(_e[H])).toString(16);U["#"+d(_e[H],"id")]=J,K[J]=_e[H]}for(var X=0;X<fe.length;X++){U["#"+d(fe[X],"id")]=c(j(fe[X])).toString(16);for(var P=f(fe[X],"Pair"),V={},ue=0;ue<P.length;ue++)V[S(g(P[ue],"key"))]=S(g(P[ue],"styleUrl"));Y["#"+d(fe[X],"id")]=V}for(var ie=0;ie<pe.length;ie++)x.features=x.features.concat(Se(pe[ie]));function ae(de){var Ce,Te;return de=de||"",de.substr(0,1)==="#"&&(de=de.substr(1)),(de.length===6||de.length===3)&&(Ce=de),de.length===8&&(Te=parseInt(de.substr(0,2),16)/255,Ce="#"+de.substr(6,2)+de.substr(4,2)+de.substr(2,2)),[Ce,isNaN(Te)?void 0:Te]}function ge(de){return v(de.split(" "))}function xe(de){var Ce=f(de,"coord"),Te=[],De=[];Ce.length===0&&(Ce=f(de,"gx:coord"));for(var Fe=0;Fe<Ce.length;Fe++)Te.push(ge(S(Ce[Fe])));for(var it=f(de,"when"),be=0;be<it.length;be++)De.push(S(it[be]));return{coords:Te,times:De}}function ce(de){var Ce,Te,De,Fe,it,be=[],kt=[];if(g(de,"MultiGeometry"))return ce(g(de,"MultiGeometry"));if(g(de,"MultiTrack"))return ce(g(de,"MultiTrack"));if(g(de,"gx:MultiTrack"))return ce(g(de,"gx:MultiTrack"));for(De=0;De<ne.length;De++)if(Te=f(de,ne[De]),Te){for(Fe=0;Fe<Te.length;Fe++)if(Ce=Te[Fe],ne[De]==="Point")be.push({type:"Point",coordinates:M(S(g(Ce,"coordinates")))});else if(ne[De]==="LineString")be.push({type:"LineString",coordinates:F(S(g(Ce,"coordinates")))});else if(ne[De]==="Polygon"){var Nt=f(Ce,"LinearRing"),ut=[];for(it=0;it<Nt.length;it++)ut.push(F(S(g(Nt[it],"coordinates"))));be.push({type:"Polygon",coordinates:ut})}else if(ne[De]==="Track"||ne[De]==="gx:Track"){var Je=xe(Ce);be.push({type:"LineString",coordinates:Je.coords}),Je.times.length&&kt.push(Je.times)}}return{geoms:be,coordTimes:kt}}function Se(de){var Ce=ce(de),Te,De={},Fe=S(g(de,"name")),it=S(g(de,"address")),be=S(g(de,"styleUrl")),kt=S(g(de,"description")),Nt=g(de,"TimeSpan"),ut=g(de,"TimeStamp"),Je=g(de,"ExtendedData"),Re=g(de,"LineStyle"),Ie=g(de,"PolyStyle"),Jt=g(de,"visibility");if(!Ce.geoms.length)return[];if(Fe&&(De.name=Fe),it&&(De.address=it),be){be[0]!=="#"&&(be="#"+be),De.styleUrl=be,U[be]&&(De.styleHash=U[be]),Y[be]&&(De.styleMapHash=Y[be],De.styleHash=U[Y[be].normal]);var Ut=K[De.styleHash];if(Ut){Re||(Re=g(Ut,"LineStyle")),Ie||(Ie=g(Ut,"PolyStyle"));var Lr=g(Ut,"IconStyle");if(Lr){var Rr=g(Lr,"Icon");if(Rr){var Mr=S(g(Rr,"href"));Mr&&(De.icon=Mr)}}}}if(kt&&(De.description=kt),Nt){var cr=S(g(Nt,"begin")),Mn=S(g(Nt,"end"));De.timespan={begin:cr,end:Mn}}if(ut&&(De.timestamp=S(g(ut,"when"))),Re){var fr=ae(S(g(Re,"color"))),Yt=fr[0],Gr=fr[1],Fr=parseFloat(S(g(Re,"width")));Yt&&(De.stroke=Yt),isNaN(Gr)||(De["stroke-opacity"]=Gr),isNaN(Fr)||(De["stroke-width"]=Fr)}if(Ie){var Kr=ae(S(g(Ie,"color"))),Cn=Kr[0],Or=Kr[1],Cr=S(g(Ie,"fill")),qt=S(g(Ie,"outline"));Cn&&(De.fill=Cn),isNaN(Or)||(De["fill-opacity"]=Or),Cr&&(De["fill-opacity"]=Cr==="1"?De["fill-opacity"]||1:0),qt&&(De["stroke-opacity"]=qt==="1"?De["stroke-opacity"]||1:0)}if(Je){var Pr=f(Je,"Data"),hr=f(Je,"SimpleData");for(Te=0;Te<Pr.length;Te++)De[Pr[Te].getAttribute("name")]=S(g(Pr[Te],"value"));for(Te=0;Te<hr.length;Te++)De[hr[Te].getAttribute("name")]=S(hr[Te])}Jt&&(De.visibility=S(Jt)),Ce.coordTimes.length&&(De.coordTimes=Ce.coordTimes.length===1?Ce.coordTimes[0]:Ce.coordTimes);var Zt={type:"Feature",geometry:Ce.geoms.length===1?Ce.geoms[0]:{type:"GeometryCollection",geometries:Ce.geoms},properties:De};return d(de,"id")&&(Zt.id=d(de,"id")),[Zt]}return x},gpx:function(D){var x,U=f(D,"trk"),K=f(D,"rte"),Y=f(D,"wpt"),ne=R(),pe;for(x=0;x<U.length;x++)pe=H(U[x]),pe&&ne.features.push(pe);for(x=0;x<K.length;x++)pe=J(K[x]),pe&&ne.features.push(pe);for(x=0;x<Y.length;x++)ne.features.push(X(Y[x]));function _e(ue,ie){for(var ae=0;ae<ie;ae++)ue.push(null);return ue}function fe(ue,ie){var ae=f(ue,ie),ge=[],xe=[],ce=[],Se=ae.length;if(Se<2)return{};for(var de=0;de<Se;de++){var Ce=N(ae[de]);ge.push(Ce.coordinates),Ce.time&&xe.push(Ce.time),(Ce.heartRate||ce.length)&&(ce.length||_e(ce,de),ce.push(Ce.heartRate||null))}return{line:ge,times:xe,heartRates:ce}}function H(ue){for(var ie=f(ue,"trkseg"),ae=[],ge=[],xe=[],ce,Se=0;Se<ie.length;Se++)if(ce=fe(ie[Se],"trkpt"),ce&&(ce.line&&ae.push(ce.line),ce.times&&ce.times.length&&ge.push(ce.times),xe.length||ce.heartRates&&ce.heartRates.length)){if(!xe.length)for(var de=0;de<Se;de++)xe.push(_e([],ae[de].length));ce.heartRates&&ce.heartRates.length?xe.push(ce.heartRates):xe.push(_e([],ce.line.length||0))}if(ae.length!==0){var Ce=V(ue);return L(Ce,P(g(ue,"extensions"))),ge.length&&(Ce.coordTimes=ae.length===1?ge[0]:ge),xe.length&&(Ce.heartRates=ae.length===1?xe[0]:xe),{type:"Feature",properties:Ce,geometry:{type:ae.length===1?"LineString":"MultiLineString",coordinates:ae.length===1?ae[0]:ae}}}}function J(ue){var ie=fe(ue,"rtept");if(ie.line){var ae=V(ue);L(ae,P(g(ue,"extensions")));var ge={type:"Feature",properties:ae,geometry:{type:"LineString",coordinates:ie.line}};return ge}}function X(ue){var ie=V(ue);return L(ie,C(ue,["sym"])),{type:"Feature",properties:ie,geometry:{type:"Point",coordinates:N(ue).coordinates}}}function P(ue){var ie={};if(ue){var ae=g(ue,"line");if(ae){var ge=S(g(ae,"color")),xe=parseFloat(S(g(ae,"opacity"))),ce=parseFloat(S(g(ae,"width")));ge&&(ie.stroke=ge),isNaN(xe)||(ie["stroke-opacity"]=xe),isNaN(ce)||(ie["stroke-width"]=ce*96/25.4)}}return ie}function V(ue){var ie=C(ue,["name","cmt","desc","type","time","keywords"]),ae=f(ue,"link");ae.length&&(ie.links=[]);for(var ge=0,xe;ge<ae.length;ge++)xe={href:d(ae[ge],"href")},L(xe,C(ae[ge],["text","type"])),ie.links.push(xe);return ie}return ne}};return se})();e.exports=i})(al)),al.exports}var Gd=C3();function P3(e){const r=[],i=e.split(/<\/kml>/i);for(const a of i){const o=a.trim();if(!o)continue;const u=o.match(/<\?xml[^?]*\?>/i),c=o.match(/<kml[^>]*>/i);if(c){const f=c.index??0;let d=o.slice(f)+"</kml>";u&&(u.index??0)<f&&(d=u[0]+`
`+d),r.push(d)}}return r}function A3(e,r){const a=new DOMParser().parseFromString(e,"text/xml"),o=a.querySelector("parsererror");if(o)return{features:[],errors:[{message:"Invalid XML: "+o.textContent}]};const u=Gd.kml(a);return u.features.length===0?{features:[],errors:[]}:{features:u.features.map((f,d)=>{var v;const m=f.properties??{},g=typeof m.name=="string"?m.name:void 0,y=typeof m.description=="string"?m.description:void 0;return{type:"Feature",id:((v=f.id)==null?void 0:v.toString())??`feature-${String(r+d)}`,geometry:f.geometry,properties:{...m,name:g,description:y}}}),errors:[]}}function D3(e){const r=e.trim();if(!r)return{features:[],errors:[],detectedFormat:"kml"};try{const i=P3(r);i.length===0&&i.push(r);const a=[],o=[];for(let u=0;u<i.length;u++){const c=i[u];if(!c)continue;const f=A3(c,a.length);if(f.errors.length>0){const d=i.length>1?`Document ${String(u+1)}: `:"";o.push(...f.errors.map(m=>({message:d+m.message})))}else a.push(...f.features)}return a.length>0?{features:a,errors:o,detectedFormat:"kml",detectedProjection:"EPSG:4326"}:{features:[],errors:o.length>0?o:[{message:"No features found in KML"}]}}catch(i){return{features:[],errors:[{message:i instanceof Error?i.message:"Failed to parse KML"}]}}}function k3(e){return`<?xml version="1.0" encoding="UTF-8"?>
<kml xmlns="http://www.opengis.net/kml/2.2">
<Document>
${e.map((i,a)=>{const o=i.properties,u=o?o.name:void 0,c=typeof u=="string"?u:`Feature ${String(a+1)}`,f=i.geometry;let d="";if(f.type==="Point"){const[m,g,y]=f.coordinates;d=`<Point><coordinates>${String(m)},${String(g)}${y!==void 0?","+String(y):""}</coordinates></Point>`}else f.type==="LineString"?d=`<LineString><coordinates>${f.coordinates.map(g=>`${String(g[0])},${String(g[1])}${g[2]!==void 0?","+String(g[2]):""}`).join(" ")}</coordinates></LineString>`:f.type==="Polygon"&&(d=`<Polygon>${f.coordinates.map((g,y)=>{const v=g.map(C=>`${String(C[0])},${String(C[1])}${C[2]!==void 0?","+String(C[2]):""}`).join(" "),S=y===0?"outerBoundaryIs":"innerBoundaryIs";return`<${S}><LinearRing><coordinates>${v}</coordinates></LinearRing></${S}>`}).join("")}</Polygon>`);return`<Placemark><name>${N3(c)}</name>${d}</Placemark>`}).join(`
`)}
</Document>
</kml>`}function N3(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function b3(e){const r=e.trim();return!r.startsWith("<?xml")&&!r.toLowerCase().startsWith("<kml")?!1:/<kml/i.test(r)}const Fd={name:"kml",parse:D3,format:k3,detect:b3};function T3(e){const r=[],i=e.split(/<\/gpx>/i);for(const a of i){const o=a.trim();if(!o)continue;const u=o.match(/<\?xml[^?]*\?>/i),c=o.match(/<gpx[^>]*>/i);if(c){const f=c.index??0;let d=o.slice(f)+"</gpx>";u&&(u.index??0)<f&&(d=u[0]+`
`+d),r.push(d)}}return r}function L3(e,r){const a=new DOMParser().parseFromString(e,"text/xml"),o=a.querySelector("parsererror");if(o)return{features:[],errors:[{message:"Invalid XML: "+o.textContent}]};const u=Gd.gpx(a);return u.features.length===0?{features:[],errors:[]}:{features:u.features.map((f,d)=>{var v;const m=f.properties??{},g=typeof m.name=="string"?m.name:void 0,y=typeof m.desc=="string"?m.desc:void 0;return{type:"Feature",id:((v=f.id)==null?void 0:v.toString())??`feature-${String(r+d)}`,geometry:f.geometry,properties:{...m,name:g,description:y}}}),errors:[]}}function R3(e){const r=e.trim();if(!r)return{features:[],errors:[],detectedFormat:"gpx"};try{const i=T3(r);i.length===0&&i.push(r);const a=[],o=[];for(let u=0;u<i.length;u++){const c=i[u];if(!c)continue;const f=L3(c,a.length);if(f.errors.length>0){const d=i.length>1?`Document ${String(u+1)}: `:"";o.push(...f.errors.map(m=>({message:d+m.message})))}else a.push(...f.features)}return a.length>0?{features:a,errors:o,detectedFormat:"gpx",detectedProjection:"EPSG:4326"}:{features:[],errors:o.length>0?o:[{message:"No features found in GPX"}]}}catch(i){return{features:[],errors:[{message:i instanceof Error?i.message:"Failed to parse GPX"}]}}}function G3(e){const r=[];for(const i of e){const a=i.properties,o=a?a.name:void 0,u=typeof o=="string"?o:"",c=i.geometry;if(c.type==="Point"){const[f,d,m]=c.coordinates;r.push(`<wpt lat="${String(d)}" lon="${String(f)}">${u?`<name>${ul(u)}</name>`:""}${m!==void 0?`<ele>${String(m)}</ele>`:""}</wpt>`)}else if(c.type==="LineString"){const f=c.coordinates.map(d=>{const[m,g,y]=d;return`<trkpt lat="${String(g)}" lon="${String(m)}">${y!==void 0?`<ele>${String(y)}</ele>`:""}</trkpt>`}).join(`
        `);r.push(`<trk>${u?`<name>${ul(u)}</name>`:""}<trkseg>
        ${f}
      </trkseg></trk>`)}else if(c.type==="MultiLineString"){const f=c.coordinates.map(d=>`<trkseg>
        ${d.map(g=>{const[y,v,S]=g;return`<trkpt lat="${String(v)}" lon="${String(y)}">${S!==void 0?`<ele>${String(S)}</ele>`:""}</trkpt>`}).join(`
        `)}
      </trkseg>`).join(`
      `);r.push(`<trk>${u?`<name>${ul(u)}</name>`:""}${f}</trk>`)}}return`<?xml version="1.0" encoding="UTF-8"?>
<gpx version="1.1" creator="GeoFiddle" xmlns="http://www.topografix.com/GPX/1/1">
  ${r.join(`
  `)}
</gpx>`}function ul(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function F3(e){const r=e.trim();return!r.startsWith("<?xml")&&!r.toLowerCase().startsWith("<gpx")?!1:/<gpx/i.test(r)}const Od={name:"gpx",parse:R3,format:G3,detect:F3};var Id,_0=()=>new DecompressionStream("deflate-raw");try{_0(),Id=async e=>{let r=_0(),i=r.writable.getWriter(),a=r.readable.getReader(),o,u=[],c=0,f=0,d;for(i.write(e),i.close();!(d=await a.read()).done;)o=d.value,u.push(o),c+=o.length;return!u[1]&&o||(o=new Uint8Array(c),u.map(m=>(o.set(m,f),f+=m.length))),o}}catch{}var O3=new TextDecoder,ll=e=>{throw new Error("but-unzip~"+e)},w0=e=>O3.decode(e);function*I3(e,r=Id){let i=e.length-20,a=Math.max(i-65516,2);for(;(i=e.lastIndexOf(80,i-1))!==-1&&!(e[i+1]===75&&e[i+2]===5&&e[i+3]===6)&&i>a;);i===-1&&ll(2);let o=(m,g)=>e.subarray(i+=m,i+=g),u=new DataView(e.buffer,e.byteOffset),c=m=>u.getUint16(m+i,!0),f=m=>u.getUint32(m+i,!0),d=c(10);for(d!==c(8)&&ll(3),i=f(16);d--;){let m=c(10),g=c(30),y=c(32),v=f(20),S=f(42),C=w0(o(46,c(28))),L=w0(o(g,y)),M=i,F;i=S,F=o(30+c(26)+c(28),v),yield{filename:C,comment:L,read:()=>m&8?r(F):m?ll(1):F},i=M}}const j3=/.+\.(shp|dbf|json|prj|cpg)$/i,B3=async e=>{const r={},i=[];for(const u of I3(e))j3.test(u.filename)&&i.push(Promise.resolve(u.read()).then(c=>r[u.filename]=c));await Promise.all(i);const a={},o=new TextDecoder;for(const[u,c]of Object.entries(r))u.slice(-3).toLowerCase()==="shp"||u.slice(-3).toLowerCase()==="dbf"?a[u]=new DataView(c.buffer,c.byteOffset,c.byteLength):a[u]=o.decode(c);return a},z3=globalThis.URL,U3=(e,r)=>{if(!r)return e;const i=new z3(e);return i.pathname=`${i.pathname}.${r}`,i.href};async function Cs(e,r){const i=U3(e,r),a=r==="prj"||r==="cpg";try{const o=await fetch(i);if(o.status>399)throw new Error(o.statusText);if(a)return o.text();const u=await o.arrayBuffer();return new DataView(u)}catch(o){if(a||r==="dbf")return!1;throw o}}function q3(e){let r=0,i=1;const a=e.length;let o,u;const c=[e[0][0],e[0][1],e[0][0],e[0][1]];for(;i<a;)o=u||e[0],u=e[i],r+=(u[0]-o[0])*(u[1]+o[1]),i++,u[0]<c[0]&&(c[0]=u[0]),u[1]<c[1]&&(c[1]=u[1]),u[0]>c[2]&&(c[2]=u[0]),u[1]>c[3]&&(c[3]=u[1]);return{ring:e,clockWise:r>0,bbox:c,children:[]}}function E0(e,r){return!(e.bbox[0]>r.bbox[0]||e.bbox[1]>r.bbox[1]||e.bbox[2]<r.bbox[2]||e.bbox[3]<r.bbox[3])}function jd(e,r=!1){const i=[],a=[];for(const c of e){const f=q3(c);f.clockWise!==r?i.push(f):a.push(f)}const o=[];for(const c of a){let f;for(const d of i)E0(d,c)&&(f?E0(f,d)&&(f=d):f=d);f?f.children.push(c.ring):o.push(c)}if(r)return{outers:i,orphens:o};if(o.length&&!r){const c=jd(e,!0);if(c.orphens.length===0){const f=[];for(const d of c.outers)f.push([d.ring.toReversed()].concat(d.children.map(m=>m.toReversed())));return f}}const u=[];for(const c of i)u.push([c.ring].concat(c.children));return u}nt.prototype.parsePoint=function(e){return{type:"Point",coordinates:this.parseCoord(e,0)}};nt.prototype.parseZPoint=function(e){const r=this.parsePoint(e);return r.coordinates.push(e.getFloat64(16,!0)),r};nt.prototype.parsePointArray=function(e,r,i){const a=[];let o=0;for(;o<i;)a.push(this.parseCoord(e,r)),r+=16,o++;return a};nt.prototype.parseZPointArray=function(e,r,i,a){let o=0;for(;o<i;)a[o].push(e.getFloat64(r,!0)),o++,r+=8;return a};nt.prototype.parseArrayGroup=function(e,r,i,a,o){const u=[];let c=0,f,d=0,m;for(;c<a;)c++,i+=4,f=d,c===a?d=o:d=e.getInt32(i,!0),m=d-f,m&&(u.push(this.parsePointArray(e,r,m)),r+=m<<4);return u};nt.prototype.parseZArrayGroup=function(e,r,i,a){let o=0;for(;o<i;)a[o]=this.parseZPointArray(e,r,a[o].length,a[o]),r+=a[o].length<<3,o++;return a};nt.prototype.parseMultiPoint=function(e){const r={},i=e.getInt32(32,!0);if(!i)return null;const a=this.parseCoord(e,0),o=this.parseCoord(e,16);r.bbox=[a[0],a[1],o[0],o[1]];const u=36;return i===1?(r.type="Point",r.coordinates=this.parseCoord(e,u)):(r.type="MultiPoint",r.coordinates=this.parsePointArray(e,u,i)),r};nt.prototype.parseZMultiPoint=function(e){const r=this.parseMultiPoint(e);if(!r)return null;let i;if(r.type==="Point")return r.coordinates.push(e.getFloat64(72,!0)),r;i=r.coordinates.length;const a=52+(i<<4);return r.coordinates=this.parseZPointArray(e,a,i,r.coordinates),r};nt.prototype.parsePolyline=function(e){const r={},i=e.getInt32(32,!0);if(!i)return null;const a=this.parseCoord(e,0),o=this.parseCoord(e,16);r.bbox=[a[0],a[1],o[0],o[1]];const u=e.getInt32(36,!0);let c,f;return i===1?(r.type="LineString",c=44,r.coordinates=this.parsePointArray(e,c,u)):(r.type="MultiLineString",c=40+(i<<2),f=40,r.coordinates=this.parseArrayGroup(e,c,f,i,u)),r};nt.prototype.parseZPolyline=function(e){const r=this.parsePolyline(e);if(!r)return null;const i=r.coordinates.length;let a;return r.type==="LineString"?(a=60+(i<<4),r.coordinates=this.parseZPointArray(e,a,i,r.coordinates),r):(a=56+(r.coordinates.reduce(function(u,c){return u+c.length},0)<<4)+(i<<2),r.coordinates=this.parseZArrayGroup(e,a,i,r.coordinates),r)};nt.prototype.polyFuncs=function(e){return e&&(e.type==="LineString"?(e.type="Polygon",e.coordinates=[e.coordinates],e):(e.coordinates=jd(e.coordinates),e.coordinates.length===1?(e.type="Polygon",e.coordinates=e.coordinates[0],e):(e.type="MultiPolygon",e)))};nt.prototype.parsePolygon=function(e){return this.polyFuncs(this.parsePolyline(e))};nt.prototype.parseZPolygon=function(e){return this.polyFuncs(this.parseZPolyline(e))};const x0={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",18:"parseZMultiPoint"};function $3(e){return e?function(r,i){const a=[r.getFloat64(i,!0),r.getFloat64(i+8,!0)];return e.inverse(a)}:function(r,i){return[r.getFloat64(i,!0),r.getFloat64(i+8,!0)]}}function nt(e,r){if(!(this instanceof nt))return new nt(e,r);this.buffer=e,this.headers=this.parseHeader(),this.shpFuncs(r),this.rows=this.getRows()}nt.prototype.shpFuncs=function(e){let r=this.headers.shpCode;if(r>20&&(r-=20),!(r in x0))throw new Error(`I don't know shp type "${r}"`);this.parseFunc=this[x0[r]],this.parseCoord=$3(e)};nt.prototype.getShpCode=function(){return this.parseHeader().shpCode};nt.prototype.parseHeader=function(){const e=this.buffer;return{length:e.getInt32(24)<<1,version:e.getInt32(28,!0),shpCode:e.getInt32(32,!0),bbox:[e.getFloat64(36,!0),e.getFloat64(44,!0),e.getFloat64(52,!0),e.getFloat64(60,!0)]}};nt.prototype.getRows=function(){let e=100;const r=this.buffer.byteLength-8,i=[];let a;for(;e<=r&&(a=this.getRow(e),!!a);)e+=8,e+=a.len,a.type?i.push(this.parseFunc(a.data)):i.push(null);return i};nt.prototype.getRow=function(e){const r=this.buffer.getInt32(e),i=this.buffer.getInt32(e+4)<<1;if(i===0)return{id:r,len:i,type:0};if(!(e+i+8>this.buffer.byteLength))return{id:r,len:i,data:new DataView(this.buffer.buffer,this.buffer.byteOffset+e+12,i-4),type:this.buffer.getInt32(e+8,!0)}};function Fl(e,r){return new nt(e,r).rows}var V3=/^(?:ANSI\s)?(\d+)$/m;function Bd(e,r){if(!e)return a;try{new TextDecoder(e.trim())}catch{var i=V3.exec(e);return i&&!r?Bd("windows-"+i[1],!0):(e=void 0,a)}return a;function a(o){var u=new TextDecoder(e||void 0),c=u.decode(o,{stream:!0})+u.decode();return c.replace(/\0/g,"").trim()}}function W3(e){var r={};return r.lastUpdated=new Date(e.getUint8(1)+1900,e.getUint8(2),e.getUint8(3)),r.records=e.getUint32(4,!0),r.headerLen=e.getUint16(8,!0),r.recLen=e.getUint16(10,!0),r}function H3(e,r,i){for(var a=[],o=32;o<r&&(a.push({name:i(new Uint8Array(e.buffer.slice(e.byteOffset+o,e.byteOffset+o+11))),dataType:String.fromCharCode(e.getUint8(o+11)),len:e.getUint8(o+16),decimal:e.getUint8(o+17)}),e.getUint8(o+32)!==13);)o+=32;return a}function Q3(e,r,i,a,o){const u=new Uint8Array(e.buffer.slice(e.byteOffset+r,e.byteOffset+r+i));var c=o(u);switch(a){case"N":case"F":case"O":return parseFloat(c,10);case"D":return new Date(c.slice(0,4),parseInt(c.slice(4,6),10)-1,c.slice(6,8));case"L":return c.toLowerCase()==="y"||c.toLowerCase()==="t";default:return c}}function X3(e,r,i,a){for(var o={},u=0,c=i.length,f,d;u<c;)d=i[u],f=Q3(e,r,d.len,d.dataType,a),r+=d.len,typeof f<"u"&&(o[d.name]=f),u++;return o}function Ol(e,r){for(var i=Bd(r),a=W3(e),o=H3(e,a.headerLen-1,i),u=(o.length+1<<5)+2,c=a.recLen,f=a.records,d=[];f;)d.push(X3(e,u,o,i)),u+=c,f--;return d}const K3=globalThis.URL,J3=e=>{if(!e)throw new Error("forgot to pass buffer");if(xi(e))return new Uint8Array(e);if(xi(e.buffer))return e.BYTES_PER_ELEMENT===1?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("invalid buffer like object")},Y3=new TextDecoder,zd=e=>{if(e){if(typeof e=="string")return e;if(xi(e)||ArrayBuffer.isView(e)||Il(e))return Y3.decode(e)}},Ud=e=>{if(!e)throw new Error("forgot to pass buffer");if(Il(e))return e;if(xi(e))return new DataView(e);if(xi(e.buffer))return new DataView(e.buffer,e.byteOffset,e.byteLength);throw new Error("invalid buffer like object")};function xi(e){return e instanceof globalThis.ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]"}function Il(e){return e instanceof globalThis.DataView||Object.prototype.toString.call(e)==="[object DataView]"}const jl=function([e,r]){const i={};i.type="FeatureCollection",i.features=[];let a=0;const o=e.length;for(r||(r=[]);a<o;)i.features.push({type:"Feature",geometry:e[a],properties:r[a]||{}}),a++;return i},qd=async function(e,r){let i;e=J3(e);const a=await B3(e),o=[];r=r||[];for(i in a)i.indexOf("__MACOSX")===-1&&(i.slice(-4).toLowerCase()===".shp"?(o.push(i.slice(0,-4)),a[i.slice(0,-3)+i.slice(-3).toLowerCase()]=a[i]):i.slice(-4).toLowerCase()===".prj"?a[i.slice(0,-3)+i.slice(-3).toLowerCase()]=Xr(a[i]):i.slice(-5).toLowerCase()===".json"||r.indexOf(i.split(".").pop())>-1?o.push(i.slice(0,-3)+i.slice(-3).toLowerCase()):(i.slice(-4).toLowerCase()===".dbf"||i.slice(-4).toLowerCase()===".cpg")&&(a[i.slice(0,-3)+i.slice(-3).toLowerCase()]=a[i]));if(!o.length)throw new Error("no layers founds");const u=o.map(function(c){let f,d;const m=c.lastIndexOf(".");return m>-1&&c.slice(m).indexOf("json")>-1?(f=JSON.parse(a[c]),f.fileName=c.slice(0,m)):r.indexOf(c.slice(m+1))>-1?(f=a[c],f.fileName=c):(a[c+".dbf"]&&(d=Ol(a[c+".dbf"],a[c+".cpg"])),f=jl([Fl(a[c+".shp"],a[c+".prj"]),d]),f.fileName=c),f});return u.length===1?u[0]:u};async function Z3(e,r){const i=await Cs(e);return qd(i,r)}const e8=async e=>{const r=await Promise.all([Cs(e,"shp"),Cs(e,"prj")]);let i=!1;try{r[1]&&(i=Xr(r[1]))}catch{i=!1}return Fl(r[0],i)},t8=async e=>{const[r,i]=await Promise.all([Cs(e,"dbf"),Cs(e,"cpg")]);if(r)return Ol(r,i)},S0=(e,r)=>{var a;return new K3(e,(a=globalThis==null?void 0:globalThis.document)==null?void 0:a.location).pathname.slice(-4).toLowerCase()===r},r8=({shp:e,dbf:r,cpg:i,prj:a})=>{const o=[i8(e,a)];return r&&o.push(s8(r,i)),jl(o)},n8=async function(e,r){if(typeof e!="string"){if(xi(e)||ArrayBuffer.isView(e)||Il(e))return qd(e);if(e.shp)return r8(e);throw new TypeError("must be a string, some sort of Buffer, or an object with at least a .shp property")}if(S0(e,".zip"))return Z3(e,r);S0(e,".shp")&&(e=e.slice(0,-4));const i=await Promise.all([e8(e),t8(e)]);return jl(i)},i8=function(e,r){if(e=Ud(e),r=zd(r),typeof r=="string")try{r=Xr(r)}catch{r=!1}return Fl(e,r)},s8=function(e,r){return e=Ud(e),r=zd(r),Ol(e,r)};async function a8(e){var r;try{let i;if(typeof e=="string"){if(e.trim()==="")return{features:[],errors:[],detectedFormat:"shapefile"};const f=e.replace(/^data:.*?;base64,/,""),d=atob(f),m=new Uint8Array(d.length);for(let g=0;g<d.length;g++)m[g]=d.charCodeAt(g);i=m.buffer}else i=e;const a=await n8(i),o=Array.isArray(a)?a:[a],u=[];let c=0;for(const f of o)for(const d of f.features)u.push({type:"Feature",id:((r=d.id)==null?void 0:r.toString())??`feature-${String(c)}`,geometry:d.geometry,properties:d.properties??{}}),c++;return u.length===0?{features:[],errors:[{message:"No features found in shapefile"}]}:{features:u,errors:[],detectedFormat:"shapefile",detectedProjection:"EPSG:4326"}}catch(i){return{features:[],errors:[{message:i instanceof Error?i.message:"Failed to parse shapefile"}]}}}function o8(e){return e.trim()?{features:[],errors:[{message:"Shapefile parsing requires async operation. Use parseShapefile() instead."}]}:{features:[],errors:[],detectedFormat:"shapefile"}}function u8(e){return JSON.stringify({type:"FeatureCollection",features:e},null,2)}function l8(e){const r=e.trim();return!!(r.startsWith("data:application/zip")||r.startsWith("data:application/octet-stream")||r.startsWith("data:application/x-zip")||r.startsWith("UEs")||r.startsWith("UEsD"))}const $d={name:"shapefile",parse:o8,parseAsync:a8,format:u8,detect:l8},Bl={geojson:xd,ewkt:Ad,wkt:Pd,kml:Fd,gpx:Od,shapefile:$d,polyline6:Ld,polyline5:Td,csv:kd};function wl(e,r){const i=Bl[r];return i?i.parse(e):{features:[],errors:[{message:`Unsupported format: ${r}`}]}}function Un(e,r,i){const a=Bl[r];if(!a)throw new Error(`Unsupported format: ${r}`);return a.format(e,i)}function Vd(e){const r=e.trim();if(!r)return null;for(const[i,a]of Object.entries(Bl))if(a.detect(r))return i;return null}const c8=Object.freeze(Object.defineProperty({__proto__:null,csvParser:kd,detectFormat:Vd,ewktParser:Ad,format:Un,geojsonParser:xd,gpxParser:Od,kmlParser:Fd,parse:wl,polyline5Parser:Td,polyline6Parser:Ld,shapefileParser:$d,wktParser:Pd},Symbol.toStringTag,{value:"Module"}));function f8(e){const r=[],i=a=>{if(!a)return;if(a.type==="GeometryCollection"){for(const u of a.geometries)i(u);return}const o=u=>{if(Array.isArray(u))if(typeof u[0]=="number"&&typeof u[1]=="number")r.push(u);else for(const c of u)o(c)};o(a.coordinates)};for(const a of e)i(a.geometry);return r}function h8(){const{features:e,isParsing:r,inputProjection:i,detectedProjection:a}=Sr(),{outputFormat:o,outputProjection:u}=Ls(),c=q.useMemo(()=>{if(i!=="auto")return i;if(a)return a;if(e.length>0){const m=f8(e);return Ts(m)}return"EPSG:4326"},[i,a,e]),f=q.useMemo(()=>{if(e.length===0)return"";try{const m=c===u?e:e.map(g=>({...g,geometry:xn(g.geometry,c,u)}));return Un(m,o,{projection:u})}catch{return""}},[e,o,c,u]),d=q.useCallback(async()=>{f&&await navigator.clipboard.writeText(f)},[f]);return r?T.jsxs("div",{className:"mb-3 flex items-center gap-2 rounded-md border border-neutral-200 bg-neutral-100 p-3 text-sm text-neutral-600 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400",children:[T.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Parsing..."]}):T.jsxs("div",{className:"relative mb-3",children:[T.jsx("pre",{className:"max-h-48 min-h-[3rem] overflow-auto rounded-md border border-neutral-200 bg-neutral-100 p-3 pr-10 font-mono text-sm text-neutral-900 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-100",children:f||" "}),f&&T.jsx("button",{onClick:d,className:"absolute right-2 top-2 flex h-7 w-7 items-center justify-center rounded text-neutral-500 transition-colors hover:bg-neutral-200 hover:text-neutral-700 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-200",title:"Copy to clipboard","aria-label":"Copy converted geometry to clipboard",children:T.jsx(q0,{className:"h-4 w-4"})})]})}var At=63710088e-1,d8={centimeters:At*100,centimetres:At*100,degrees:360/(2*Math.PI),feet:At*3.28084,inches:At*39.37,kilometers:At/1e3,kilometres:At/1e3,meters:At,metres:At,miles:At/1609.344,millimeters:At*1e3,millimetres:At*1e3,nauticalmiles:At/1852,radians:1,yards:At*1.0936};function El(e,r,i={}){const a={type:"Feature"};return(i.id===0||i.id)&&(a.id=i.id),i.bbox&&(a.bbox=i.bbox),a.properties=r||{},a.geometry=e,a}function p8(e,r,i={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return El({type:"LineString",coordinates:e},r,i)}function xl(e,r={}){const i={type:"FeatureCollection"};return r.id&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.features=e,i}function m8(e,r="kilometers"){const i=d8[r];if(!i)throw new Error(r+" units is invalid");return e*i}function Qa(e){return e%360*Math.PI/180}function M0(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function g8(e,r,i={}){var a=M0(e),o=M0(r),u=Qa(o[1]-a[1]),c=Qa(o[0]-a[0]),f=Qa(a[1]),d=Qa(o[1]),m=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(c/2),2)*Math.cos(f)*Math.cos(d);return m8(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),i.units)}function zl(e,r,i){if(e!==null)for(var a,o,u,c,f,d,m,g=0,y=0,v,S=e.type,C=S==="FeatureCollection",L=S==="Feature",M=C?e.features.length:1,F=0;F<M;F++){m=C?e.features[F].geometry:L?e.geometry:e,v=m?m.type==="GeometryCollection":!1,f=v?m.geometries.length:1;for(var N=0;N<f;N++){var R=0,I=0;if(c=v?m.geometries[N]:m,c!==null){d=c.coordinates;var Q=c.type;switch(g=0,Q){case null:break;case"Point":if(r(d,y,F,R,I)===!1)return!1;y++,R++;break;case"LineString":case"MultiPoint":for(a=0;a<d.length;a++){if(r(d[a],y,F,R,I)===!1)return!1;y++,Q==="MultiPoint"&&R++}Q==="LineString"&&R++;break;case"Polygon":case"MultiLineString":for(a=0;a<d.length;a++){for(o=0;o<d[a].length-g;o++){if(r(d[a][o],y,F,R,I)===!1)return!1;y++}Q==="MultiLineString"&&R++,Q==="Polygon"&&I++}Q==="Polygon"&&R++;break;case"MultiPolygon":for(a=0;a<d.length;a++){for(I=0,o=0;o<d[a].length;o++){for(u=0;u<d[a][o].length-g;u++){if(r(d[a][o][u],y,F,R,I)===!1)return!1;y++}I++}R++}break;case"GeometryCollection":for(a=0;a<c.geometries.length;a++)if(zl(c.geometries[a],r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Wd(e,r){var i,a,o,u,c,f,d,m,g,y,v=0,S=e.type==="FeatureCollection",C=e.type==="Feature",L=S?e.features.length:1;for(i=0;i<L;i++){for(f=S?e.features[i].geometry:C?e.geometry:e,m=S?e.features[i].properties:C?e.properties:{},g=S?e.features[i].bbox:C?e.bbox:void 0,y=S?e.features[i].id:C?e.id:void 0,d=f?f.type==="GeometryCollection":!1,c=d?f.geometries.length:1,o=0;o<c;o++){if(u=d?f.geometries[o]:f,u===null){if(r(null,v,m,g,y)===!1)return!1;continue}switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(u,v,m,g,y)===!1)return!1;break}case"GeometryCollection":{for(a=0;a<u.geometries.length;a++)if(r(u.geometries[a],v,m,g,y)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}v++}}function y8(e,r,i){var a=i;return Wd(e,function(o,u,c,f,d){a=r(a,o,u,c,f,d)}),a}function v8(e,r){Wd(e,function(i,a,o,u,c){var f=i===null?null:i.type;switch(f){case null:case"Point":case"LineString":case"Polygon":return r(El(i,o,{bbox:u,id:c}),a,0)===!1?!1:void 0}var d;switch(f){case"MultiPoint":d="Point";break;case"MultiLineString":d="LineString";break;case"MultiPolygon":d="Polygon";break}for(var m=0;m<i.coordinates.length;m++){var g=i.coordinates[m],y={type:d,coordinates:g};if(r(El(y,o),a,m)===!1)return!1}})}function _8(e,r){v8(e,function(i,a,o){var u=0;if(i.geometry){var c=i.geometry.type;if(!(c==="Point"||c==="MultiPoint")){var f,d=0,m=0,g=0;if(zl(i,function(y,v,S,C,L){if(f===void 0||a>d||C>m||L>g){f=y,d=a,m=C,g=L,u=0;return}var M=p8([f,y],i.properties);if(r(M,a,o,L,u)===!1)return!1;u++,f=y})===!1)return!1}}})}function w8(e,r,i){var a=i,o=!1;return _8(e,function(u,c,f,d,m){o===!1&&i===void 0?a=u:a=r(a,u,c,f,d,m),o=!0}),a}function E8(e){return y8(e,(r,i)=>r+x8(i),0)}function x8(e){let r=0,i;switch(e.type){case"Polygon":return C0(e.coordinates);case"MultiPolygon":for(i=0;i<e.coordinates.length;i++)r+=C0(e.coordinates[i]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function C0(e){let r=0;if(e&&e.length>0){r+=Math.abs(P0(e[0]));for(let i=1;i<e.length;i++)r-=Math.abs(P0(e[i]))}return r}var S8=At*At/2,cl=Math.PI/180;function P0(e){const r=e.length-1;if(r<=2)return 0;let i=0,a=0;for(;a<r;){const o=e[a],u=e[a+1===r?0:a+1],c=e[a+2>=r?(a+2)%r:a+2],f=o[0]*cl,d=u[1]*cl,m=c[0]*cl;i+=(m-f)*Math.sin(d),a++}return i*S8}function eo(e,r={}){if(e.bbox!=null&&r.recompute!==!0)return e.bbox;const i=[1/0,1/0,-1/0,-1/0];return zl(e,a=>{i[0]>a[0]&&(i[0]=a[0]),i[1]>a[1]&&(i[1]=a[1]),i[2]<a[0]&&(i[2]=a[0]),i[3]<a[1]&&(i[3]=a[1])}),i}function M8(e,r={}){return w8(e,(i,a)=>{const o=a.geometry.coordinates;return i+g8(o[0],o[1],r)},0)}const C8={longitude:-.1276,latitude:51.5074,zoom:10},Ul=Ps(e=>({viewState:C8,basemap:"osm",panToFeatureId:null,isEnvelopeHovered:!1,setViewState:r=>{e({viewState:r})},setBasemap:r=>{e({basemap:r})},panToFeature:r=>{e({panToFeatureId:r})},clearPanToFeature:()=>{e({panToFeatureId:null})},setEnvelopeHovered:r=>{e({isEnvelopeHovered:r})}}));function P8(e){const r=[],i=a=>{if(!a)return;if(a.type==="GeometryCollection"){for(const u of a.geometries)i(u);return}const o=u=>{if(Array.isArray(u))if(typeof u[0]=="number"&&typeof u[1]=="number")r.push(u);else for(const c of u)o(c)};o(a.coordinates)};for(const a of e)i(a.geometry);return r}function yn(e,r){const i=r==="EPSG:4326"?6:2;return e.toFixed(i)}function A8(){const{features:e,inputProjection:r,detectedProjection:i}=Sr(),{outputProjection:a}=Ls(),{setEnvelopeHovered:o}=Ul(),u=q.useMemo(()=>{if(r!=="auto")return r;if(i)return i;if(e.length>0){const S=P8(e);return Ts(S)}return"EPSG:4326"},[r,i,e]),c=q.useMemo(()=>{if(e.length===0)return null;try{const S=u==="EPSG:4326"?e:e.map(Y=>({...Y,geometry:xn(Y.geometry,u,"EPSG:4326")})),C=xl(S),L=eo(C);if(!L.every(Y=>isFinite(Y)))return null;const[M,F,N,R]=L,I={type:"Polygon",coordinates:[[[M,F],[N,F],[N,R],[M,R],[M,F]]]},O=(a!=="EPSG:4326"?xn(I,"EPSG:4326",a):I).coordinates[0];if(!O||O.length<4)return null;const j=O[0],se=O[2];if(!j||!se||j.length<2||se.length<2)return null;const D=j[0],x=j[1],U=se[0],K=se[1];return D===void 0||x===void 0||U===void 0||K===void 0?null:{sw:{x:D,y:x},ne:{x:U,y:K},wgs84Bbox:L}}catch{return null}},[e,u,a]),f=q.useCallback(async()=>{if(!c)return;const S=`SW: ${yn(c.sw.x,a)}, ${yn(c.sw.y,a)}
NE: ${yn(c.ne.x,a)}, ${yn(c.ne.y,a)}`;await navigator.clipboard.writeText(S)},[c,a]),d=q.useCallback(()=>{o(!0)},[o]),m=q.useCallback(()=>{o(!1)},[o]);if(!c)return null;const g=a==="EPSG:4326",y=g?"Lon":"E",v=g?"Lat":"N";return T.jsxs("div",{className:"mb-3 flex items-center justify-between rounded-md border border-neutral-200 bg-neutral-50 px-3 py-2 text-xs dark:border-neutral-700 dark:bg-neutral-800",onMouseEnter:d,onMouseLeave:m,children:[T.jsxs("div",{className:"flex flex-col gap-0.5 font-mono text-neutral-700 dark:text-neutral-300",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"SW: "}),y," ",yn(c.sw.x,a),", ",v," ",yn(c.sw.y,a)]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"NE: "}),y," ",yn(c.ne.x,a),", ",v," ",yn(c.ne.y,a)]})]}),T.jsx("button",{onClick:f,className:"flex h-7 w-7 items-center justify-center rounded text-neutral-500 transition-colors hover:bg-neutral-200 hover:text-neutral-700 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-200",title:"Copy to clipboard","aria-label":"Copy envelope coordinates to clipboard",children:T.jsx(q0,{className:"h-4 w-4"})})]})}function D8(e){const r=[],i=a=>{if(!a)return;if(a.type==="GeometryCollection"){for(const u of a.geometries)i(u);return}const o=u=>{if(Array.isArray(u))if(typeof u[0]=="number"&&typeof u[1]=="number")r.push(u);else for(const c of u)o(c)};o(a.coordinates)};for(const a of e)i(a.geometry);return r}function k8(e){switch(e){case"geojson":return"application/geo+json";case"wkt":case"ewkt":case"csv":return"text/plain";case"polyline5":case"polyline6":return"text/plain";default:return"text/plain"}}function N8(e){switch(e){case"geojson":return"geojson";case"wkt":return"wkt";case"ewkt":return"ewkt";case"csv":return"csv";case"polyline5":case"polyline6":return"txt";default:return"txt"}}function b8(){const{features:e,inputProjection:r,detectedProjection:i}=Sr(),{outputFormat:a,outputProjection:o}=Ls(),u=q.useMemo(()=>{if(r!=="auto")return r;if(i)return i;if(e.length>0){const m=D8(e);return Ts(m)}return"EPSG:4326"},[r,i,e]),c=q.useMemo(()=>{if(e.length===0)return"";try{const m=u===o?e:e.map(g=>({...g,geometry:xn(g.geometry,u,o)}));return Un(m,a,{projection:o})}catch{return""}},[e,a,u,o]),f=q.useCallback(()=>{if(!c)return;const m=k8(a),g=N8(a),y=new Blob([c],{type:m}),v=URL.createObjectURL(y),S=document.createElement("a");S.href=v,S.download=`geometry.${g}`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(v)},[c,a]),d=!c;return T.jsx("button",{onClick:f,disabled:d,className:"flex h-7 w-7 items-center justify-center rounded text-neutral-500 transition-colors hover:bg-neutral-200 hover:text-neutral-700 disabled:cursor-not-allowed disabled:opacity-50 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:hover:text-neutral-200",title:"Download","aria-label":"Download converted geometry",children:T.jsx(hp,{className:"h-4 w-4"})})}const T8=[{value:"geojson",label:"GeoJSON"},{value:"wkt",label:"WKT"},{value:"ewkt",label:"EWKT"},{value:"csv",label:"CSV"},{value:"polyline5",label:"Polyline (5)"},{value:"polyline6",label:"Polyline (6)"}],L8=[{value:"EPSG:4326",label:"WGS84 (EPSG:4326)"},{value:"EPSG:3857",label:"Web Mercator (EPSG:3857)"},{value:"EPSG:27700",label:"British National Grid (EPSG:27700)"}];function R8(){const{outputFormat:e,outputProjection:r,setOutputFormat:i,setOutputProjection:a}=Ls(),{features:o}=Sr(),u=o.length>0;return T.jsxs("div",{className:"flex-1 p-3 md:p-4",children:[T.jsxs("div",{className:"mb-2 flex items-center justify-between md:mb-3",children:[T.jsx("h2",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-300",children:"Conversion"}),u&&T.jsx(b8,{})]}),T.jsxs("div",{className:"mb-2 flex gap-2 md:mb-3",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"label",children:"Format"}),T.jsx("select",{value:e,onChange:c=>{i(c.target.value)},className:"input",children:T8.map(c=>T.jsx("option",{value:c.value,children:c.label},c.value))})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("label",{className:"label",children:"Projection"}),T.jsx("select",{value:r,onChange:c=>{a(c.target.value)},className:"input",children:L8.map(c=>T.jsx("option",{value:c.value,children:c.label},c.value))})]})]}),T.jsx(h8,{}),u&&T.jsx(A8,{})]})}function G8(e){if(!e||e.type!=="Polygon"&&e.type!=="MultiPolygon")return null;try{return E8({type:"Feature",geometry:e,properties:{}})}catch{return null}}function F8(e){if(!e||e.type!=="LineString"&&e.type!=="MultiLineString")return null;try{return M8({type:"Feature",geometry:e,properties:{}},{units:"meters"})}catch{return null}}function Hd(e){if(!e)return 0;switch(e.type){case"Point":return 1;case"MultiPoint":case"LineString":return e.coordinates.length;case"MultiLineString":case"Polygon":return e.coordinates.reduce((r,i)=>r+i.length,0);case"MultiPolygon":return e.coordinates.reduce((r,i)=>r+i.reduce((a,o)=>a+o.length,0),0);case"GeometryCollection":return e.geometries.reduce((r,i)=>r+Hd(i),0);default:return 0}}function O8(e){return e?e.replace(/([A-Z])/g," $1").trim():"Unknown"}function I8(e){return e===null?"-":e>=1e6?`${(e/1e6).toFixed(2)} km`:e>=1e4?`${(e/1e4).toFixed(2)} ha`:`${e.toFixed(2)} m`}function j8(e){return e===null?"-":e>=1e3?`${(e/1e3).toFixed(2)} km`:`${e.toFixed(2)} m`}const B8="geofiddle-geocode",z8=1,Si="geocode-results",U8=10080*60*1e3;let Xa=null;function Qd(){return Xa||(Xa=new Promise((e,r)=>{const i=indexedDB.open(B8,z8);i.onerror=()=>{var a;r(new Error(((a=i.error)==null?void 0:a.message)??"Failed to open IndexedDB"))},i.onsuccess=()=>{e(i.result)},i.onupgradeneeded=a=>{const o=a.target.result;o.objectStoreNames.contains(Si)||o.createObjectStore(Si,{keyPath:"key"})}}),Xa)}function q8(e,r){const i=Math.round(e*1e3)/1e3,a=Math.round(r*1e3)/1e3;return`${String(i)},${String(a)}`}async function $8(e){try{const r=await Qd();return await new Promise(i=>{const u=r.transaction(Si,"readonly").objectStore(Si).get(e);u.onsuccess=()=>{const c=u.result;c&&Date.now()-c.timestamp<U8?i(c.location):i(null)},u.onerror=()=>{i(null)}})}catch{return null}}async function V8(e,r){try{const i=await Qd();await new Promise(a=>{const o=i.transaction(Si,"readwrite"),u=o.objectStore(Si),c={key:e,location:r,timestamp:Date.now()};u.put(c),o.oncomplete=()=>{a()},o.onerror=()=>{a()}})}catch{}}const W8="https://nominatim.openstreetmap.org/reverse",H8=1e3;let A0=0;const fl=new Map;function Q8(e){if(!e.address)return null;const{city:r,town:i,village:a,municipality:o,county:u,state:c,country:f}=e.address,d=r??i??a??o??u;return d&&f?`${d}, ${f}`:c&&f?`${c}, ${f}`:f||null}async function X8(e,r){const i=q8(e,r),a=fl.get(i);if(a)return a;const o=await $8(i);if(o)return o;const c=Date.now()-A0,f=Math.max(0,H8-c),d=new Promise(m=>{setTimeout(()=>{A0=Date.now(),(async()=>{try{const y=new URL(W8);y.searchParams.set("lat",String(e)),y.searchParams.set("lon",String(r)),y.searchParams.set("format","json"),y.searchParams.set("zoom","10");const v=await fetch(y.toString(),{headers:{"User-Agent":"GeoFiddle/2.0 (https://geofiddle.com)"}});if(!v.ok)return null;const S=await v.json(),C=Q8(S);return C&&await V8(i,C),C}catch{return null}finally{fl.delete(i)}})().then(m).catch(()=>{m(null)})},f)});return fl.set(i,d),d}function K8(e,r){const[i,a]=q.useState(null),[o,u]=q.useState(!1),c=q.useRef(!1);return q.useEffect(()=>{if(e===null||r===null){a(null),u(!1);return}if(e<-90||e>90||r<-180||r>180){a(null),u(!1);return}return c.current=!1,u(!0),X8(e,r).then(f=>{c.current||(a(f),u(!1))}).catch(()=>{c.current||(a(null),u(!1))}),()=>{c.current=!0}},[e,r]),{location:i,isLoading:o}}function Xd(e){if(!e||typeof e!="object")return null;const r=e;if(r.type==="GeometryCollection"&&Array.isArray(r.geometries)){for(const c of r.geometries){const f=Xd(c);if(f)return f}return null}if(!r.coordinates)return null;const i=[],a=c=>{if(Array.isArray(c))if(typeof c[0]=="number"&&typeof c[1]=="number")i.push([c[0],c[1]]);else for(const f of c)a(f)};if(a(r.coordinates),i.length===0)return null;let o=0,u=0;for(const[c,f]of i)o+=c,u+=f;return{lon:o/i.length,lat:u/i.length}}function J8(e){switch(e){case"Point":return Nh;case"MultiPoint":return cp;case"LineString":return bh;case"MultiLineString":return bh;case"Polygon":return W0;case"MultiPolygon":return gp;case"GeometryCollection":return sp;default:return Nh}}function Y8(e){return e==null?"":typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"?String(e):JSON.stringify(e)}function Z8({feature:e,calculations:r}){const{geometry:i,properties:a}=e,o=q.useMemo(()=>Xd(i),[i]),{location:u,isLoading:c}=K8((o==null?void 0:o.lat)??null,(o==null?void 0:o.lon)??null),f=r.area!==null&&r.area>0,d=r.length!==null&&r.length>0,m=q.useMemo(()=>Object.entries(a).filter(([g])=>g!=="name").filter(([,g])=>g!=null),[a]);return T.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-x-4 gap-y-1 border-t border-neutral-200 pt-2 text-xs dark:border-neutral-700",children:[T.jsxs("div",{className:"col-span-2 flex items-center gap-1.5 text-neutral-600 dark:text-neutral-400",children:[T.jsx($0,{className:"h-3.5 w-3.5 shrink-0"}),c?T.jsx("span",{className:"animate-pulse text-neutral-400",children:"Loading location..."}):u?T.jsx("span",{className:"truncate",title:u,children:u}):T.jsx("span",{className:"text-neutral-400 dark:text-neutral-500",children:"Location unavailable"})]}),T.jsxs("div",{className:"text-neutral-500 dark:text-neutral-400",children:[T.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Points:"})," ",r.pointCount]}),f&&T.jsxs("div",{className:"text-neutral-500 dark:text-neutral-400",children:[T.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Area:"})," ",r.formattedArea]}),d&&T.jsxs("div",{className:"text-neutral-500 dark:text-neutral-400",children:[T.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:i.type.includes("Polygon")?"Perimeter:":"Length:"})," ",r.formattedLength]}),o&&T.jsxs("div",{className:"col-span-2 text-neutral-500 dark:text-neutral-400",children:[T.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:"Centroid:"})," ",o.lat.toFixed(6),", ",o.lon.toFixed(6)]}),m.length>0&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"col-span-2 mt-2 border-t border-neutral-200 pt-2 font-medium text-neutral-700 dark:border-neutral-700 dark:text-neutral-300",children:"Properties"}),m.map(([g,y])=>T.jsxs("div",{className:"col-span-2 text-neutral-500 dark:text-neutral-400",children:[T.jsxs("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:[g,":"]})," ",T.jsx("span",{className:"break-all",children:Y8(y)})]},g))]})]})}function e_({feature:e,index:r,isSelected:i,onSelect:a,onHover:o}){const[u,c]=q.useState(!1),{geometry:f,properties:d}=e,m=()=>{o(!0)},g=()=>{o(!1)},y=q.useMemo(()=>{const N=G8(f),R=F8(f),I=Hd(f),Q=O8(f.type);return{area:N,length:R,pointCount:I,typeLabel:Q,formattedArea:I8(N),formattedLength:j8(R)}},[f]),v=d.name,S=typeof v=="string"&&v.trim()?v:`Feature ${String(r+1)}`,C=J8(f.type),L=N=>{N.stopPropagation(),c(R=>!R)},M=N=>{N.key==="Enter"?(N.preventDefault(),a()):N.key===" "&&(N.preventDefault(),c(R=>!R))},F=q.useMemo(()=>{const N=[y.typeLabel];return y.pointCount>1&&N.push(`${String(y.pointCount)} pts`),y.area!==null&&y.area>0?N.push(y.formattedArea):y.length!==null&&y.length>0&&N.push(y.formattedLength),N.join("  ")},[y]);return T.jsxs("div",{onClick:a,onKeyDown:M,onMouseEnter:m,onMouseLeave:g,tabIndex:0,role:"button","aria-expanded":u,"aria-selected":i,className:`cursor-pointer border-b border-neutral-200 px-3 py-2 transition-colors hover:bg-neutral-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary-500 dark:border-neutral-700 dark:hover:bg-neutral-800 ${i?"bg-blue-50 hover:bg-blue-100 dark:bg-blue-950 dark:hover:bg-blue-900":"bg-white dark:bg-neutral-900"}`,children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("button",{onClick:L,className:"flex h-6 w-6 shrink-0 items-center justify-center rounded text-neutral-400 hover:bg-neutral-200 hover:text-neutral-600 dark:hover:bg-neutral-700 dark:hover:text-neutral-300","aria-label":u?"Collapse details":"Expand details",children:u?T.jsx(op,{className:"h-4 w-4"}):T.jsx(up,{className:"h-4 w-4"})}),T.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${i?"bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-400":"bg-neutral-100 text-neutral-500 dark:bg-neutral-800 dark:text-neutral-400"}`,children:T.jsx(C,{className:"h-4 w-4"})}),T.jsxs("div",{className:"min-w-0 flex-1",children:[T.jsx("div",{className:"truncate text-sm font-medium text-neutral-900 dark:text-neutral-100",children:S}),T.jsx("div",{className:"truncate text-xs text-neutral-500 dark:text-neutral-400",children:F})]}),T.jsxs("div",{className:"shrink-0 text-xs font-medium text-neutral-400 dark:text-neutral-500",children:["#",r+1]})]}),u&&T.jsx(Z8,{feature:e,calculations:y})]})}function t_({onPanToFeature:e}){const{features:r,selectedFeatureId:i,setSelectedFeatureId:a,setHoveredFeatureId:o}=Sr(),u=q.useCallback(f=>{i===f?a(null):(a(f),e==null||e(f))},[i,a,e]),c=q.useCallback(f=>{o(f)},[o]);return r.length===0?T.jsx("div",{className:"rounded-md border border-neutral-200 bg-neutral-50 p-4 text-center text-sm text-neutral-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400",children:"No geometries to display"}):T.jsxs("div",{className:"overflow-hidden rounded-md border border-neutral-200 dark:border-neutral-700",children:[T.jsx("div",{className:"max-h-80 overflow-auto",children:r.map((f,d)=>T.jsx(e_,{feature:f,index:d,isSelected:i===f.id,onSelect:()=>{u(f.id)},onHover:m=>{c(m?f.id:null)}},f.id))}),T.jsxs("div",{className:"border-t border-neutral-200 bg-neutral-50 px-3 py-2 text-xs text-neutral-500 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400",children:[r.length," ",r.length===1?"geometry":"geometries"]})]})}function Kd(){const e=Ul(r=>r.panToFeature);return T.jsxs("div",{className:"flex h-full flex-col overflow-y-auto bg-neutral-50 dark:bg-neutral-900",children:[T.jsx(H4,{}),T.jsxs("div",{className:"border-t border-neutral-200 p-3 md:p-4 dark:border-neutral-700",children:[T.jsx("h3",{className:"mb-2 text-sm font-medium text-neutral-700 md:mb-3 dark:text-neutral-300",children:"Geometries"}),T.jsx(t_,{onPanToFeature:e})]}),T.jsx(R8,{})]})}const r_="modulepreload",n_=function(e,r){return new URL(e,r).href},D0={},ws=function(r,i,a){let o=Promise.resolve();if(i&&i.length>0){let c=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const f=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=c(i.map(g=>{if(g=n_(g,a),g in D0)return;D0[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(!!a)for(let L=f.length-1;L>=0;L--){const M=f[L];if(M.href===g&&(!y||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${v}`))return;const C=document.createElement("link");if(C.rel=y?"stylesheet":r_,y||(C.as="script"),C.crossOrigin="",C.href=g,m&&C.setAttribute("nonce",m),document.head.appendChild(C),y)return new Promise((L,M)=>{C.addEventListener("load",L),C.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return r().catch(u)})},i_=q.createContext(null);function s_(e,r){const i=Array.isArray(e)?e[0]:e?e.x:0,a=Array.isArray(e)?e[1]:e?e.y:0,o=Array.isArray(r)?r[0]:r?r.x:0,u=Array.isArray(r)?r[1]:r?r.y:0;return i===o&&a===u}function Kt(e,r){if(e===r)return!0;if(!e||!r)return!1;if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(!Kt(e[i],r[i]))return!1;return!0}else if(Array.isArray(r))return!1;if(typeof e=="object"&&typeof r=="object"){const i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return!1;for(const o of i)if(!r.hasOwnProperty(o)||!Kt(e[o],r[o]))return!1;return!0}return!1}function a_(e){const r=e.clone();return r.pixelsToGLUnits=e.pixelsToGLUnits,r}function k0(e,r){if(!e.getProjection)return;const i=e.getProjection(),a=r.getProjection();Kt(i,a)||r.setProjection(i)}function N0(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function b0(e,r){const i=r.viewState||r;let a=!1;if("zoom"in i){const o=e.zoom;e.zoom=i.zoom,a=a||o!==e.zoom}if("bearing"in i){const o=e.bearing;e.bearing=i.bearing,a=a||o!==e.bearing}if("pitch"in i){const o=e.pitch;e.pitch=i.pitch,a=a||o!==e.pitch}if(i.padding&&!e.isPaddingEqual(i.padding)&&(a=!0,e.padding=i.padding),"longitude"in i&&"latitude"in i){const o=e.center;e.center=new o.constructor(i.longitude,i.latitude),a=a||o!==e.center}return a}const o_=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function T0(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const r={};for(const a of e.layers)r[a.id]=a;const i=e.layers.map(a=>{let o=null;"interactive"in a&&(o=Object.assign({},a),delete o.interactive);const u=r[a.ref];if(u){o=o||Object.assign({},a),delete o.ref;for(const c of o_)c in u&&(o[c]=u[c])}return o||a});return{...e,layers:i}}var L0={};const R0={version:8,sources:{},layers:[]},G0={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},hl={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},F0={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},u_=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],l_=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Mi{constructor(r,i,a){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=o=>{const u=this.props[F0[o.type]];u?u(o):o.type==="error"&&console.error(o.error)},this._onPointerEvent=o=>{(o.type==="mousemove"||o.type==="mouseout")&&this._updateHover(o);const u=this.props[G0[o.type]];u&&(this.props.interactiveLayerIds&&o.type!=="mouseover"&&o.type!=="mouseout"&&(o.features=this._hoveredFeatures||this._queryRenderedFeatures(o.point)),u(o),delete o.features)},this._onCameraEvent=o=>{if(!this._internalUpdate){const u=this.props[hl[o.type]];u&&u(o)}o.type in this._deferredEvents&&(this._deferredEvents[o.type]=!1)},this._MapClass=r,this.props=i,this._initialize(a)}get map(){return this._map}get transform(){return this._renderTransform}setProps(r){const i=this.props;this.props=r;const a=this._updateSettings(r,i);a&&this._createShadowTransform(this._map);const o=this._updateSize(r),u=this._updateViewState(r,!0);this._updateStyle(r,i),this._updateStyleComponents(r,i),this._updateHandlers(r,i),(a||o||u&&!this._map.isMoving())&&this.redraw()}static reuse(r,i){const a=Mi.savedMaps.pop();if(!a)return null;const o=a.map,u=o.getContainer();for(i.className=u.className;u.childNodes.length>0;)i.appendChild(u.childNodes[0]);o._container=i;const c=o._resizeObserver;c&&(c.disconnect(),c.observe(i)),a.setProps({...r,styleDiffing:!1}),o.resize();const{initialViewState:f}=r;return f&&(f.bounds?o.fitBounds(f.bounds,{...f.fitBoundsOptions,duration:0}):a._updateViewState(f,!1)),o.isStyleLoaded()?o.fire("load"):o.once("styledata",()=>o.fire("load")),o._update(),a}_initialize(r){const{props:i}=this,{mapStyle:a=R0}=i,o={...i,...i.initialViewState,accessToken:i.mapboxAccessToken||c_()||null,container:r,style:T0(a)},u=o.initialViewState||o.viewState||o;if(Object.assign(o,{center:[u.longitude||0,u.latitude||0],zoom:u.zoom||0,pitch:u.pitch||0,bearing:u.bearing||0}),i.gl){const g=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=g,i.gl)}const c=new this._MapClass(o);u.padding&&c.setPadding(u.padding),i.cursor&&(c.getCanvas().style.cursor=i.cursor),this._createShadowTransform(c);const f=c._render;c._render=g=>{this._inRender=!0,f.call(c,g),this._inRender=!1};const d=c._renderTaskQueue.run;c._renderTaskQueue.run=g=>{d.call(c._renderTaskQueue,g),this._onBeforeRepaint()},c.on("render",()=>this._onAfterRepaint());const m=c.fire;c.fire=this._fireEvent.bind(this,m),c.on("resize",()=>{this._renderTransform.resize(c.transform.width,c.transform.height)}),c.on("styledata",()=>{this._updateStyleComponents(this.props,{}),k0(c.transform,this._renderTransform)}),c.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const g in G0)c.on(g,this._onPointerEvent);for(const g in hl)c.on(g,this._onCameraEvent);for(const g in F0)c.on(g,this._onEvent);this._map=c}recycle(){const i=this.map.getContainer().querySelector("[mapboxgl-children]");i==null||i.remove(),Mi.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const r=this._map;!this._inRender&&r.style&&(r._frame&&(r._frame.cancel(),r._frame=null),r._render())}_createShadowTransform(r){const i=a_(r.transform);r.painter.transform=i,this._renderTransform=i}_updateSize(r){const{viewState:i}=r;if(i){const a=this._map;if(i.width!==a.transform.width||i.height!==a.transform.height)return a.resize(),!0}return!1}_updateViewState(r,i){if(this._internalUpdate)return!1;const a=this._map,o=this._renderTransform,{zoom:u,pitch:c,bearing:f}=o,d=a.isMoving();d&&(o.cameraElevationReference="sea");const m=b0(o,{...N0(a.transform),...r});if(d&&(o.cameraElevationReference="ground"),m&&i){const g=this._deferredEvents;g.move=!0,g.zoom||(g.zoom=u!==o.zoom),g.rotate||(g.rotate=f!==o.bearing),g.pitch||(g.pitch=c!==o.pitch)}return d||b0(a.transform,r),m}_updateSettings(r,i){const a=this._map;let o=!1;for(const u of u_)if(u in r&&!Kt(r[u],i[u])){o=!0;const c=a[`set${u[0].toUpperCase()}${u.slice(1)}`];c==null||c.call(a,r[u])}return o}_updateStyle(r,i){if(r.cursor!==i.cursor&&(this._map.getCanvas().style.cursor=r.cursor||""),r.mapStyle!==i.mapStyle){const{mapStyle:a=R0,styleDiffing:o=!0}=r,u={diff:o};return"localIdeographFontFamily"in r&&(u.localIdeographFontFamily=r.localIdeographFontFamily),this._map.setStyle(T0(a),u),!0}return!1}_updateStyleComponents(r,i){const a=this._map;let o=!1;return a.isStyleLoaded()&&("light"in r&&a.setLight&&!Kt(r.light,i.light)&&(o=!0,a.setLight(r.light)),"fog"in r&&a.setFog&&!Kt(r.fog,i.fog)&&(o=!0,a.setFog(r.fog)),"terrain"in r&&a.setTerrain&&!Kt(r.terrain,i.terrain)&&(!r.terrain||a.getSource(r.terrain.source))&&(o=!0,a.setTerrain(r.terrain))),o}_updateHandlers(r,i){var a,o;const u=this._map;let c=!1;for(const f of l_){const d=(a=r[f])!==null&&a!==void 0?a:!0,m=(o=i[f])!==null&&o!==void 0?o:!0;Kt(d,m)||(c=!0,d?u[f].enable(d):u[f].disable())}return c}_queryRenderedFeatures(r){const i=this._map,a=i.transform,{interactiveLayerIds:o=[]}=this.props;try{return i.transform=this._renderTransform,i.queryRenderedFeatures(r,{layers:o.filter(i.getLayer.bind(i))})}catch{return[]}finally{i.transform=a}}_updateHover(r){var i;const{props:a}=this;if(a.interactiveLayerIds&&(a.onMouseMove||a.onMouseEnter||a.onMouseLeave)){const u=r.type,c=((i=this._hoveredFeatures)===null||i===void 0?void 0:i.length)>0,f=this._queryRenderedFeatures(r.point),d=f.length>0;!d&&c&&(r.type="mouseleave",this._onPointerEvent(r)),this._hoveredFeatures=f,d&&!c&&(r.type="mouseenter",this._onPointerEvent(r)),r.type=u}else this._hoveredFeatures=null}_fireEvent(r,i,a){const o=this._map,u=o.transform,c=typeof i=="string"?i:i.type;return c==="move"&&this._updateViewState(this.props,!1),c in hl&&(typeof i=="object"&&(i.viewState=N0(u)),this._map.isMoving())?(o.transform=this._renderTransform,r.call(o,i,a),o.transform=u,o):(r.call(o,i,a),o)}_onBeforeRepaint(){const r=this._map;this._internalUpdate=!0;for(const a in this._deferredEvents)this._deferredEvents[a]&&r.fire(a);this._internalUpdate=!1;const i=this._map.transform;r.transform=this._renderTransform,this._onAfterRepaint=()=>{k0(this._renderTransform,i),r.transform=i}}}Mi.savedMaps=[];function c_(){let e=null;if(typeof location<"u"){const r=/access_token=([^&\/]*)/.exec(location.search);e=r&&r[1]}try{e=e||L0.MapboxAccessToken}catch{}try{e=e||L0.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const f_=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function h_(e){if(!e)return null;const r=e.map,i={getMap:()=>r,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:a=>{const o=r.transform;r.transform=e.transform;const u=r.project(a);return r.transform=o,u},unproject:a=>{const o=r.transform;r.transform=e.transform;const u=r.unproject(a);return r.transform=o,u},queryTerrainElevation:(a,o)=>{const u=r.transform;r.transform=e.transform;const c=r.queryTerrainElevation(a,o);return r.transform=u,c},queryRenderedFeatures:(a,o)=>{const u=r.transform;r.transform=e.transform;const c=r.queryRenderedFeatures(a,o);return r.transform=u,c}};for(const a of d_(r))!(a in i)&&!f_.includes(a)&&(i[a]=r[a].bind(r));return i}function d_(e){const r=new Set;let i=e;for(;i;){for(const a of Object.getOwnPropertyNames(i))a[0]!=="_"&&typeof e[a]=="function"&&a!=="fire"&&a!=="setEventedParent"&&r.add(a);i=Object.getPrototypeOf(i)}return Array.from(r)}const p_=typeof document<"u"?q.useLayoutEffect:q.useEffect,m_=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function g_(e,r){for(const a of m_)a in r&&(e[a]=r[a]);const{RTLTextPlugin:i="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=r;i&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(i,a=>{a&&console.error(a)},!0)}const Pi=q.createContext(null);function y_(e,r,i){const a=q.useContext(i_),[o,u]=q.useState(null),c=q.useRef(),{current:f}=q.useRef({mapLib:null,map:null});q.useEffect(()=>{const g=e.mapLib;let y=!0,v;return Promise.resolve(g||i).then(S=>{if(!y)return;if(!S)throw new Error("Invalid mapLib");const C="Map"in S?S:S.default;if(!C.Map)throw new Error("Invalid mapLib");if(g_(C,e),!C.supported||C.supported(e))e.reuseMaps&&(v=Mi.reuse(e,c.current)),v||(v=new Mi(C.Map,e,c.current)),f.map=h_(v),f.mapLib=C,u(v),a==null||a.onMapMount(f.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(S=>{const{onError:C}=e;C?C({type:"error",target:null,originalEvent:null,error:S}):console.error(S)}),()=>{y=!1,v&&(a==null||a.onMapUnmount(e.id),e.reuseMaps?v.recycle():v.destroy())}},[]),p_(()=>{o&&o.setProps(e)}),q.useImperativeHandle(r,()=>f.map,[o]);const d=q.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),m={height:"100%"};return q.createElement("div",{id:e.id,ref:c,style:d},o&&q.createElement(Pi.Provider,{value:f},q.createElement("div",{"mapboxgl-children":"",style:m},e.children)))}var Jd=z0();const v_=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Vn(e,r){if(!e||!r)return;const i=e.style;for(const a in r){const o=r[a];Number.isFinite(o)&&!v_.test(a)?i[a]=`${o}px`:i[a]=o}}function __(e,r){const{map:i,mapLib:a}=q.useContext(Pi),o=q.useRef({props:e});o.current.props=e;const u=q.useMemo(()=>{let L=!1;q.Children.forEach(e.children,N=>{N&&(L=!0)});const M={...e,element:L?document.createElement("div"):null},F=new a.Marker(M);return F.setLngLat([e.longitude,e.latitude]),F.getElement().addEventListener("click",N=>{var R,I;(I=(R=o.current.props).onClick)===null||I===void 0||I.call(R,{type:"click",target:F,originalEvent:N})}),F.on("dragstart",N=>{var R,I;const Q=N;Q.lngLat=u.getLngLat(),(I=(R=o.current.props).onDragStart)===null||I===void 0||I.call(R,Q)}),F.on("drag",N=>{var R,I;const Q=N;Q.lngLat=u.getLngLat(),(I=(R=o.current.props).onDrag)===null||I===void 0||I.call(R,Q)}),F.on("dragend",N=>{var R,I;const Q=N;Q.lngLat=u.getLngLat(),(I=(R=o.current.props).onDragEnd)===null||I===void 0||I.call(R,Q)}),F},[]);q.useEffect(()=>(u.addTo(i.getMap()),()=>{u.remove()}),[]);const{longitude:c,latitude:f,offset:d,style:m,draggable:g=!1,popup:y=null,rotation:v=0,rotationAlignment:S="auto",pitchAlignment:C="auto"}=e;return q.useEffect(()=>{Vn(u.getElement(),m)},[m]),q.useImperativeHandle(r,()=>u,[]),(u.getLngLat().lng!==c||u.getLngLat().lat!==f)&&u.setLngLat([c,f]),d&&!s_(u.getOffset(),d)&&u.setOffset(d),u.isDraggable()!==g&&u.setDraggable(g),u.getRotation()!==v&&u.setRotation(v),u.getRotationAlignment()!==S&&u.setRotationAlignment(S),u.getPitchAlignment()!==C&&u.setPitchAlignment(C),u.getPopup()!==y&&u.setPopup(y),Jd.createPortal(e.children,u.getElement())}q.memo(q.forwardRef(__));function O0(e){return new Set(e?e.trim().split(/\s+/):[])}function w_(e,r){const{map:i,mapLib:a}=q.useContext(Pi),o=q.useMemo(()=>document.createElement("div"),[]),u=q.useRef({props:e});u.current.props=e;const c=q.useMemo(()=>{const f={...e},d=new a.Popup(f);return d.setLngLat([e.longitude,e.latitude]),d.once("open",m=>{var g,y;(y=(g=u.current.props).onOpen)===null||y===void 0||y.call(g,m)}),d},[]);if(q.useEffect(()=>{const f=d=>{var m,g;(g=(m=u.current.props).onClose)===null||g===void 0||g.call(m,d)};return c.on("close",f),c.setDOMContent(o).addTo(i.getMap()),()=>{c.off("close",f),c.isOpen()&&c.remove()}},[]),q.useEffect(()=>{Vn(c.getElement(),e.style)},[e.style]),q.useImperativeHandle(r,()=>c,[]),c.isOpen()&&((c.getLngLat().lng!==e.longitude||c.getLngLat().lat!==e.latitude)&&c.setLngLat([e.longitude,e.latitude]),e.offset&&!Kt(c.options.offset,e.offset)&&c.setOffset(e.offset),(c.options.anchor!==e.anchor||c.options.maxWidth!==e.maxWidth)&&(c.options.anchor=e.anchor,c.setMaxWidth(e.maxWidth)),c.options.className!==e.className)){const f=O0(c.options.className),d=O0(e.className);for(const m of f)d.has(m)||c.removeClassName(m);for(const m of d)f.has(m)||c.addClassName(m);c.options.className=e.className}return Jd.createPortal(e.children,o)}q.memo(q.forwardRef(w_));function Rs(e,r,i,a){const o=q.useContext(Pi),u=q.useMemo(()=>e(o),[]);return q.useEffect(()=>{const c=r,f=null,d=typeof r=="function"?r:null,{map:m}=o;return m.hasControl(u)||(m.addControl(u,c==null?void 0:c.position),f&&f(o)),()=>{d&&d(o),m.hasControl(u)&&m.removeControl(u)}},[]),u}function E_(e){const r=Rs(({mapLib:i})=>new i.AttributionControl(e),{position:e.position});return q.useEffect(()=>{Vn(r._container,e.style)},[e.style]),null}q.memo(E_);function x_(e){const r=Rs(({mapLib:i})=>new i.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return q.useEffect(()=>{Vn(r._controlContainer,e.style)},[e.style]),null}q.memo(x_);function S_(e,r){const i=q.useRef({props:e}),a=Rs(({mapLib:o})=>{const u=new o.GeolocateControl(e),c=u._setupUI;return u._setupUI=f=>{u._container.hasChildNodes()||c(f)},u.on("geolocate",f=>{var d,m;(m=(d=i.current.props).onGeolocate)===null||m===void 0||m.call(d,f)}),u.on("error",f=>{var d,m;(m=(d=i.current.props).onError)===null||m===void 0||m.call(d,f)}),u.on("outofmaxbounds",f=>{var d,m;(m=(d=i.current.props).onOutOfMaxBounds)===null||m===void 0||m.call(d,f)}),u.on("trackuserlocationstart",f=>{var d,m;(m=(d=i.current.props).onTrackUserLocationStart)===null||m===void 0||m.call(d,f)}),u.on("trackuserlocationend",f=>{var d,m;(m=(d=i.current.props).onTrackUserLocationEnd)===null||m===void 0||m.call(d,f)}),u},{position:e.position});return i.current.props=e,q.useImperativeHandle(r,()=>a,[]),q.useEffect(()=>{Vn(a._container,e.style)},[e.style]),null}q.memo(q.forwardRef(S_));function M_(e){const r=Rs(({mapLib:i})=>new i.NavigationControl(e),{position:e.position});return q.useEffect(()=>{Vn(r._container,e.style)},[e.style]),null}const C_=q.memo(M_);function P_(e){const r=Rs(({mapLib:u})=>new u.ScaleControl(e),{position:e.position}),i=q.useRef(e),a=i.current;i.current=e;const{style:o}=e;return e.maxWidth!==void 0&&e.maxWidth!==a.maxWidth&&(r.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==a.unit&&r.setUnit(e.unit),q.useEffect(()=>{Vn(r._container,o)},[o]),null}q.memo(P_);function lo(e,r){if(!e)throw new Error(r)}function A_(e,r,i,a){if(lo(i.id===a.id,"layer id changed"),lo(i.type===a.type,"layer type changed"),i.type==="custom"||a.type==="custom")return;const{layout:o={},paint:u={},filter:c,minzoom:f,maxzoom:d,beforeId:m}=i;if(m!==a.beforeId&&e.moveLayer(r,m),o!==a.layout){const g=a.layout||{};for(const y in o)Kt(o[y],g[y])||e.setLayoutProperty(r,y,o[y]);for(const y in g)o.hasOwnProperty(y)||e.setLayoutProperty(r,y,void 0)}if(u!==a.paint){const g=a.paint||{};for(const y in u)Kt(u[y],g[y])||e.setPaintProperty(r,y,u[y]);for(const y in g)u.hasOwnProperty(y)||e.setPaintProperty(r,y,void 0)}Kt(c,a.filter)||e.setFilter(r,c),(f!==a.minzoom||d!==a.maxzoom)&&e.setLayerZoomRange(r,f,d)}function D_(e,r,i){if(e.style&&e.style._loaded&&(!("source"in i)||e.getSource(i.source))){const a={...i,id:r};delete a.beforeId,e.addLayer(a,i.beforeId)}}let k_=0;function N_(e){const r=q.useContext(Pi).map.getMap(),i=q.useRef(e),[,a]=q.useState(0),o=q.useMemo(()=>e.id||`jsx-layer-${k_++}`,[]);if(q.useEffect(()=>{if(r){const c=()=>a(f=>f+1);return r.on("styledata",c),c(),()=>{r.off("styledata",c),r.style&&r.style._loaded&&r.getLayer(o)&&r.removeLayer(o)}}},[r]),r&&r.style&&r.getLayer(o))try{A_(r,o,e,i.current)}catch(c){console.warn(c)}else D_(r,o,e);return i.current=e,null}let b_=0;function T_(e,r,i){if(e.style&&e.style._loaded){const a={...i};return delete a.id,delete a.children,e.addSource(r,a),e.getSource(r)}return null}function L_(e,r,i){lo(r.id===i.id,"source id changed"),lo(r.type===i.type,"source type changed");let a="",o=0;for(const c in r)c!=="children"&&c!=="id"&&!Kt(i[c],r[c])&&(a=c,o++);if(!o)return;const u=r.type;u==="geojson"?e.setData(r.data):u==="image"?e.updateImage({url:r.url,coordinates:r.coordinates}):"setCoordinates"in e&&o===1&&a==="coordinates"?e.setCoordinates(r.coordinates):"setUrl"in e&&a==="url"?e.setUrl(r.url):"setTiles"in e&&a==="tiles"?e.setTiles(r.tiles):console.warn(`Unable to update <Source> prop: ${a}`)}function R_(e){const r=q.useContext(Pi).map.getMap(),i=q.useRef(e),[,a]=q.useState(0),o=q.useMemo(()=>e.id||`jsx-source-${b_++}`,[]);q.useEffect(()=>{if(r){const c=()=>setTimeout(()=>a(f=>f+1),0);return r.on("styledata",c),c(),()=>{var f;if(r.off("styledata",c),r.style&&r.style._loaded&&r.getSource(o)){const d=(f=r.getStyle())===null||f===void 0?void 0:f.layers;if(d)for(const m of d)m.source===o&&r.removeLayer(m.id);r.removeSource(o)}}}},[r]);let u=r&&r.style&&r.getSource(o);return u?L_(u,e,i.current):u=T_(r,o,e),i.current=e,u&&q.Children.map(e.children,c=>c&&q.cloneElement(c,{source:o}))||null}const G_=ws(()=>import("./maplibre-gl-C6t774r3.js").then(e=>e.m),[],import.meta.url),F_=q.forwardRef(function(r,i){return y_(r,i,G_)}),O_=C_,Xt=N_,Sl=R_,I_={id:"geometry-fill",type:"fill",source:"geometry-source",paint:{"fill-color":"#3b82f6","fill-opacity":.2},filter:["==","$type","Polygon"]},j_={id:"geometry-line",type:"line",source:"geometry-source",paint:{"line-color":"#2563eb","line-width":2},filter:["in","$type","LineString","Polygon"]},B_={id:"geometry-point",type:"circle",source:"geometry-source",paint:{"circle-radius":6,"circle-color":"#2563eb","circle-stroke-color":"#ffffff","circle-stroke-width":2},filter:["==","$type","Point"]},z_={id:"geometry-fill-hover",type:"fill",source:"geometry-source",paint:{"fill-color":"#8b5cf6","fill-opacity":.3}},U_={id:"geometry-line-hover",type:"line",source:"geometry-source",paint:{"line-color":"#7c3aed","line-width":3}},q_={id:"geometry-point-hover",type:"circle",source:"geometry-source",paint:{"circle-radius":8,"circle-color":"#8b5cf6","circle-stroke-color":"#ffffff","circle-stroke-width":2}},$_={id:"geometry-fill-selected",type:"fill",source:"geometry-source",paint:{"fill-color":"#f97316","fill-opacity":.4}},V_={id:"geometry-line-selected",type:"line",source:"geometry-source",paint:{"line-color":"#ea580c","line-width":4}},W_={id:"geometry-point-selected",type:"circle",source:"geometry-source",paint:{"circle-radius":10,"circle-color":"#f97316","circle-stroke-color":"#ffffff","circle-stroke-width":3}},H_={id:"envelope-fill",type:"fill",source:"envelope-source",paint:{"fill-color":"#10b981","fill-opacity":.1}},Q_={id:"envelope-line",type:"line",source:"envelope-source",paint:{"line-color":"#059669","line-width":2,"line-dasharray":[4,2]}};function X_({features:e,selectedFeatureId:r,hoveredFeatureId:i,isEnvelopeHovered:a,envelope:o}){const u=q.useMemo(()=>{const C=r?["==","id",r]:null,L=i&&i!==r?["==","id",i]:null;let M;return r&&i&&i!==r?M=["all",["!=","id",r],["!=","id",i]]:r?M=["!=","id",r]:i&&(M=["!=","id",i]),{selectedFilter:C,hoverFilter:L,baseExcludeFilter:M}},[r,i]),c=q.useMemo(()=>{if(!a||!o)return null;const[C,L,M,F]=o;return{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[C,L],[M,L],[M,F],[C,F],[C,L]]]},properties:{}}]}},[a,o]);if(e.length===0)return null;const f={type:"FeatureCollection",features:e.map(C=>({...C,properties:{...C.properties,id:C.id}}))},{selectedFilter:d,hoverFilter:m,baseExcludeFilter:g}=u,y=g?["all",["==","$type","Polygon"],g]:["==","$type","Polygon"],v=g?["all",["in","$type","LineString","Polygon"],g]:["in","$type","LineString","Polygon"],S=g?["all",["==","$type","Point"],g]:["==","$type","Point"];return T.jsxs(T.Fragment,{children:[T.jsxs(Sl,{id:"geometry-source",type:"geojson",data:f,children:[T.jsx(Xt,{...I_,filter:y}),T.jsx(Xt,{...j_,filter:v}),T.jsx(Xt,{...B_,filter:S}),m&&T.jsxs(T.Fragment,{children:[T.jsx(Xt,{...z_,filter:["all",["==","$type","Polygon"],m]}),T.jsx(Xt,{...U_,filter:["all",["in","$type","LineString","Polygon"],m]}),T.jsx(Xt,{...q_,filter:["all",["==","$type","Point"],m]})]}),d&&T.jsxs(T.Fragment,{children:[T.jsx(Xt,{...$_,filter:["all",["==","$type","Polygon"],d]}),T.jsx(Xt,{...V_,filter:["all",["in","$type","LineString","Polygon"],d]}),T.jsx(Xt,{...W_,filter:["all",["==","$type","Point"],d]})]})]}),c&&T.jsxs(Sl,{id:"envelope-source",type:"geojson",data:c,children:[T.jsx(Xt,{...H_}),T.jsx(Xt,{...Q_})]})]})}function K_({viewState:e,onViewStateChange:r,basemap:i,features:a,selectedFeatureId:o,hoveredFeatureId:u,isEnvelopeHovered:c,envelope:f,isDrawing:d,drawingPreview:m,onMapClick:g,children:y}){const v=q.useRef(null),S=q.useCallback(M=>{r({longitude:M.viewState.longitude,latitude:M.viewState.latitude,zoom:M.viewState.zoom})},[r]),C=q.useCallback(M=>{g({lng:M.lngLat.lng,lat:M.lngLat.lat})},[g]),L=i==="satellite"?"https://api.maptiler.com/maps/hybrid/style.json?key=get_your_own_key":"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json";return T.jsxs(F_,{ref:v,...e,onMove:S,onClick:C,mapStyle:L,style:{width:"100%",height:"100%"},cursor:d?"crosshair":void 0,children:[T.jsx(O_,{position:"top-right"}),y,m&&T.jsxs(Sl,{id:"drawing-preview",type:"geojson",data:m,children:[T.jsx(Xt,{id:"drawing-preview-line",type:"line",paint:{"line-color":"#f97316","line-width":2,"line-dasharray":[2,2]},filter:["==","$type","LineString"]}),T.jsx(Xt,{id:"drawing-preview-points",type:"circle",paint:{"circle-radius":6,"circle-color":"#f97316","circle-stroke-color":"#ffffff","circle-stroke-width":2},filter:["==","$type","Point"]})]}),T.jsx(X_,{features:a,selectedFeatureId:o,hoveredFeatureId:u,isEnvelopeHovered:c,envelope:f})]})}const Yd=Ps(e=>({mode:"none",currentPoints:[],setMode:r=>{e({mode:r,currentPoints:[]})},addPoint:r=>{e(i=>({currentPoints:[...i.currentPoints,r]}))},clearPoints:()=>{e({currentPoints:[]})},reset:()=>{e({mode:"none",currentPoints:[]})}}));function J_(e,r){let i;try{i=e()}catch{return}return{getItem:o=>{var u;const c=d=>d===null?null:JSON.parse(d,void 0),f=(u=i.getItem(o))!=null?u:null;return f instanceof Promise?f.then(c):c(f)},setItem:(o,u)=>i.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>i.removeItem(o)}}const Ml=e=>r=>{try{const i=e(r);return i instanceof Promise?i:{then(a){return Ml(a)(i)},catch(a){return this}}}catch(i){return{then(a){return this},catch(a){return Ml(a)(i)}}}},Y_=(e,r)=>(i,a,o)=>{let u={storage:J_(()=>localStorage),partialize:M=>M,version:0,merge:(M,F)=>({...F,...M}),...r},c=!1,f=0;const d=new Set,m=new Set;let g=u.storage;if(!g)return e((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...M)},a,o);const y=()=>{const M=u.partialize({...a()});return g.setItem(u.name,{state:M,version:u.version})},v=o.setState;o.setState=(M,F)=>(v(M,F),y());const S=e((...M)=>(i(...M),y()),a,o);o.getInitialState=()=>S;let C;const L=()=>{var M,F;if(!g)return;const N=++f;c=!1,d.forEach(I=>{var Q;return I((Q=a())!=null?Q:S)});const R=((F=u.onRehydrateStorage)==null?void 0:F.call(u,(M=a())!=null?M:S))||void 0;return Ml(g.getItem.bind(g))(u.name).then(I=>{if(I)if(typeof I.version=="number"&&I.version!==u.version){if(u.migrate){const Q=u.migrate(I.state,I.version);return Q instanceof Promise?Q.then(O=>[!0,O]):[!0,Q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,I.state];return[!1,void 0]}).then(I=>{var Q;if(N!==f)return;const[O,j]=I;if(C=u.merge(j,(Q=a())!=null?Q:S),i(C,!0),O)return y()}).then(()=>{N===f&&(R==null||R(C,void 0),C=a(),c=!0,m.forEach(I=>I(C)))}).catch(I=>{N===f&&(R==null||R(void 0,I))})};return o.persist={setOptions:M=>{u={...u,...M},M.storage&&(g=M.storage)},clearStorage:()=>{g==null||g.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>L(),hasHydrated:()=>c,onHydrate:M=>(d.add(M),()=>{d.delete(M)}),onFinishHydration:M=>(m.add(M),()=>{m.delete(M)})},u.skipHydration||L(),C||S},Z_=Y_,ew=33.33,ql=Ps()(Z_(e=>({theme:"system",leftPanelWidthPercent:ew,autoPanToGeometry:!0,mapProvider:"maplibre",setTheme:r=>{e({theme:r})},setLeftPanelWidthPercent:r=>{e({leftPanelWidthPercent:r})},setAutoPanToGeometry:r=>{e({autoPanToGeometry:r})},toggleAutoPanToGeometry:()=>{e(r=>({autoPanToGeometry:!r.autoPanToGeometry}))},setMapProvider:r=>{e({mapProvider:r})}}),{name:"geofiddle-preferences"}));function Zd(e){const{geometry:r,rawText:i,inputFormat:a,inputProjection:o,detectedFormat:u,detectedProjection:c}=e,f=a!=="auto"?a:u??"geojson",d=o!=="auto"?o:c??"EPSG:4326",g={type:"Feature",geometry:d!=="EPSG:4326"?xn(r,"EPSG:4326",d):r,properties:{}},y=i.trim();if(!y)return{newText:Un([g],f,{projection:d}),effectiveFormat:f,effectiveProjection:d};const v=wl(y,f);if(v.features.length>0){const C=[...v.features,g];return{newText:Un(C,f,{projection:d}),effectiveFormat:f,effectiveProjection:d}}const S=Vd(y);if(S&&S!==f){const C=wl(y,S);if(C.features.length>0){const L=[...C.features,g];return{newText:Un(L,S,{projection:d}),effectiveFormat:S,effectiveProjection:d}}}return{newText:Un([g],f,{projection:d}),effectiveFormat:f,effectiveProjection:d}}function tw({onFitBounds:e,hasFeatures:r=!1}){const{mode:i,setMode:a,currentPoints:o,reset:u}=Yd(),{rawText:c,inputFormat:f,inputProjection:d,detectedFormat:m,detectedProjection:g,setRawText:y}=Sr(),{autoPanToGeometry:v,toggleAutoPanToGeometry:S,mapProvider:C,setMapProvider:L}=ql(),M=q.useCallback(()=>{L(C==="maplibre"?"google":"maplibre")},[C,L]),F=q.useCallback(O=>{i===O?u():a(O)},[i,a,u]),N=q.useCallback(()=>{if(o.length===0){u();return}let O=null;const j=o[0];if(i==="point"&&o.length>=1&&j?O={type:"Point",coordinates:j}:i==="line"&&o.length>=2?O={type:"LineString",coordinates:o}:i==="polygon"&&o.length>=3&&j&&(O={type:"Polygon",coordinates:[[...o,j]]}),O){const se=Zd({geometry:O,rawText:c,inputFormat:f,inputProjection:d,detectedFormat:m,detectedProjection:g});y(se.newText)}u()},[i,o,c,f,d,m,g,y,u]),R=q.useCallback(()=>{u()},[u]),I=i!=="none",Q=i==="point"&&o.length>=1||i==="line"&&o.length>=2||i==="polygon"&&o.length>=3;return T.jsxs("div",{className:"absolute left-2 top-2 flex flex-col gap-1",children:[T.jsxs("div",{className:"flex gap-1 rounded bg-white p-1 shadow-md",children:[T.jsx("button",{onClick:()=>{F("point")},className:`flex h-8 w-8 items-center justify-center rounded transition-colors ${i==="point"?"bg-primary-500 text-white":"text-neutral-700 hover:bg-neutral-100"}`,title:"Draw point","aria-label":"Draw point","aria-pressed":i==="point",children:T.jsx($0,{className:"h-4 w-4"})}),T.jsx("button",{onClick:()=>{F("line")},className:`flex h-8 w-8 items-center justify-center rounded transition-colors ${i==="line"?"bg-primary-500 text-white":"text-neutral-700 hover:bg-neutral-100"}`,title:"Draw line","aria-label":"Draw line","aria-pressed":i==="line",children:T.jsx(xp,{className:"h-4 w-4"})}),T.jsx("button",{onClick:()=>{F("polygon")},className:`flex h-8 w-8 items-center justify-center rounded transition-colors ${i==="polygon"?"bg-primary-500 text-white":"text-neutral-700 hover:bg-neutral-100"}`,title:"Draw polygon","aria-label":"Draw polygon","aria-pressed":i==="polygon",children:T.jsx(W0,{className:"h-4 w-4"})}),T.jsx("div",{className:"mx-0.5 w-px self-stretch bg-neutral-200"}),T.jsx("button",{onClick:S,className:`flex h-8 w-8 items-center justify-center rounded transition-colors ${v?"bg-primary-500 text-white":"text-neutral-700 hover:bg-neutral-100"}`,title:v?"Auto-pan enabled (click to disable)":"Auto-pan disabled (click to enable)","aria-label":v?"Disable auto-pan to geometry":"Enable auto-pan to geometry","aria-pressed":v,children:v?T.jsx(_p,{className:"h-4 w-4"}):T.jsx(wp,{className:"h-4 w-4"})}),r&&e&&T.jsx("button",{onClick:e,className:"flex h-8 w-8 items-center justify-center rounded text-neutral-700 transition-colors hover:bg-neutral-100",title:"Fit map to geometry","aria-label":"Fit map to geometry",children:T.jsx(Ep,{className:"h-4 w-4"})}),T.jsx("div",{className:"mx-0.5 w-px self-stretch bg-neutral-200"}),T.jsx("button",{onClick:M,className:"flex h-8 w-8 items-center justify-center rounded text-neutral-700 transition-colors hover:bg-neutral-100",title:C==="maplibre"?"Switch to Google Maps":"Switch to MapLibre","aria-label":C==="maplibre"?"Switch to Google Maps":"Switch to MapLibre",children:C==="maplibre"?T.jsx(V0,{className:"h-4 w-4"}):T.jsx(mp,{className:"h-4 w-4"})})]}),I&&T.jsxs("div",{className:"rounded bg-white p-2 shadow-md",children:[T.jsxs("div",{className:"mb-2 text-xs text-neutral-600",children:[i==="point"&&"Click to place point",i==="line"&&`Click to add points (${String(o.length)} added)`,i==="polygon"&&`Click to add vertices (${String(o.length)} added)`]}),T.jsxs("div",{className:"flex gap-1",children:[T.jsxs("button",{onClick:N,disabled:!Q,className:"flex flex-1 items-center justify-center gap-1 rounded bg-primary-500 px-2 py-1 text-xs text-white hover:bg-primary-600 disabled:opacity-50",children:[T.jsx(ap,{className:"h-3 w-3"}),"Finish"]}),T.jsx("button",{onClick:R,className:"flex items-center justify-center rounded border border-neutral-300 px-2 py-1 text-xs text-neutral-700 hover:bg-neutral-100",children:T.jsx(Dp,{className:"h-3 w-3"})})]})]})]})}const rw=q.lazy(()=>ws(()=>import("./index-BpyC5ojK.js"),[],import.meta.url).then(e=>({default:e.GoogleMap})));function I0(e){const r=[],i=a=>{if(!a)return;if(a.type==="GeometryCollection"){for(const u of a.geometries)i(u);return}const o=u=>{if(Array.isArray(u))if(typeof u[0]=="number"&&typeof u[1]=="number")r.push(u);else for(const c of u)o(c)};o(a.coordinates)};for(const a of e)i(a.geometry);return r}function nw(){return T.jsx("div",{className:"flex h-full w-full items-center justify-center bg-neutral-100",children:T.jsx("div",{className:"text-neutral-600",children:"Loading map..."})})}function e2(){const{viewState:e,setViewState:r,basemap:i,panToFeatureId:a,clearPanToFeature:o,isEnvelopeHovered:u}=Ul(),{features:c,selectedFeatureId:f,hoveredFeatureId:d,rawText:m,inputFormat:g,inputProjection:y,detectedFormat:v,detectedProjection:S,setCoordinateError:C,setRawText:L}=Sr(),{mode:M,currentPoints:F,addPoint:N,reset:R}=Yd(),{autoPanToGeometry:I,mapProvider:Q}=ql(),O=q.useMemo(()=>{if(y!=="auto")return y;if(S)return S;if(c.length>0){const H=I0(c);return Ts(H)}return"EPSG:4326"},[y,S,c]),{transformedFeatures:j,coordinateError:se}=q.useMemo(()=>{if(c.length===0)return{transformedFeatures:[],coordinateError:null};const H=O==="EPSG:4326"?c:c.map(P=>({...P,geometry:xn(P.geometry,O,"EPSG:4326")})),J=I0(H),X=wd(J);if(!X.valid&&X.invalidCoord){const[P,V]=X.invalidCoord;return{transformedFeatures:[],coordinateError:`Coordinates out of range for WGS84: (${String(P)}, ${String(V)}). Longitude must be -180 to 180, latitude must be -90 to 90. Try selecting a different input projection.`}}return{transformedFeatures:H,coordinateError:null}},[c,O]);q.useEffect(()=>{C(se)},[se,C]);const D=q.useCallback(()=>{if(j.length===0)return null;const H=xl(j),J=eo(H);if(!J.every(de=>isFinite(de)))return null;const[X,P,V,ue]=J,ie=(X+V)/2,ae=(P+ue)/2,ge=ue-P,xe=V-X,ce=Math.max(ge,xe);let Se=10;return ce>0&&(Se=Math.floor(Math.log2(360/ce))-1,Se=Math.max(1,Math.min(Se,18))),{longitude:ie,latitude:ae,zoom:Se}},[j]),x=q.useCallback(()=>{const H=D();H&&r(H)},[D,r]);q.useEffect(()=>{I&&x()},[I,x]),q.useEffect(()=>{if(!a)return;const H=j.find(J=>J.id===a);if(!H){o();return}try{const J=eo(H);if(!J.every(de=>isFinite(de))){o();return}const[X,P,V,ue]=J,ie=(X+V)/2,ae=(P+ue)/2,ge=ue-P,xe=V-X,ce=Math.max(ge,xe);let Se=14;ce>0&&(Se=Math.floor(Math.log2(360/ce))-1,Se=Math.max(1,Math.min(Se,18))),r({longitude:ie,latitude:ae,zoom:Se})}finally{o()}},[a,j,r,o]);const U=q.useCallback(H=>{if(M==="none")return;const{lng:J,lat:X}=H,P=[J,X];if(M==="point"){const V=Zd({geometry:{type:"Point",coordinates:P},rawText:m,inputFormat:g,inputProjection:y,detectedFormat:v,detectedProjection:S});L(V.newText),R()}else N(P)},[M,m,g,y,v,S,L,N,R]),K=q.useMemo(()=>{if(M==="none"||F.length===0)return null;const H=[];if(F.forEach((J,X)=>{H.push({type:"Feature",geometry:{type:"Point",coordinates:J},properties:{index:X}})}),F.length>=2){const J=F[0],X=M==="polygon"&&F.length>=3&&J?[...F,J]:F;H.push({type:"Feature",geometry:{type:"LineString",coordinates:X},properties:{}})}return{type:"FeatureCollection",features:H}},[M,F]),Y=j.length>0,ne=M!=="none",pe=q.useMemo(()=>{if(j.length===0)return null;try{const H=xl(j),J=eo(H);return J.every(X=>isFinite(X))?J:null}catch{return null}},[j]),_e={viewState:e,onViewStateChange:r,basemap:i,features:j,selectedFeatureId:f,hoveredFeatureId:d,isEnvelopeHovered:u,envelope:pe,isDrawing:ne,drawingPreview:K,onMapClick:U},fe=T.jsx(tw,{onFitBounds:x,hasFeatures:Y});return Q==="google"?T.jsx(q.Suspense,{fallback:T.jsx(nw,{}),children:T.jsx(rw,{..._e,children:fe})}):T.jsx(K_,{..._e,children:fe})}function iw(){const[e,r]=q.useState("input");return T.jsxs("main",{id:"main-content",className:"flex flex-1 flex-col overflow-hidden",role:"main",children:[T.jsx("div",{className:"flex-1 overflow-hidden",children:e==="input"?T.jsx("div",{className:"h-full overflow-y-auto",children:T.jsx(Kd,{})}):T.jsx(e2,{})}),T.jsxs("nav",{className:"flex shrink-0 border-t border-neutral-200 bg-white dark:border-neutral-700 dark:bg-neutral-900",role:"tablist","aria-label":"Main navigation",children:[T.jsxs("button",{role:"tab","aria-selected":e==="input","aria-controls":"input-panel",onClick:()=>{r("input")},className:`flex flex-1 items-center justify-center gap-1.5 py-2 text-xs font-medium transition-colors ${e==="input"?"text-primary-600 dark:text-primary-400":"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200"}`,children:[T.jsx(pp,{className:"h-4 w-4"}),T.jsx("span",{children:"Input"})]}),T.jsxs("button",{role:"tab","aria-selected":e==="map","aria-controls":"map-panel",onClick:()=>{r("map")},className:`flex flex-1 items-center justify-center gap-1.5 py-2 text-xs font-medium transition-colors ${e==="map"?"text-primary-600 dark:text-primary-400":"text-neutral-500 hover:text-neutral-700 dark:text-neutral-400 dark:hover:text-neutral-200"}`,children:[T.jsx(V0,{className:"h-4 w-4"}),T.jsx("span",{children:"Map"})]})]})]})}const j0=768;function sw(){const[e,r]=q.useState(()=>typeof window>"u"?!1:window.innerWidth<j0);return q.useEffect(()=>{const i=window.matchMedia(`(max-width: ${String(j0-1)}px)`),a=o=>{r(o.matches)};return r(i.matches),i.addEventListener("change",a),()=>{i.removeEventListener("change",a)}},[]),e}const aw=20,ow=66.67;function uw(){const{theme:e,setTheme:r,leftPanelWidthPercent:i,setLeftPanelWidthPercent:a}=ql(),o=sw();return q.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),e==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(c)}else u.classList.add(e)},[e]),q.useEffect(()=>{if(e!=="system")return;const u=window.matchMedia("(prefers-color-scheme: dark)"),c=f=>{const d=window.document.documentElement;d.classList.remove("light","dark"),d.classList.add(f.matches?"dark":"light")};return u.addEventListener("change",c),()=>{u.removeEventListener("change",c)}},[e]),T.jsxs("div",{className:"flex h-full flex-col",children:[T.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),T.jsx(kp,{theme:e,onThemeChange:r}),o?T.jsx(iw,{}):T.jsx(Np,{left:T.jsx(Kd,{}),right:T.jsx(e2,{}),leftWidthPercent:i,minLeftWidthPercent:aw,maxLeftWidthPercent:ow,onLeftWidthPercentChange:a})]})}function lw(e){const r=[],i=a=>{if(!a)return;if(a.type==="GeometryCollection"){for(const u of a.geometries)i(u);return}const o=u=>{if(Array.isArray(u))if(typeof u[0]=="number"&&typeof u[1]=="number")r.push(u);else for(const c of u)o(c)};"coordinates"in a&&o(a.coordinates)};for(const a of e)i(a.geometry);return r}const cw=100*1024,fw=150;function hw(){const{rawText:e,inputFormat:r,inputProjection:i,setFeatures:a,setParseError:o,setDetectedFormat:u,setDetectedProjection:c,setIsParsing:f}=Sr(),d=q.useRef(null),m=q.useRef(0),g=q.useRef();q.useEffect(()=>()=>{d.current&&(d.current.terminate(),d.current=null),g.current&&clearTimeout(g.current)},[]);const y=q.useCallback(()=>(d.current||(d.current=new Worker(new URL(""+new URL("parser.worker-CYYFt2qn.js",import.meta.url).href,import.meta.url),{type:"module"})),d.current),[]),v=q.useCallback(C=>{const L=y(),M=++m.current;f(!0),L.onmessage=N=>{const R=N.data;R.id===m.current&&(f(!1),R.parseError?o(R.parseError):a(R.features),u(R.detectedFormat),c(R.detectedProjection))},L.onerror=N=>{f(!1),o(`Worker error: ${N.message}`)};const F={id:M,rawText:C,inputFormat:r,inputProjection:i};L.postMessage(F)},[y,r,i,a,o,u,c,f]),S=q.useCallback(async C=>{const{parse:L}=await ws(async()=>{const{parse:O}=await Promise.resolve().then(()=>c8);return{parse:O}},void 0,import.meta.url),{detectFormat:M,detectProjection:F}=await ws(async()=>{const{detectFormat:O,detectProjection:j}=await import("./format-detection-edb_HvOL.js");return{detectFormat:O,detectProjection:j}},[],import.meta.url),{detectProjectionFromCoordinates:N}=await ws(async()=>{const{detectProjectionFromCoordinates:O}=await Promise.resolve().then(()=>U4);return{detectProjectionFromCoordinates:O}},void 0,import.meta.url);if(!C.trim()){a([]),u(null),c(null);return}const R=r==="auto"?M(C):r,I=r==="auto"?R:null;if(!R){o("Could not auto-detect format. Please select a format manually.");return}let Q=i==="auto"?F(C,R):null;try{const O=L(C,R);if(O.errors.length>0)o(O.errors.map(j=>j.message).join(`
`));else if(a(O.features),i==="auto"&&!Q&&!O.detectedProjection&&O.features.length>0){const j=lw(O.features);j.length>0&&(Q=N(j))}u(I),c(Q??O.detectedProjection??null)}catch(O){o(O instanceof Error?O.message:"Parsing failed")}},[r,i,a,o,u,c]);q.useEffect(()=>{if(g.current&&clearTimeout(g.current),!e.trim()){a([]),u(null),c(null),f(!1);return}return g.current=setTimeout(()=>{e.length>cw?v(e):S(e)},fw),()=>{g.current&&clearTimeout(g.current)}},[e,r,i,v,S,a,u,c,f])}function dw(){const{rawText:e,inputFormat:r,inputProjection:i,setRawText:a,setInputFormat:o,setInputProjection:u}=Sr(),{setOutputFormat:c,setOutputProjection:f}=Ls(),d=q.useRef(!0),m=q.useRef(!1);q.useEffect(()=>{const g=window.location.hash.slice(1);if(!g){d.current=!1;return}try{const y=B0(g);y.format&&(o(y.format),c(y.format==="auto"?"geojson":y.format)),y.projection&&(u(y.projection),f(y.projection==="auto"?"EPSG:4326":y.projection)),y.geometry&&(m.current=!0,a(y.geometry))}catch(y){console.warn("Failed to parse URL hash:",y)}d.current=!1},[a,o,u,c,f]),q.useEffect(()=>{if(d.current)return;if(m.current){m.current=!1;return}const g=gw({format:r,projection:i,geometry:e}),y=g?`#${g}`:window.location.pathname;window.history.replaceState(null,"",y)},[e,r,i]),q.useEffect(()=>{const g=()=>{const y=window.location.hash.slice(1);if(y)try{const v=B0(y);m.current=!0,v.format&&o(v.format),v.projection&&u(v.projection),v.geometry&&a(v.geometry)}catch(v){console.warn("Failed to parse URL hash:",v)}};return window.addEventListener("hashchange",g),()=>{window.removeEventListener("hashchange",g)}},[a,o,u])}const pw={auto:"auto","EPSG:4326":"wgs84","EPSG:27700":"bng","EPSG:3857":"web-mercator"},mw={auto:"auto",wgs84:"EPSG:4326",bng:"EPSG:27700","web-mercator":"EPSG:3857","EPSG:4326":"EPSG:4326","EPSG:27700":"EPSG:27700","EPSG:3857":"EPSG:3857"};function B0(e){const r=e.split("/"),i={};if(r[0]&&(i.format=decodeURIComponent(r[0])),r[1]){const a=decodeURIComponent(r[1]);i.projection=mw[a]??"auto"}return r[2]&&(i.geometry=decodeURIComponent(r[2])),i}function gw(e){var u;if(!((u=e.geometry)!=null&&u.trim()))return"";const r=encodeURIComponent(e.format??"auto"),i=e.projection??"auto",a=encodeURIComponent(pw[i]),o=encodeURIComponent(e.geometry);return`${r}/${a}/${o}`}function yw(){return dw(),hw(),T.jsx(uw,{})}const t2=document.getElementById("root");if(!t2)throw new Error("Failed to find root element");tp.createRoot(t2).render(T.jsx(q.StrictMode,{children:T.jsx(yw,{})}));export{Vd as d,W1 as g,T as j,q as r};
//# sourceMappingURL=index-BX0X2oGC.js.map
